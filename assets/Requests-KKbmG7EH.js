import{v as V,j as e,d as R,I as C,g as re,a3 as et,E as Qe,F as qe,r as i,G as at,K as se,H as q,M as tt,J as g,O as rt,Q as nt,T as ot,U as st,P as H,a4 as ea,V as ct,a5 as aa,N as it,a6 as dt,W as lt,X as ut,Z as mt,Y as pt,_ as $e,f as Oe,a as ze,h as xt,q as Le,l as Fe,c as xe,w as ft,o as ht,a1 as bt,e as Y,i as T,s as gt,p as vt,t as Nt,n as Ge,m as jt}from"./index-zZ0VZZ4p.js";import{C as he,a as yt}from"./calendar-B9_EqBkT.js";import{d as ta,R as wt,I as Mt,T as Ct,a as Dt,b as Be,c as Ke}from"./tabs-BhBb3kdP.js";import{B as fe}from"./badge-CucsVBSM.js";import{D as _t,e as Rt,f as Et,g as St,S as Ue,a as Ve,b as He,c as Xe,d as $,h as kt,C as Pt}from"./dialog-CO3Lc6Ku.js";import{u as It}from"./index-crZK1vcL.js";import{C as At}from"./chevron-right-BSo9J0aP.js";import{C as Tt}from"./format-Cu5othT5.js";import{H as be}from"./history-DHKQCMmI.js";import{T as Ye,P as $t}from"./trash-2-BdXGZdJo.js";import{A as Ot}from"./arrow-right-Z0ei38Y4.js";import"./index-DPxdIXPI.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=V("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=V("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=V("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=V("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=V("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=V("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]),J=[{value:"vacation",label:"Vacaciones",description:"Tiempo libre para viajes o descanso",icon:ye,color:"text-primary-foreground"},{value:"paid-leave",label:"Permiso Remunerado",description:"Permiso personal o por enfermedad",icon:ge,color:"text-primary-foreground"},{value:"unpaid-leave",label:"Permiso No Remunerado",description:"Tiempo libre sin pago",icon:zt,color:"text-primary-foreground"},{value:"birthday-leave",label:"Día de Cumpleaños",description:"Día libre por tu cumpleaños",icon:ve,color:"text-primary-foreground"}],Lt=({dialogType:a,setDialogType:n,form:t,setForm:o,submitRequest:s,isMobile:d,isOperations:u,emailRecipient:c,setEmailRecipient:p,activeConfig:m})=>e.jsx(_t,{open:!!a,onOpenChange:r=>!r&&n(null),children:e.jsxs(Rt,{className:R(d?"w-full h-full max-w-full max-h-full m-0 rounded-none p-4":"sm:max-w-2xl lg:max-w-3xl"),children:[e.jsx(Et,{children:e.jsxs(St,{className:"flex items-center gap-2 text-xl",children:[m&&e.jsx(m.icon,{className:R("h-6 w-6",m.color)}),"Nueva solicitud: ",m==null?void 0:m.label]})}),e.jsx("div",{className:"grid gap-4 md:gap-6 py-3 md:py-4 overflow-y-auto max-h-[calc(100vh-160px)] md:max-h-[75vh] px-1",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Nombre Completo *"}),e.jsx(C,{value:t.fullName,onChange:r=>o({...t,fullName:r.target.value}),placeholder:"Ej: Juan Pérez",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Documento de Identidad *"}),e.jsx(C,{value:t.idDocument,onChange:r=>o({...t,idDocument:r.target.value}),placeholder:"Ej: 1234567890",className:"h-11"})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Cargo *"}),e.jsx(C,{value:t.role,onChange:r=>o({...t,role:r.target.value}),placeholder:"Ej: Analista/Librero",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Sede *"}),e.jsxs(Ue,{value:t.branch,onValueChange:r=>o({...t,branch:r}),children:[e.jsx(Ve,{className:"h-11",children:e.jsx(He,{placeholder:"Selecciona una sede"})}),e.jsxs(Xe,{children:[e.jsx($,{value:"Bukz Las Lomas",children:"Bukz Las Lomas"}),e.jsx($,{value:"Bukz Viva Envigado",children:"Bukz Viva Envigado"}),e.jsx($,{value:"Bukz Museo",children:"Bukz Museo"}),e.jsx($,{value:"Bukz Cedi",children:"Bukz Cedi"}),e.jsx($,{value:"Bukz Administrativo",children:"Bukz Administrativo"}),e.jsx($,{value:"Bukz Bogota 109",children:"Bukz Bogota 109"})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Jefe Inmediato *"}),e.jsx(C,{value:t.supervisor,onChange:r=>o({...t,supervisor:r.target.value}),placeholder:"Ej: María González",className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Celular *"}),e.jsx(C,{value:t.phoneNumber,onChange:r=>o({...t,phoneNumber:r.target.value}),placeholder:"Ej: 3001234567",className:"h-11"})]})]}),e.jsxs("div",{className:"pt-4 border-t border-border mt-2",children:[a==="vacation"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-base font-semibold",children:"Período de Vacaciones"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-3 text-center sm:text-left",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Fecha Inicio *"}),e.jsx(C,{type:"date",value:t.startDate,onChange:r=>o({...t,startDate:r.target.value}),className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Fecha Fin *"}),e.jsx(C,{type:"date",value:t.endDate,onChange:r=>o({...t,endDate:r.target.value}),className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground uppercase tracking-wider font-semibold",children:"Reingreso *"}),e.jsx(C,{type:"date",value:t.returnDate,onChange:r=>o({...t,returnDate:r.target.value}),className:"h-11"})]})]}),e.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/20 p-4 text-sm text-foreground leading-relaxed shadow-sm",children:[e.jsx("strong",{className:"text-primary",children:"Nota:"})," Las solicitudes de vacaciones deben realizarse con al menos 15 días de anticipación para garantizar la cobertura de la operación."]})]}),a==="birthday-leave"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-base font-semibold",children:"Fecha del Día de Cumpleaños"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Fecha *"}),e.jsx(C,{type:"date",value:t.startDate,onChange:r=>o({...t,startDate:r.target.value,endDate:r.target.value}),className:"max-w-[240px] h-11"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Selecciona la fecha en la que deseas tomar tu día de cumpleaños"})]}),e.jsxs("div",{className:"rounded-lg bg-amber-500/5 border border-amber-500/20 p-4 text-sm text-amber-800 dark:text-amber-200 leading-relaxed shadow-sm",children:[e.jsx("strong",{className:"text-amber-700 dark:text-amber-400",children:"Nota:"})," El día de cumpleaños es un beneficio otorgado por la empresa. Tu confirmación será enviada a tu jefe directo y al correo de tu sede. Asegúrate de solicitarlo con la debida anticipación."]})]}),(a==="paid-leave"||a==="unpaid-leave")&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h4",{className:"text-base font-semibold",children:"Detalles del Permiso"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Motivo del Permiso *"}),e.jsx(C,{value:t.reason,onChange:r=>o({...t,reason:r.target.value}),placeholder:"Ej: Trámites personales, cita médica, etc.",className:"h-11"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Fecha Inicio *"}),e.jsx(C,{type:"date",value:t.startDate,onChange:r=>o({...t,startDate:r.target.value}),className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-foreground font-medium",children:"Fecha Fin *"}),e.jsx(C,{type:"date",value:t.endDate,onChange:r=>o({...t,endDate:r.target.value}),className:"h-11"})]})]}),e.jsxs("div",{className:"rounded-lg bg-blue-500/10 border border-blue-500/20 p-4 text-sm text-blue-900 dark:text-blue-200 leading-relaxed shadow-sm",children:[e.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:"Importante:"})," Los permisos deben ser justificados y contar con el aval del jefe inmediato para su aprobación final por RRHH."]})]})]})]})}),e.jsxs(kt,{className:"mt-6 pt-4 border-t flex-col sm:flex-row gap-4",children:[u&&e.jsxs("div",{className:"flex items-center gap-2 mr-auto",children:[e.jsx("label",{className:"text-sm text-muted-foreground font-medium",children:"Enviar a:"}),e.jsxs(Ue,{value:c,onValueChange:p,children:[e.jsx(Ve,{className:"w-[200px] h-9",children:e.jsx(He,{})}),e.jsxs(Xe,{children:[e.jsx($,{value:"rh@bukz.co",children:"rh@bukz.co"}),e.jsx($,{value:"operaciones@bukz.co",children:"operaciones@bukz.co"})]})]})]}),e.jsxs("div",{className:"flex gap-2 sm:ml-auto",children:[e.jsx(re,{variant:"ghost",size:"lg",onClick:()=>n(null),children:"Cancelar"}),e.jsx(re,{size:"lg",onClick:s,children:"Enviar Solicitud"})]})]})]})});var we=["Enter"," "],Ft=["ArrowDown","PageUp","Home"],ra=["ArrowUp","PageDown","End"],Gt=[...Ft,...ra],Bt={ltr:[...we,"ArrowRight"],rtl:[...we,"ArrowLeft"]},Kt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ee="Menu",[Z,Ut,Vt]=et(ee),[L,na]=Qe(ee,[Vt,qe,ta]),ce=qe(),oa=ta(),[Ht,F]=L(ee),[Xt,ae]=L(ee),sa=a=>{const{__scopeMenu:n,open:t=!1,children:o,dir:s,onOpenChange:d,modal:u=!0}=a,c=ce(n),[p,m]=i.useState(null),r=i.useRef(!1),l=ea(d),f=It(s);return i.useEffect(()=>{const b=()=>{r.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>r.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),e.jsx(mt,{...c,children:e.jsx(Ht,{scope:n,open:t,onOpenChange:l,content:p,onContentChange:m,children:e.jsx(Xt,{scope:n,onClose:i.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:r,dir:f,modal:u,children:o})})})};sa.displayName=ee;var Yt="MenuAnchor",Ce=i.forwardRef((a,n)=>{const{__scopeMenu:t,...o}=a,s=ce(t);return e.jsx(at,{...s,...o,ref:n})});Ce.displayName=Yt;var De="MenuPortal",[Wt,ca]=L(De,{forceMount:void 0}),ia=a=>{const{__scopeMenu:n,forceMount:t,children:o,container:s}=a,d=F(De,n);return e.jsx(Wt,{scope:n,forceMount:t,children:e.jsx(se,{present:t||d.open,children:e.jsx(lt,{asChild:!0,container:s,children:o})})})};ia.displayName=De;var D="MenuContent",[Jt,_e]=L(D),da=i.forwardRef((a,n)=>{const t=ca(D,a.__scopeMenu),{forceMount:o=t.forceMount,...s}=a,d=F(D,a.__scopeMenu),u=ae(D,a.__scopeMenu);return e.jsx(Z.Provider,{scope:a.__scopeMenu,children:e.jsx(se,{present:o||d.open,children:e.jsx(Z.Slot,{scope:a.__scopeMenu,children:u.modal?e.jsx(Zt,{...s,ref:n}):e.jsx(Qt,{...s,ref:n})})})})}),Zt=i.forwardRef((a,n)=>{const t=F(D,a.__scopeMenu),o=i.useRef(null),s=q(n,o);return i.useEffect(()=>{const d=o.current;if(d)return tt(d)},[]),e.jsx(Re,{...a,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:g(a.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Qt=i.forwardRef((a,n)=>{const t=F(D,a.__scopeMenu);return e.jsx(Re,{...a,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),qt=ut("MenuContent.ScrollLock"),Re=i.forwardRef((a,n)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:s,onOpenAutoFocus:d,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:f,onDismiss:b,disableOutsideScroll:v,...E}=a,P=F(D,t),O=ae(D,t),G=ce(t),B=oa(t),te=Ut(t),[h,N]=i.useState(null),j=i.useRef(null),S=q(n,j,P.onContentChange),w=i.useRef(0),I=i.useRef(""),Ja=i.useRef(0),le=i.useRef(null),Pe=i.useRef("right"),ue=i.useRef(0),Za=v?it:i.Fragment,Qa=v?{as:qt,allowPinchZoom:!0}:void 0,qa=x=>{var U,Ae;const M=I.current+x,_=te().filter(k=>!k.disabled),A=document.activeElement,me=(U=_.find(k=>k.ref.current===A))==null?void 0:U.textValue,pe=_.map(k=>k.textValue),Ie=ur(pe,M,me),X=(Ae=_.find(k=>k.textValue===Ie))==null?void 0:Ae.ref.current;(function k(Te){I.current=Te,window.clearTimeout(w.current),Te!==""&&(w.current=window.setTimeout(()=>k(""),1e3))})(M),X&&setTimeout(()=>X.focus())};i.useEffect(()=>()=>window.clearTimeout(w.current),[]),rt();const K=i.useCallback(x=>{var _,A;return Pe.current===((_=le.current)==null?void 0:_.side)&&pr(x,(A=le.current)==null?void 0:A.area)},[]);return e.jsx(Jt,{scope:t,searchRef:I,onItemEnter:i.useCallback(x=>{K(x)&&x.preventDefault()},[K]),onItemLeave:i.useCallback(x=>{var M;K(x)||((M=j.current)==null||M.focus(),N(null))},[K]),onTriggerLeave:i.useCallback(x=>{K(x)&&x.preventDefault()},[K]),pointerGraceTimerRef:Ja,onPointerGraceIntentChange:i.useCallback(x=>{le.current=x},[]),children:e.jsx(Za,{...Qa,children:e.jsx(nt,{asChild:!0,trapped:s,onMountAutoFocus:g(d,x=>{var M;x.preventDefault(),(M=j.current)==null||M.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:e.jsx(ot,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:r,onFocusOutside:l,onInteractOutside:f,onDismiss:b,children:e.jsx(wt,{asChild:!0,...B,dir:O.dir,orientation:"vertical",loop:o,currentTabStopId:h,onCurrentTabStopIdChange:N,onEntryFocus:g(p,x=>{O.isUsingKeyboardRef.current||x.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(st,{role:"menu","aria-orientation":"vertical","data-state":Ca(P.open),"data-radix-menu-content":"",dir:O.dir,...G,...E,ref:S,style:{outline:"none",...E.style},onKeyDown:g(E.onKeyDown,x=>{const _=x.target.closest("[data-radix-menu-content]")===x.currentTarget,A=x.ctrlKey||x.altKey||x.metaKey,me=x.key.length===1;_&&(x.key==="Tab"&&x.preventDefault(),!A&&me&&qa(x.key));const pe=j.current;if(x.target!==pe||!Gt.includes(x.key))return;x.preventDefault();const X=te().filter(U=>!U.disabled).map(U=>U.ref.current);ra.includes(x.key)&&X.reverse(),dr(X)}),onBlur:g(a.onBlur,x=>{x.currentTarget.contains(x.target)||(window.clearTimeout(w.current),I.current="")}),onPointerMove:g(a.onPointerMove,Q(x=>{const M=x.target,_=ue.current!==x.clientX;if(x.currentTarget.contains(M)&&_){const A=x.clientX>ue.current?"right":"left";Pe.current=A,ue.current=x.clientX}}))})})})})})})});da.displayName=D;var er="MenuGroup",Ee=i.forwardRef((a,n)=>{const{__scopeMenu:t,...o}=a;return e.jsx(H.div,{role:"group",...o,ref:n})});Ee.displayName=er;var ar="MenuLabel",la=i.forwardRef((a,n)=>{const{__scopeMenu:t,...o}=a;return e.jsx(H.div,{...o,ref:n})});la.displayName=ar;var ne="MenuItem",We="menu.itemSelect",ie=i.forwardRef((a,n)=>{const{disabled:t=!1,onSelect:o,...s}=a,d=i.useRef(null),u=ae(ne,a.__scopeMenu),c=_e(ne,a.__scopeMenu),p=q(n,d),m=i.useRef(!1),r=()=>{const l=d.current;if(!t&&l){const f=new CustomEvent(We,{bubbles:!0,cancelable:!0});l.addEventListener(We,b=>o==null?void 0:o(b),{once:!0}),dt(l,f),f.defaultPrevented?m.current=!1:u.onClose()}};return e.jsx(ua,{...s,ref:p,disabled:t,onClick:g(a.onClick,r),onPointerDown:l=>{var f;(f=a.onPointerDown)==null||f.call(a,l),m.current=!0},onPointerUp:g(a.onPointerUp,l=>{var f;m.current||(f=l.currentTarget)==null||f.click()}),onKeyDown:g(a.onKeyDown,l=>{const f=c.searchRef.current!=="";t||f&&l.key===" "||we.includes(l.key)&&(l.currentTarget.click(),l.preventDefault())})})});ie.displayName=ne;var ua=i.forwardRef((a,n)=>{const{__scopeMenu:t,disabled:o=!1,textValue:s,...d}=a,u=_e(ne,t),c=oa(t),p=i.useRef(null),m=q(n,p),[r,l]=i.useState(!1),[f,b]=i.useState("");return i.useEffect(()=>{const v=p.current;v&&b((v.textContent??"").trim())},[d.children]),e.jsx(Z.ItemSlot,{scope:t,disabled:o,textValue:s??f,children:e.jsx(Mt,{asChild:!0,...c,focusable:!o,children:e.jsx(H.div,{role:"menuitem","data-highlighted":r?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...d,ref:m,onPointerMove:g(a.onPointerMove,Q(v=>{o?u.onItemLeave(v):(u.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:g(a.onPointerLeave,Q(v=>u.onItemLeave(v))),onFocus:g(a.onFocus,()=>l(!0)),onBlur:g(a.onBlur,()=>l(!1))})})})}),tr="MenuCheckboxItem",ma=i.forwardRef((a,n)=>{const{checked:t=!1,onCheckedChange:o,...s}=a;return e.jsx(ba,{scope:a.__scopeMenu,checked:t,children:e.jsx(ie,{role:"menuitemcheckbox","aria-checked":oe(t)?"mixed":t,...s,ref:n,"data-state":ke(t),onSelect:g(s.onSelect,()=>o==null?void 0:o(oe(t)?!0:!t),{checkForDefaultPrevented:!1})})})});ma.displayName=tr;var pa="MenuRadioGroup",[rr,nr]=L(pa,{value:void 0,onValueChange:()=>{}}),xa=i.forwardRef((a,n)=>{const{value:t,onValueChange:o,...s}=a,d=ea(o);return e.jsx(rr,{scope:a.__scopeMenu,value:t,onValueChange:d,children:e.jsx(Ee,{...s,ref:n})})});xa.displayName=pa;var fa="MenuRadioItem",ha=i.forwardRef((a,n)=>{const{value:t,...o}=a,s=nr(fa,a.__scopeMenu),d=t===s.value;return e.jsx(ba,{scope:a.__scopeMenu,checked:d,children:e.jsx(ie,{role:"menuitemradio","aria-checked":d,...o,ref:n,"data-state":ke(d),onSelect:g(o.onSelect,()=>{var u;return(u=s.onValueChange)==null?void 0:u.call(s,t)},{checkForDefaultPrevented:!1})})})});ha.displayName=fa;var Se="MenuItemIndicator",[ba,or]=L(Se,{checked:!1}),ga=i.forwardRef((a,n)=>{const{__scopeMenu:t,forceMount:o,...s}=a,d=or(Se,t);return e.jsx(se,{present:o||oe(d.checked)||d.checked===!0,children:e.jsx(H.span,{...s,ref:n,"data-state":ke(d.checked)})})});ga.displayName=Se;var sr="MenuSeparator",va=i.forwardRef((a,n)=>{const{__scopeMenu:t,...o}=a;return e.jsx(H.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});va.displayName=sr;var cr="MenuArrow",Na=i.forwardRef((a,n)=>{const{__scopeMenu:t,...o}=a,s=ce(t);return e.jsx(ct,{...s,...o,ref:n})});Na.displayName=cr;var ir="MenuSub",[fn,ja]=L(ir),W="MenuSubTrigger",ya=i.forwardRef((a,n)=>{const t=F(W,a.__scopeMenu),o=ae(W,a.__scopeMenu),s=ja(W,a.__scopeMenu),d=_e(W,a.__scopeMenu),u=i.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:p}=d,m={__scopeMenu:a.__scopeMenu},r=i.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return i.useEffect(()=>r,[r]),i.useEffect(()=>{const l=c.current;return()=>{window.clearTimeout(l),p(null)}},[c,p]),e.jsx(Ce,{asChild:!0,...m,children:e.jsx(ua,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":Ca(t.open),...a,ref:aa(n,s.onTriggerChange),onClick:l=>{var f;(f=a.onClick)==null||f.call(a,l),!(a.disabled||l.defaultPrevented)&&(l.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:g(a.onPointerMove,Q(l=>{d.onItemEnter(l),!l.defaultPrevented&&!a.disabled&&!t.open&&!u.current&&(d.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),r()},100))})),onPointerLeave:g(a.onPointerLeave,Q(l=>{var b,v;r();const f=(b=t.content)==null?void 0:b.getBoundingClientRect();if(f){const E=(v=t.content)==null?void 0:v.dataset.side,P=E==="right",O=P?-5:5,G=f[P?"left":"right"],B=f[P?"right":"left"];d.onPointerGraceIntentChange({area:[{x:l.clientX+O,y:l.clientY},{x:G,y:f.top},{x:B,y:f.top},{x:B,y:f.bottom},{x:G,y:f.bottom}],side:E}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(l),l.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:g(a.onKeyDown,l=>{var b;const f=d.searchRef.current!=="";a.disabled||f&&l.key===" "||Bt[o.dir].includes(l.key)&&(t.onOpenChange(!0),(b=t.content)==null||b.focus(),l.preventDefault())})})})});ya.displayName=W;var wa="MenuSubContent",Ma=i.forwardRef((a,n)=>{const t=ca(D,a.__scopeMenu),{forceMount:o=t.forceMount,...s}=a,d=F(D,a.__scopeMenu),u=ae(D,a.__scopeMenu),c=ja(wa,a.__scopeMenu),p=i.useRef(null),m=q(n,p);return e.jsx(Z.Provider,{scope:a.__scopeMenu,children:e.jsx(se,{present:o||d.open,children:e.jsx(Z.Slot,{scope:a.__scopeMenu,children:e.jsx(Re,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:r=>{var l;u.isUsingKeyboardRef.current&&((l=p.current)==null||l.focus()),r.preventDefault()},onCloseAutoFocus:r=>r.preventDefault(),onFocusOutside:g(a.onFocusOutside,r=>{r.target!==c.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:g(a.onEscapeKeyDown,r=>{u.onClose(),r.preventDefault()}),onKeyDown:g(a.onKeyDown,r=>{var b;const l=r.currentTarget.contains(r.target),f=Kt[u.dir].includes(r.key);l&&f&&(d.onOpenChange(!1),(b=c.trigger)==null||b.focus(),r.preventDefault())})})})})})});Ma.displayName=wa;function Ca(a){return a?"open":"closed"}function oe(a){return a==="indeterminate"}function ke(a){return oe(a)?"indeterminate":a?"checked":"unchecked"}function dr(a){const n=document.activeElement;for(const t of a)if(t===n||(t.focus(),document.activeElement!==n))return}function lr(a,n){return a.map((t,o)=>a[(n+o)%a.length])}function ur(a,n,t){const s=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,d=t?a.indexOf(t):-1;let u=lr(a,Math.max(d,0));s.length===1&&(u=u.filter(m=>m!==t));const p=u.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return p!==t?p:void 0}function mr(a,n){const{x:t,y:o}=a;let s=!1;for(let d=0,u=n.length-1;d<n.length;u=d++){const c=n[d],p=n[u],m=c.x,r=c.y,l=p.x,f=p.y;r>o!=f>o&&t<(l-m)*(o-r)/(f-r)+m&&(s=!s)}return s}function pr(a,n){if(!n)return!1;const t={x:a.clientX,y:a.clientY};return mr(t,n)}function Q(a){return n=>n.pointerType==="mouse"?a(n):void 0}var xr=sa,fr=Ce,hr=ia,br=da,gr=Ee,vr=la,Nr=ie,jr=ma,yr=xa,wr=ha,Mr=ga,Cr=va,Dr=Na,_r=ya,Rr=Ma,de="DropdownMenu",[Er,hn]=Qe(de,[na]),y=na(),[Sr,Da]=Er(de),_a=a=>{const{__scopeDropdownMenu:n,children:t,dir:o,open:s,defaultOpen:d,onOpenChange:u,modal:c=!0}=a,p=y(n),m=i.useRef(null),[r,l]=pt({prop:s,defaultProp:d??!1,onChange:u,caller:de});return e.jsx(Sr,{scope:n,triggerId:$e(),triggerRef:m,contentId:$e(),open:r,onOpenChange:l,onOpenToggle:i.useCallback(()=>l(f=>!f),[l]),modal:c,children:e.jsx(xr,{...p,open:r,onOpenChange:l,dir:o,modal:c,children:t})})};_a.displayName=de;var Ra="DropdownMenuTrigger",Ea=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...s}=a,d=Da(Ra,t),u=y(t);return e.jsx(fr,{asChild:!0,...u,children:e.jsx(H.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...s,ref:aa(n,d.triggerRef),onPointerDown:g(a.onPointerDown,c=>{!o&&c.button===0&&c.ctrlKey===!1&&(d.onOpenToggle(),d.open||c.preventDefault())}),onKeyDown:g(a.onKeyDown,c=>{o||(["Enter"," "].includes(c.key)&&d.onOpenToggle(),c.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Ea.displayName=Ra;var kr="DropdownMenuPortal",Sa=a=>{const{__scopeDropdownMenu:n,...t}=a,o=y(n);return e.jsx(hr,{...o,...t})};Sa.displayName=kr;var ka="DropdownMenuContent",Pa=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=Da(ka,t),d=y(t),u=i.useRef(!1);return e.jsx(br,{id:s.contentId,"aria-labelledby":s.triggerId,...d,...o,ref:n,onCloseAutoFocus:g(a.onCloseAutoFocus,c=>{var p;u.current||(p=s.triggerRef.current)==null||p.focus(),u.current=!1,c.preventDefault()}),onInteractOutside:g(a.onInteractOutside,c=>{const p=c.detail.originalEvent,m=p.button===0&&p.ctrlKey===!0,r=p.button===2||m;(!s.modal||r)&&(u.current=!0)}),style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pa.displayName=ka;var Pr="DropdownMenuGroup",Ir=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(gr,{...s,...o,ref:n})});Ir.displayName=Pr;var Ar="DropdownMenuLabel",Ia=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(vr,{...s,...o,ref:n})});Ia.displayName=Ar;var Tr="DropdownMenuItem",Aa=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(Nr,{...s,...o,ref:n})});Aa.displayName=Tr;var $r="DropdownMenuCheckboxItem",Ta=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(jr,{...s,...o,ref:n})});Ta.displayName=$r;var Or="DropdownMenuRadioGroup",zr=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(yr,{...s,...o,ref:n})});zr.displayName=Or;var Lr="DropdownMenuRadioItem",$a=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(wr,{...s,...o,ref:n})});$a.displayName=Lr;var Fr="DropdownMenuItemIndicator",Oa=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(Mr,{...s,...o,ref:n})});Oa.displayName=Fr;var Gr="DropdownMenuSeparator",za=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(Cr,{...s,...o,ref:n})});za.displayName=Gr;var Br="DropdownMenuArrow",Kr=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(Dr,{...s,...o,ref:n})});Kr.displayName=Br;var Ur="DropdownMenuSubTrigger",La=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(_r,{...s,...o,ref:n})});La.displayName=Ur;var Vr="DropdownMenuSubContent",Fa=i.forwardRef((a,n)=>{const{__scopeDropdownMenu:t,...o}=a,s=y(t);return e.jsx(Rr,{...s,...o,ref:n,style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fa.displayName=Vr;var Hr=_a,Xr=Ea,Yr=Sa,Ga=Pa,Ba=Ia,Ka=Aa,Ua=Ta,Va=$a,Ha=Oa,Xa=za,Ya=La,Wa=Fa;const Je=Hr,Ze=Xr,Wr=i.forwardRef(({className:a,inset:n,children:t,...o},s)=>e.jsxs(Ya,{ref:s,className:R("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors duration-150 data-[state=open]:bg-accent focus:bg-accent",n&&"pl-8",a),...o,children:[t,e.jsx(At,{className:"ml-auto h-4 w-4 transition-transform duration-200 group-data-[state=open]:translate-x-0.5"})]}));Wr.displayName=Ya.displayName;const Jr=i.forwardRef(({className:a,...n},t)=>e.jsx(Wa,{ref:t,className:R("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n}));Jr.displayName=Wa.displayName;const Me=i.forwardRef(({className:a,sideOffset:n=4,...t},o)=>e.jsx(Yr,{children:e.jsx(Ga,{ref:o,sideOffset:n,className:R("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t})}));Me.displayName=Ga.displayName;const z=i.forwardRef(({className:a,inset:n,...t},o)=>e.jsx(Ka,{ref:o,className:R("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-all duration-150 ease-out data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground focus:translate-x-0.5",n&&"pl-8",a),...t}));z.displayName=Ka.displayName;const Zr=i.forwardRef(({className:a,children:n,checked:t,...o},s)=>e.jsxs(Ua,{ref:s,className:R("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),checked:t,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ha,{children:e.jsx(Pt,{className:"h-4 w-4"})})}),n]}));Zr.displayName=Ua.displayName;const Qr=i.forwardRef(({className:a,children:n,...t},o)=>e.jsxs(Va,{ref:o,className:R("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ha,{children:e.jsx(Tt,{className:"h-2 w-2 fill-current"})})}),n]}));Qr.displayName=Va.displayName;const qr=i.forwardRef(({className:a,inset:n,...t},o)=>e.jsx(Ba,{ref:o,className:R("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",a),...t}));qr.displayName=Ba.displayName;const en=i.forwardRef(({className:a,...n},t)=>e.jsx(Xa,{ref:t,className:R("-mx-1 my-1 h-px bg-muted",a),...n}));en.displayName=Xa.displayName;const an=({requests:a,isOperations:n,isMobile:t,getStatusIcon:o,getStatusBadge:s,updateRequestStatus:d,deleteRequest:u})=>e.jsx("div",{className:"rounded-2xl border border-border bg-card shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:t?e.jsx("div",{className:"space-y-3 p-3",children:a.length===0?e.jsxs("div",{className:"flex flex-col items-center gap-2 py-12 text-muted-foreground",children:[e.jsx(be,{className:"h-8 w-8 opacity-20"}),e.jsx("p",{children:"No hay solicitudes registradas."})]}):a.map(c=>{var p,m;return e.jsxs("div",{className:"rounded-xl border border-border bg-card p-4 space-y-3 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted border border-border text-foreground dark:border-transparent dark:bg-primary/10 dark:text-primary",children:c.type==="vacation"?e.jsx(ye,{className:"h-4 w-4"}):c.type==="birthday-leave"?e.jsx(ve,{className:"h-4 w-4"}):e.jsx(ge,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:(p=J.find(r=>r.value===c.type))==null?void 0:p.label})]}),e.jsx("div",{className:"flex items-center gap-1.5",children:n?e.jsxs(Je,{children:[e.jsx(Ze,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-1.5 hover:opacity-80 transition-opacity outline-none",children:[o(c.status),s(c.status),e.jsx(Oe,{className:"h-3 w-3 text-muted-foreground"})]})}),e.jsxs(Me,{align:"end",className:"w-[140px]",children:[e.jsxs(z,{onClick:()=>d(c.id,"pending"),className:"gap-2",children:[e.jsx(je,{className:"h-4 w-4 text-amber-500"})," Pendiente"]}),e.jsxs(z,{onClick:()=>d(c.id,"approved"),className:"gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-emerald-500"})," Aprobar"]}),e.jsxs(z,{onClick:()=>d(c.id,"rejected"),className:"gap-2 text-destructive focus:text-destructive",children:[e.jsx(Ne,{className:"h-4 w-4"})," Rechazar"]})]})]}):e.jsxs(e.Fragment,{children:[o(c.status),s(c.status)]})})]}),n&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium text-foreground",children:c.fullName||"Sin nombre"}),e.jsx("span",{className:"text-xs text-muted-foreground block",children:c.branch||"Sin sede"})]}),e.jsxs("div",{className:"text-sm space-y-1.5",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Fechas:"})," ",e.jsxs("span",{className:"font-medium text-foreground",children:[c.startDate," - ",c.endDate]}),c.returnDate&&e.jsxs("span",{className:"text-xs text-muted-foreground block italic",children:["Reingreso: ",c.returnDate]})]}),c.phoneNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:"Teléfono:"})," ",e.jsx("span",{className:"text-foreground",children:c.phoneNumber})]}),c.reason&&e.jsxs("div",{className:"text-xs text-muted-foreground line-clamp-2",children:[e.jsx("span",{className:"font-medium",children:"Motivo:"})," ",c.reason]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/50",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Enviado: ",(m=c.createdAt)!=null&&m.toDate?c.createdAt.toDate().toLocaleDateString():"Reciente"]}),n&&e.jsx(re,{variant:"ghost",size:"sm",onClick:()=>u(c.id),className:"h-9 px-3 text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:e.jsx(Ye,{className:"h-4 w-4"})})]})]},c.id)})}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted/30 border-b border-border",children:[e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Tipo"}),n&&e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Solicitante"}),e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Celular"}),e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Fechas"}),e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Motivo"}),e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Enviado"}),n&&e.jsx("th",{className:"px-4 md:px-6 py-3 md:py-4 text-xs font-semibold text-muted-foreground uppercase tracking-wider text-right",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 md:px-6 py-12 text-center text-muted-foreground",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(be,{className:"h-8 w-8 opacity-20"}),e.jsx("p",{children:"No hay solicitudes registradas."})]})})}):a.map(c=>{var p,m;return e.jsxs("tr",{className:"hover:bg-muted/20 transition-colors",children:[e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted border border-border text-foreground dark:border-transparent dark:bg-primary/10 dark:text-primary",children:c.type==="vacation"?e.jsx(ye,{className:"h-4 w-4"}):c.type==="birthday-leave"?e.jsx(ve,{className:"h-4 w-4"}):e.jsx(ge,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:(p=J.find(r=>r.value===c.type))==null?void 0:p.label})]})}),n&&e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsx("span",{className:"font-medium text-foreground",children:c.fullName||"Sin nombre"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:c.branch||"Sin sede"})]})}),e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-sm text-foreground",children:c.phoneNumber||"—"}),e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsxs("span",{className:"text-foreground",children:[c.startDate," al ",c.endDate]}),c.returnDate&&e.jsxs("span",{className:"text-xs text-muted-foreground italic",children:["Reingreso: ",c.returnDate]})]})}),e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-sm text-foreground max-w-xs truncate",children:c.reason||"—"}),e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4",children:e.jsx("div",{className:"flex items-center gap-2",children:n?e.jsxs(Je,{children:[e.jsx(Ze,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-2 hover:opacity-80 transition-opacity outline-none",children:[o(c.status),s(c.status),e.jsx(Oe,{className:"h-3 w-3 text-muted-foreground"})]})}),e.jsxs(Me,{align:"start",className:"w-[140px]",children:[e.jsxs(z,{onClick:()=>d(c.id,"pending"),className:"gap-2",children:[e.jsx(je,{className:"h-4 w-4 text-amber-500"})," Pendiente"]}),e.jsxs(z,{onClick:()=>d(c.id,"approved"),className:"gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-emerald-500"})," Aprobar"]}),e.jsxs(z,{onClick:()=>d(c.id,"rejected"),className:"gap-2 text-destructive focus:text-destructive",children:[e.jsx(Ne,{className:"h-4 w-4"})," Rechazar"]})]})]}):e.jsxs(e.Fragment,{children:[o(c.status),s(c.status)]})})}),e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-sm text-muted-foreground",children:(m=c.createdAt)!=null&&m.toDate?c.createdAt.toDate().toLocaleDateString():"Reciente"}),n&&e.jsx("td",{className:"px-4 md:px-6 py-3 md:py-4 text-right",children:e.jsx(re,{variant:"ghost",size:"icon",onClick:()=>u(c.id),className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10",children:e.jsx(Ye,{className:"h-4 w-4"})})})]},c.id)})})]})})}),bn=()=>{const{user:a}=ze(),n=xt(),[t,o]=i.useState([]),[s,d]=i.useState(null),[u,c]=i.useState("new-request"),[p,m]=i.useState("rh@bukz.co"),[r,l]=i.useState({fullName:"",idDocument:"",role:"",branch:"",phoneNumber:"",supervisor:"",startDate:"",endDate:"",returnDate:"",reason:""}),{isAdmin:f}=ze(),b=f;i.useEffect(()=>{if(!a)return;let h;b?h=Le(xe(Y,"leave_requests"),Fe("createdAt","desc")):h=Le(xe(Y,"leave_requests"),ft("userId","==",a.uid),Fe("createdAt","desc"));const N=ht(h,j=>{const S=j.docs.map(w=>({id:w.id,...w.data()}));o(S)});return()=>N()},[a,b]);const v=async()=>{var h;if(!r.startDate||!r.endDate||!s||!a){T.error("Por favor completa los campos obligatorios");return}try{const N={type:s,...r,status:"pending",createdAt:gt(),userId:a.uid,userEmail:a.email};await vt(xe(Y,"leave_requests"),N);const j=(h=J.find(I=>I.value===s))==null?void 0:h.label;let S=`${j} - ${r.fullName} - ${r.branch}`,w="";s==="vacation"?(S=`Solicitud de Vacaciones - ${r.fullName} - ${r.branch}`,w=`Respetados señores,<br><br>

Por medio de la presente, yo <b>${r.fullName}</b>, identificado(a) con <b>${r.idDocument}</b>, quien se desempeña como <b>${r.role}</b> en la sede <b>${r.branch}</b>, solicito la autorización para disfrutar de mis vacaciones correspondientes al período laboral comprendido entre:<br><br>

* Fecha inicio de vacaciones: <b>${r.startDate}</b><br>
* Fecha finalización de vacaciones: <b>${r.endDate}</b><br><br>

Me comprometo a retomar mis labores el <b>${r.returnDate}</b>, de acuerdo con lo establecido en la normatividad vigente y las políticas internas de la empresa.<br><br>

Esta solicitud se realiza con el conocimiento y aval de mi jefe inmediato, <b>${r.supervisor}</b>.<br><br>

Agradezco su atención y quedo pendiente de la confirmación.<br><br>

Cordialmente,<br>
<b>${r.fullName}</b><br>
${r.role}<br>
${r.branch}<br>
Celular: ${r.phoneNumber}<br>
${r.idDocument}`):s==="birthday-leave"?(S=`Solicitud de día de cumpleaños - ${r.fullName} - ${r.branch}`,w=`Respetados señores,<br><br>

Por medio de la presente, yo <b>${r.fullName}</b>, identificado(a) con <b>${r.idDocument}</b>, quien se desempeña como <b>${r.role}</b> en la sede <b>${r.branch}</b>, solicito la autorización para disfrutar de día de cumpleaños, de acuerdo con el siguiente detalle:<br><br>

Día de cumpleaños<br>
* Fecha: <b>${r.startDate}</b><br><br>

En caso de aplicar, dejo constancia de que tengo claridad sobre las condiciones del permiso solicitado y su impacto conforme a la normatividad vigente y las políticas internas de la empresa.<br><br>

Esta solicitud se realiza con el conocimiento y aval de mi jefe inmediato, <b>${r.supervisor}</b>.<br><br>

Agradezco su atención y quedo pendiente de la confirmación.<br><br>

Cordialmente,<br>
${r.fullName}<br>
${r.role}<br>
${r.branch}<br>
Celular: ${r.phoneNumber}<br>
${r.idDocument}`):s==="paid-leave"?(S=`Solicitud de Permiso Remunerado - ${r.fullName} - ${r.branch}`,w=`Respetados señores,<br><br>

Por medio de la presente, yo <b>${r.fullName}</b>, identificado(a) con <b>${r.idDocument}</b>, quien se desempeña como <b>${r.role}</b> en la sede <b>${r.branch}</b>, solicito la autorización para un <b>permiso remunerado</b> por el motivo de: <b>${r.reason}</b>, de acuerdo con el siguiente detalle:<br><br>

* Fecha inicio: <b>${r.startDate}</b><br>
* Fecha finalización: <b>${r.endDate}</b><br><br>

Dejo constancia de que tengo claridad sobre las condiciones del permiso solicitado y su impacto conforme a la normatividad vigente y las políticas internas de la empresa.<br><br>

Esta solicitud se realiza con el conocimiento y aval de mi jefe inmediato, <b>${r.supervisor}</b>.<br><br>

Agradezco su atención y quedo pendiente de la confirmación.<br><br>

Cordialmente,<br>
<b>${r.fullName}</b><br>
${r.role}<br>
${r.branch}<br>
Celular: ${r.phoneNumber}<br>
${r.idDocument}`):s==="unpaid-leave"?(S=`Solicitud de Permiso No Remunerado - ${r.fullName} - ${r.branch}`,w=`Respetados señores,<br><br>

Por medio de la presente, yo <b>${r.fullName}</b>, identificado(a) con <b>${r.idDocument}</b>, quien se desempeña como <b>${r.role}</b> en la sede <b>${r.branch}</b>, solicito la autorización para un <b>permiso no remunerado</b> por el motivo de: <b>${r.reason}</b>, de acuerdo con el siguiente detalle:<br><br>

* Fecha inicio: <b>${r.startDate}</b><br>
* Fecha finalización: <b>${r.endDate}</b><br><br>

Dejo constancia de que tengo claridad sobre las condiciones del permiso solicitado y su impacto conforme a la normatividad vigente y las políticas internas de la empresa.<br><br>

Esta solicitud se realiza con el conocimiento y aval de mi jefe inmediato, <b>${r.supervisor}</b>.<br><br>

Agradezco su atención y quedo pendiente de la confirmación.<br><br>

Cordialmente,<br>
<b>${r.fullName}</b><br>
${r.role}<br>
${r.branch}<br>
Celular: ${r.phoneNumber}<br>
${r.idDocument}`):w=`Solicitud de <b>${j}</b> enviada por <b>${r.fullName}</b>.<br><br>

<b>Motivo:</b> ${r.reason}<br>
<b>Desde:</b> ${r.startDate}<br>
<b>Hasta:</b> ${r.endDate}<br>
<b>Jefe Inmediato:</b> ${r.supervisor}<br>
<b>Celular:</b> ${r.phoneNumber}`;try{await fetch("https://Operaciones.pythonanywhere.com/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,userEmail:a.email,type_label:j,subject:S,email_body:w,to_email:p})}),T.success("Solicitud enviada y notificación enviada por correo")}catch(I){console.error("Error al enviar notificación:",I),T.success("Solicitud enviada (la notificación por correo falló)")}l({fullName:"",idDocument:"",role:"",branch:"",phoneNumber:"",supervisor:"",startDate:"",endDate:"",returnDate:"",reason:""}),d(null)}catch(N){console.error("Error submitting request:",N),T.error("Error al enviar la solicitud: "+N.message)}},E=async h=>{try{await Nt(Ge(Y,"leave_requests",h)),T.success("Solicitud eliminada correctamente")}catch(N){console.error("Error deleting request:",N),T.error("Error al eliminar la solicitud: "+N.message)}},P=async(h,N)=>{try{await jt(Ge(Y,"leave_requests",h),{status:N});const j={pending:"Pendiente",approved:"Aprobado",rejected:"Rechazado"};T.success(`Estado actualizado a ${j[N]}`)}catch(j){console.error("Error updating request status:",j),T.error("Error al actualizar el estado: "+j.message)}},O=J.find(h=>h.value===s),G=Array.from({length:12},(h,N)=>new Date(2026,N)),B=h=>{switch(h){case"approved":return e.jsx(he,{className:"h-4 w-4 text-emerald-500"});case"rejected":return e.jsx(Ne,{className:"h-4 w-4 text-destructive"});default:return e.jsx(je,{className:"h-4 w-4 text-amber-500"})}},te=h=>{switch(h){case"approved":return e.jsx(fe,{className:"bg-emerald-500/10 text-emerald-600 border-emerald-200",children:"Aprobado"});case"rejected":return e.jsx(fe,{variant:"destructive",className:"bg-destructive/10 text-destructive border-destructive/20",children:"Rechazado"});default:return e.jsx(fe,{variant:"secondary",className:"bg-amber-500/10 text-amber-700 dark:text-amber-600 border-amber-200",children:"Pendiente"})}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-semibold text-foreground",children:"Solicitudes"}),e.jsx("p",{className:"mt-1 text-base text-muted-foreground",children:"Envía y gestiona tus permisos y vacaciones"})]}),b&&e.jsxs("div",{className:"flex items-center gap-2 bg-foreground/10 text-foreground px-4 py-2 rounded-full border border-foreground/20 shadow-sm backdrop-blur-sm",children:[e.jsx(bt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-semibold",children:"Modo Administrador (Operaciones)"})]})]}),e.jsxs(Ct,{value:u,onValueChange:c,className:"w-full",children:[e.jsxs(Dt,{className:"bg-muted/50 p-1 mb-8",children:[e.jsxs(Be,{value:"new-request",className:"gap-2",children:[e.jsx($t,{className:"h-4 w-4"}),"Nueva Solicitud"]}),b&&e.jsxs(Be,{value:"tracking",className:"gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),"Seguimiento"]})]}),e.jsxs(Ke,{value:"new-request",className:"space-y-8 mt-0 animate-in fade-in duration-500",children:[e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:J.map(h=>e.jsxs("button",{onClick:()=>d(h.value),className:"group flex flex-col justify-between rounded-xl border border-border bg-card p-5 text-left transition-all hover:border-primary/40 hover:shadow-sm",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsx(h.icon,{className:"h-6 w-6 text-foreground"})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-base font-medium text-foreground",children:h.label}),e.jsx("p",{className:"mt-0.5 text-sm text-muted-foreground",children:h.description})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-medium text-muted-foreground group-hover:text-foreground transition-theme",children:["Solicitar ",e.jsx(Ot,{className:"h-3 w-3"})]})]},h.value))}),e.jsxs("div",{className:"pt-4",children:[e.jsx("h2",{className:"text-lg font-medium text-foreground mb-4",children:"Calendario Institucional 2026"}),e.jsx("div",{className:"grid gap-3 md:gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-6",children:G.map(h=>e.jsx("div",{className:"rounded-xl border border-border bg-card p-2 shadow-sm overflow-hidden",children:e.jsx(yt,{mode:"single",month:h,className:"p-0 pointer-events-auto w-full",classNames:{months:"flex flex-col w-full",month:"space-y-1 w-full",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-xs font-semibold",nav:"hidden",table:"w-full border-collapse table-fixed",head_row:"flex w-full",head_cell:"text-muted-foreground flex-1 text-center font-normal text-xs",row:"flex w-full mt-0.5",cell:"flex-1 aspect-square text-center text-xs p-0 relative",day:"h-full w-full p-0 font-normal text-xs hover:bg-muted rounded-md inline-flex items-center justify-center",day_today:"bg-primary text-primary-foreground font-semibold",day_outside:"text-muted-foreground opacity-30",day_disabled:"text-muted-foreground opacity-50",day_selected:"bg-primary text-primary-foreground"}})},h.getMonth()))})]})]}),e.jsx(Ke,{value:"tracking",className:"mt-0 animate-in slide-in-from-bottom-4 duration-500",children:e.jsx(an,{requests:t,isOperations:b,isMobile:n,getStatusIcon:B,getStatusBadge:te,updateRequestStatus:P,deleteRequest:E})})]}),e.jsx(Lt,{dialogType:s,setDialogType:d,form:r,setForm:l,submitRequest:v,isMobile:n,isOperations:b,emailRecipient:p,setEmailRecipient:m,activeConfig:O})]})};export{bn as default};
