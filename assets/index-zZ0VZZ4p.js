const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CqF-VgRq.js","assets/arrow-right-Z0ei38Y4.js","assets/format-Cu5othT5.js","assets/es-BuEom4ST.js","assets/Operations-DPWhyuup.js","assets/progress-7-9TUhpN.js","assets/calendar-B9_EqBkT.js","assets/chevron-right-BSo9J0aP.js","assets/textarea-FeWkwKSv.js","assets/tabs-BhBb3kdP.js","assets/index-crZK1vcL.js","assets/trash-2-BdXGZdJo.js","assets/external-link-DuUK5k6m.js","assets/Tasks-CiLERLDP.js","assets/dialog-CO3Lc6Ku.js","assets/index-DPxdIXPI.js","assets/Instructions-DrSOV-Ws.js","assets/package-CJdp4T86.js","assets/clock-zgQVrAEz.js","assets/Requests-KKbmG7EH.js","assets/badge-CucsVBSM.js","assets/history-DHKQCMmI.js","assets/BookstoreRequests-Ciru4mzl.js","assets/card-OND3B57R.js","assets/eye-BSG9EsMj.js","assets/NavigationAdmin-BcJ56HgU.js","assets/Login-eEpbfCVk.js"])))=>i.map(i=>d[i]);
var zR=Object.defineProperty;var A0=t=>{throw TypeError(t)};var WR=(t,e,n)=>e in t?zR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var R0=(t,e,n)=>WR(t,typeof e!="symbol"?e+"":e,n),Ff=(t,e,n)=>e.has(t)||A0("Cannot "+n);var j=(t,e,n)=>(Ff(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?A0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(Ff(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),It=(t,e,n)=>(Ff(t,e,"access private method"),n);var ru=(t,e,n,r)=>({set _(i){ue(t,e,i,n)},get _(){return j(t,e,r)}});function HR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function F1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j1={exports:{}},_h={},U1={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sc=Symbol.for("react.element"),qR=Symbol.for("react.portal"),KR=Symbol.for("react.fragment"),GR=Symbol.for("react.strict_mode"),QR=Symbol.for("react.profiler"),YR=Symbol.for("react.provider"),XR=Symbol.for("react.context"),JR=Symbol.for("react.forward_ref"),ZR=Symbol.for("react.suspense"),eP=Symbol.for("react.memo"),tP=Symbol.for("react.lazy"),P0=Symbol.iterator;function nP(t){return t===null||typeof t!="object"?null:(t=P0&&t[P0]||t["@@iterator"],typeof t=="function"?t:null)}var $1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B1=Object.assign,z1={};function Sa(t,e,n){this.props=t,this.context=e,this.refs=z1,this.updater=n||$1}Sa.prototype.isReactComponent={};Sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W1(){}W1.prototype=Sa.prototype;function Sg(t,e,n){this.props=t,this.context=e,this.refs=z1,this.updater=n||$1}var Ig=Sg.prototype=new W1;Ig.constructor=Sg;B1(Ig,Sa.prototype);Ig.isPureReactComponent=!0;var k0=Array.isArray,H1=Object.prototype.hasOwnProperty,Cg={current:null},q1={key:!0,ref:!0,__self:!0,__source:!0};function K1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)H1.call(e,r)&&!q1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Sc,type:t,key:s,ref:o,props:i,_owner:Cg.current}}function rP(t,e){return{$$typeof:Sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sc}function iP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var N0=/\/+/g;function jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iP(""+t.key):e.toString(36)}function $u(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sc:case qR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jf(o,0):r,k0(i)?(n="",t!=null&&(n=t.replace(N0,"$&/")+"/"),$u(i,e,n,"",function(u){return u})):i!=null&&(bg(i)&&(i=rP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",k0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jf(s,a);o+=$u(s,e,n,l,i)}else if(l=nP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jf(s,a++),o+=$u(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return $u(t,r,"","",function(s){return e.call(n,s,i++)}),r}function sP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Bu={transition:null},oP={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Bu,ReactCurrentOwner:Cg};function G1(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!bg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Sa;ge.Fragment=KR;ge.Profiler=QR;ge.PureComponent=Sg;ge.StrictMode=GR;ge.Suspense=ZR;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP;ge.act=G1;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Cg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)H1.call(e,l)&&!q1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sc,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:XR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YR,_context:t},t.Consumer=t};ge.createElement=K1;ge.createFactory=function(t){var e=K1.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:JR,render:t}};ge.isValidElement=bg;ge.lazy=function(t){return{$$typeof:tP,_payload:{_status:-1,_result:t},_init:sP}};ge.memo=function(t,e){return{$$typeof:eP,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Bu.transition;Bu.transition={};try{t()}finally{Bu.transition=e}};ge.unstable_act=G1;ge.useCallback=function(t,e){return Ut.current.useCallback(t,e)};ge.useContext=function(t){return Ut.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Ut.current.useEffect(t,e)};ge.useId=function(){return Ut.current.useId()};ge.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Ut.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};ge.useRef=function(t){return Ut.current.useRef(t)};ge.useState=function(t){return Ut.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Ut.current.useTransition()};ge.version="18.3.1";U1.exports=ge;var E=U1.exports;const H=F1(E),Ag=HR({__proto__:null,default:H},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aP=E,lP=Symbol.for("react.element"),cP=Symbol.for("react.fragment"),uP=Object.prototype.hasOwnProperty,dP=aP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hP={key:!0,ref:!0,__self:!0,__source:!0};function Q1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uP.call(e,r)&&!hP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lP,type:t,key:s,ref:o,props:i,_owner:dP.current}}_h.Fragment=cP;_h.jsx=Q1;_h.jsxs=Q1;j1.exports=_h;var C=j1.exports,Y1={exports:{}},un={},X1={exports:{}},J1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var K=F.length;F.push(B);e:for(;0<K;){var ae=K-1>>>1,Z=F[ae];if(0<i(Z,B))F[ae]=B,F[K]=Z,K=ae;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],K=F.pop();if(K!==B){F[0]=K;e:for(var ae=0,Z=F.length,fe=Z>>>1;ae<fe;){var de=2*(ae+1)-1,Ve=F[de],Xe=de+1,_e=F[Xe];if(0>i(Ve,K))Xe<Z&&0>i(_e,Ve)?(F[ae]=_e,F[Xe]=K,ae=Xe):(F[ae]=Ve,F[de]=K,ae=de);else if(Xe<Z&&0>i(_e,K))F[ae]=_e,F[Xe]=K,ae=Xe;else break e}}return B}function i(F,B){var K=F.sortIndex-B.sortIndex;return K!==0?K:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,T=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=F)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function A(F){if(y=!1,x(F),!T)if(n(l)!==null)T=!0,te(O);else{var B=n(u);B!==null&&oe(A,B.startTime-F)}}function O(F,B){T=!1,y&&(y=!1,w(S),S=-1),m=!0;var K=f;try{for(x(B),h=n(l);h!==null&&(!(h.expirationTime>B)||F&&!N());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var Z=ae(h.expirationTime<=B);B=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(l)&&r(l),x(B)}else r(l);h=n(l)}if(h!==null)var fe=!0;else{var de=n(u);de!==null&&oe(A,de.startTime-B),fe=!1}return fe}finally{h=null,f=K,m=!1}}var D=!1,I=null,S=-1,R=5,P=-1;function N(){return!(t.unstable_now()-P<R)}function L(){if(I!==null){var F=t.unstable_now();P=F;var B=!0;try{B=I(!0,F)}finally{B?k():(D=!1,I=null)}}else D=!1}var k;if(typeof v=="function")k=function(){v(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=L,k=function(){se.postMessage(null)}}else k=function(){_(L,0)};function te(F){I=F,D||(D=!0,k())}function oe(F,B){S=_(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,te(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var K=f;f=B;try{return F()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=f;f=F;try{return B()}finally{f=K}},t.unstable_scheduleCallback=function(F,B,K){var ae=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,F={id:d++,callback:B,priorityLevel:F,startTime:K,expirationTime:Z,sortIndex:-1},K>ae?(F.sortIndex=K,e(u,F),n(l)===null&&F===n(u)&&(y?(w(S),S=-1):y=!0,oe(A,K-ae))):(F.sortIndex=Z,e(l,F),T||m||(T=!0,te(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var B=f;return function(){var K=f;f=B;try{return F.apply(this,arguments)}finally{f=K}}}})(J1);X1.exports=J1;var fP=X1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pP=E,cn=fP;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z1=new Set,jl={};function to(t,e){la(t,e),la(t+"Capture",e)}function la(t,e){for(jl[t]=e,t=0;t<e.length;t++)Z1.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bp=Object.prototype.hasOwnProperty,mP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D0={},O0={};function gP(t){return Bp.call(O0,t)?!0:Bp.call(D0,t)?!1:mP.test(t)?O0[t]=!0:(D0[t]=!0,!1)}function yP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vP(t,e,n,r){if(e===null||typeof e>"u"||yP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rg=/[\-:]([a-z])/g;function Pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rg,Pg);Tt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rg,Pg);Tt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rg,Pg);Tt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function kg(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vP(e,n,i,r)&&(n=null),r||i===null?gP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=pP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),zp=Symbol.for("react.profiler"),eT=Symbol.for("react.provider"),tT=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),Hp=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),nT=Symbol.for("react.offscreen"),L0=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=L0&&t[L0]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Uf;function fl(t){if(Uf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uf=e&&e[1]||""}return`
`+Uf+t}var $f=!1;function Bf(t,e){if(!t||$f)return"";$f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fl(t):""}function wP(t){switch(t.tag){case 5:return fl(t.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return t=Bf(t.type,!1),t;case 11:return t=Bf(t.type.render,!1),t;case 1:return t=Bf(t.type,!0),t;default:return""}}function qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case Io:return"Portal";case zp:return"Profiler";case Ng:return"StrictMode";case Wp:return"Suspense";case Hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tT:return(t.displayName||"Context")+".Consumer";case eT:return(t._context.displayName||"Context")+".Provider";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Og:return e=t.displayName||null,e!==null?e:qp(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return qp(t(e))}catch{}}return null}function _P(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qp(e);case 8:return e===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EP(t){var e=rT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=EP(t))}function iT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kp(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sT(t,e){e=e.checked,e!=null&&kg(t,"checked",e,!1)}function Gp(t,e){sT(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qp(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function V0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qp(t,e,n){(e!=="number"||md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pl=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function F0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(pl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function oT(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,lT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TP=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(t){TP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xl[e]=xl[t]})});function cT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xl.hasOwnProperty(t)&&xl[t]?(""+e).trim():e+"px"}function uT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xP=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jp(t,e){if(e){if(xP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Zp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var em=null;function Lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tm=null,jo=null,Uo=null;function U0(t){if(t=bc(t)){if(typeof tm!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ih(e),tm(t.stateNode,t.type,e))}}function dT(t){jo?Uo?Uo.push(t):Uo=[t]:jo=t}function hT(){if(jo){var t=jo,e=Uo;if(Uo=jo=null,U0(t),e)for(t=0;t<e.length;t++)U0(e[t])}}function fT(t,e){return t(e)}function pT(){}var zf=!1;function mT(t,e,n){if(zf)return t(e,n);zf=!0;try{return fT(t,e,n)}finally{zf=!1,(jo!==null||Uo!==null)&&(pT(),hT())}}function $l(t,e){var n=t.stateNode;if(n===null)return null;var r=Ih(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var nm=!1;if($r)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){nm=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{nm=!1}function SP(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Sl=!1,gd=null,yd=!1,rm=null,IP={onError:function(t){Sl=!0,gd=t}};function CP(t,e,n,r,i,s,o,a,l){Sl=!1,gd=null,SP.apply(IP,arguments)}function bP(t,e,n,r,i,s,o,a,l){if(CP.apply(this,arguments),Sl){if(Sl){var u=gd;Sl=!1,gd=null}else throw Error(z(198));yd||(yd=!0,rm=u)}}function no(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $0(t){if(no(t)!==t)throw Error(z(188))}function AP(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $0(i),t;if(s===r)return $0(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function yT(t){return t=AP(t),t!==null?vT(t):null}function vT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vT(t);if(e!==null)return e;t=t.sibling}return null}var wT=cn.unstable_scheduleCallback,B0=cn.unstable_cancelCallback,RP=cn.unstable_shouldYield,PP=cn.unstable_requestPaint,Qe=cn.unstable_now,kP=cn.unstable_getCurrentPriorityLevel,Mg=cn.unstable_ImmediatePriority,_T=cn.unstable_UserBlockingPriority,vd=cn.unstable_NormalPriority,NP=cn.unstable_LowPriority,ET=cn.unstable_IdlePriority,Eh=null,cr=null;function DP(t){if(cr&&typeof cr.onCommitFiberRoot=="function")try{cr.onCommitFiberRoot(Eh,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:MP,OP=Math.log,LP=Math.LN2;function MP(t){return t>>>=0,t===0?32:31-(OP(t)/LP|0)|0}var lu=64,cu=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ml(a):(s&=o,s!==0&&(r=ml(s)))}else o=n&~i,o!==0?r=ml(o):s!==0&&(r=ml(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function VP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=VP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function im(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TT(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function Wf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function jP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Vg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function xT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ST,Fg,IT,CT,bT,sm=!1,uu=[],Li=null,Mi=null,Vi=null,Bl=new Map,zl=new Map,wi=[],UP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function il(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bc(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $P(t,e,n,r,i){switch(e){case"focusin":return Li=il(Li,t,e,n,r,i),!0;case"dragenter":return Mi=il(Mi,t,e,n,r,i),!0;case"mouseover":return Vi=il(Vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bl.set(s,il(Bl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zl.set(s,il(zl.get(s)||null,t,e,n,r,i)),!0}return!1}function AT(t){var e=Is(t.target);if(e!==null){var n=no(e);if(n!==null){if(e=n.tag,e===13){if(e=gT(n),e!==null){t.blockedOn=e,bT(t.priority,function(){IT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);em=r,n.target.dispatchEvent(r),em=null}else return e=bc(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function W0(t,e,n){zu(t)&&n.delete(e)}function BP(){sm=!1,Li!==null&&zu(Li)&&(Li=null),Mi!==null&&zu(Mi)&&(Mi=null),Vi!==null&&zu(Vi)&&(Vi=null),Bl.forEach(W0),zl.forEach(W0)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,sm||(sm=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,BP)))}function Wl(t){function e(i){return sl(i,t)}if(0<uu.length){sl(uu[0],t);for(var n=1;n<uu.length;n++){var r=uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Li!==null&&sl(Li,t),Mi!==null&&sl(Mi,t),Vi!==null&&sl(Vi,t),Bl.forEach(e),zl.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)AT(n),n.blockedOn===null&&wi.shift()}var $o=Jr.ReactCurrentBatchConfig,_d=!0;function zP(t,e,n,r){var i=Ce,s=$o.transition;$o.transition=null;try{Ce=1,jg(t,e,n,r)}finally{Ce=i,$o.transition=s}}function WP(t,e,n,r){var i=Ce,s=$o.transition;$o.transition=null;try{Ce=4,jg(t,e,n,r)}finally{Ce=i,$o.transition=s}}function jg(t,e,n,r){if(_d){var i=om(t,e,n,r);if(i===null)ep(t,e,r,Ed,n),z0(t,r);else if($P(i,t,e,n,r))r.stopPropagation();else if(z0(t,r),e&4&&-1<UP.indexOf(t)){for(;i!==null;){var s=bc(i);if(s!==null&&ST(s),s=om(t,e,n,r),s===null&&ep(t,e,r,Ed,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ep(t,e,r,null,n)}}var Ed=null;function om(t,e,n,r){if(Ed=null,t=Lg(r),t=Is(t),t!==null)if(e=no(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ed=t,null}function RT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kP()){case Mg:return 1;case _T:return 4;case vd:case NP:return 16;case ET:return 536870912;default:return 16}default:return 16}}var Pi=null,Ug=null,Wu=null;function PT(){if(Wu)return Wu;var t,e=Ug,n=e.length,r,i="value"in Pi?Pi.value:Pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Wu=i.slice(t,1<r?1-r:void 0)}function Hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function H0(){return!1}function dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?du:H0,this.isPropagationStopped=H0,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=dn(Ia),Cc=ze({},Ia,{view:0,detail:0}),HP=dn(Cc),Hf,qf,ol,Th=ze({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(Hf=t.screenX-ol.screenX,qf=t.screenY-ol.screenY):qf=Hf=0,ol=t),Hf)},movementY:function(t){return"movementY"in t?t.movementY:qf}}),q0=dn(Th),qP=ze({},Th,{dataTransfer:0}),KP=dn(qP),GP=ze({},Cc,{relatedTarget:0}),Kf=dn(GP),QP=ze({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),YP=dn(QP),XP=ze({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JP=dn(XP),ZP=ze({},Ia,{data:0}),K0=dn(ZP),ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nk[t])?!!e[t]:!1}function Bg(){return rk}var ik=ze({},Cc,{key:function(t){if(t.key){var e=ek[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(t){return t.type==="keypress"?Hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sk=dn(ik),ok=ze({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=dn(ok),ak=ze({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),lk=dn(ak),ck=ze({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),uk=dn(ck),dk=ze({},Th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hk=dn(dk),fk=[9,13,27,32],zg=$r&&"CompositionEvent"in window,Il=null;$r&&"documentMode"in document&&(Il=document.documentMode);var pk=$r&&"TextEvent"in window&&!Il,kT=$r&&(!zg||Il&&8<Il&&11>=Il),Q0=" ",Y0=!1;function NT(t,e){switch(t){case"keyup":return fk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bo=!1;function mk(t,e){switch(t){case"compositionend":return DT(e);case"keypress":return e.which!==32?null:(Y0=!0,Q0);case"textInput":return t=e.data,t===Q0&&Y0?null:t;default:return null}}function gk(t,e){if(bo)return t==="compositionend"||!zg&&NT(t,e)?(t=PT(),Wu=Ug=Pi=null,bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kT&&e.locale!=="ko"?null:e.data;default:return null}}var yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yk[t.type]:e==="textarea"}function OT(t,e,n,r){dT(r),e=Td(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,Hl=null;function vk(t){HT(t,0)}function xh(t){var e=Po(t);if(iT(e))return t}function wk(t,e){if(t==="change")return e}var LT=!1;if($r){var Gf;if($r){var Qf="oninput"in document;if(!Qf){var J0=document.createElement("div");J0.setAttribute("oninput","return;"),Qf=typeof J0.oninput=="function"}Gf=Qf}else Gf=!1;LT=Gf&&(!document.documentMode||9<document.documentMode)}function Z0(){Cl&&(Cl.detachEvent("onpropertychange",MT),Hl=Cl=null)}function MT(t){if(t.propertyName==="value"&&xh(Hl)){var e=[];OT(e,Hl,t,Lg(t)),mT(vk,e)}}function _k(t,e,n){t==="focusin"?(Z0(),Cl=e,Hl=n,Cl.attachEvent("onpropertychange",MT)):t==="focusout"&&Z0()}function Ek(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(Hl)}function Tk(t,e){if(t==="click")return xh(e)}function xk(t,e){if(t==="input"||t==="change")return xh(e)}function Sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:Sk;function ql(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bp.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function ew(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tw(t,e){var n=ew(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ew(n)}}function VT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FT(){for(var t=window,e=md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=md(t.document)}return e}function Wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ik(t){var e=FT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VT(n.ownerDocument.documentElement,n)){if(r!==null&&Wg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tw(n,s);var o=tw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ck=$r&&"documentMode"in document&&11>=document.documentMode,Ao=null,am=null,bl=null,lm=!1;function nw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lm||Ao==null||Ao!==md(r)||(r=Ao,"selectionStart"in r&&Wg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&ql(bl,r)||(bl=r,r=Td(am,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ao)))}function hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},Yf={},jT={};$r&&(jT=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Sh(t){if(Yf[t])return Yf[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jT)return Yf[t]=e[n];return t}var UT=Sh("animationend"),$T=Sh("animationiteration"),BT=Sh("animationstart"),zT=Sh("transitionend"),WT=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){WT.set(t,e),to(e,[t])}for(var Xf=0;Xf<rw.length;Xf++){var Jf=rw[Xf],bk=Jf.toLowerCase(),Ak=Jf[0].toUpperCase()+Jf.slice(1);os(bk,"on"+Ak)}os(UT,"onAnimationEnd");os($T,"onAnimationIteration");os(BT,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(zT,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function iw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bP(r,e,void 0,t),t.currentTarget=null}function HT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;iw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;iw(i,a,u),s=l}}}if(yd)throw t=rm,yd=!1,rm=null,t}function De(t,e){var n=e[fm];n===void 0&&(n=e[fm]=new Set);var r=t+"__bubble";n.has(r)||(qT(e,t,2,!1),n.add(r))}function Zf(t,e,n){var r=0;e&&(r|=4),qT(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Kl(t){if(!t[fu]){t[fu]=!0,Z1.forEach(function(n){n!=="selectionchange"&&(Rk.has(n)||Zf(n,!1,t),Zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,Zf("selectionchange",!1,e))}}function qT(t,e,n,r){switch(RT(e)){case 1:var i=zP;break;case 4:i=WP;break;default:i=jg}n=i.bind(null,e,n,t),i=void 0,!nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ep(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Is(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mT(function(){var u=s,d=Lg(n),h=[];e:{var f=WT.get(t);if(f!==void 0){var m=$g,T=t;switch(t){case"keypress":if(Hu(n)===0)break e;case"keydown":case"keyup":m=sk;break;case"focusin":T="focus",m=Kf;break;case"focusout":T="blur",m=Kf;break;case"beforeblur":case"afterblur":m=Kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=KP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lk;break;case UT:case $T:case BT:m=YP;break;case zT:m=uk;break;case"scroll":m=HP;break;case"wheel":m=hk;break;case"copy":case"cut":case"paste":m=JP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=G0}var y=(e&4)!==0,_=!y&&t==="scroll",w=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,w!==null&&(A=$l(v,w),A!=null&&y.push(Gl(v,A,x)))),_)break;v=v.return}0<y.length&&(f=new m(f,T,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==em&&(T=n.relatedTarget||n.fromElement)&&(Is(T)||T[Br]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=u,T=T?Is(T):null,T!==null&&(_=no(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=u),m!==T)){if(y=q0,A="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=G0,A="onPointerLeave",w="onPointerEnter",v="pointer"),_=m==null?f:Po(m),x=T==null?f:Po(T),f=new y(A,v+"leave",m,n,d),f.target=_,f.relatedTarget=x,A=null,Is(d)===u&&(y=new y(w,v+"enter",T,n,d),y.target=x,y.relatedTarget=_,A=y),_=A,m&&T)t:{for(y=m,w=T,v=0,x=y;x;x=po(x))v++;for(x=0,A=w;A;A=po(A))x++;for(;0<v-x;)y=po(y),v--;for(;0<x-v;)w=po(w),x--;for(;v--;){if(y===w||w!==null&&y===w.alternate)break t;y=po(y),w=po(w)}y=null}else y=null;m!==null&&sw(h,f,m,y,!1),T!==null&&_!==null&&sw(h,_,T,y,!0)}}e:{if(f=u?Po(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var O=wk;else if(X0(f))if(LT)O=xk;else{O=Ek;var D=_k}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=Tk);if(O&&(O=O(t,u))){OT(h,O,n,d);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Qp(f,"number",f.value)}switch(D=u?Po(u):window,t){case"focusin":(X0(D)||D.contentEditable==="true")&&(Ao=D,am=u,bl=null);break;case"focusout":bl=am=Ao=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,nw(h,n,d);break;case"selectionchange":if(Ck)break;case"keydown":case"keyup":nw(h,n,d)}var I;if(zg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bo?NT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(kT&&n.locale!=="ko"&&(bo||S!=="onCompositionStart"?S==="onCompositionEnd"&&bo&&(I=PT()):(Pi=d,Ug="value"in Pi?Pi.value:Pi.textContent,bo=!0)),D=Td(u,S),0<D.length&&(S=new K0(S,t,null,n,d),h.push({event:S,listeners:D}),I?S.data=I:(I=DT(n),I!==null&&(S.data=I)))),(I=pk?mk(t,n):gk(t,n))&&(u=Td(u,"onBeforeInput"),0<u.length&&(d=new K0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}HT(h,e)})}function Gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Td(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$l(t,n),s!=null&&r.unshift(Gl(t,s,i)),s=$l(t,e),s!=null&&r.push(Gl(t,s,i))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=$l(n,s),l!=null&&o.unshift(Gl(n,l,a))):i||(l=$l(n,s),l!=null&&o.push(Gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Pk=/\r\n?/g,kk=/\u0000|\uFFFD/g;function ow(t){return(typeof t=="string"?t:""+t).replace(Pk,`
`).replace(kk,"")}function pu(t,e,n){if(e=ow(e),ow(t)!==e&&n)throw Error(z(425))}function xd(){}var cm=null,um=null;function dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hm=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,Dk=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(t){return aw.resolve(null).then(t).catch(Ok)}:hm;function Ok(t){setTimeout(function(){throw t})}function tp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wl(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),or="__reactFiber$"+Ca,Ql="__reactProps$"+Ca,Br="__reactContainer$"+Ca,fm="__reactEvents$"+Ca,Lk="__reactListeners$"+Ca,Mk="__reactHandles$"+Ca;function Is(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Br]||n[or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lw(t);t!==null;){if(n=t[or])return n;t=lw(t)}return e}t=n,n=t.parentNode}return null}function bc(t){return t=t[or]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ih(t){return t[Ql]||null}var pm=[],ko=-1;function as(t){return{current:t}}function Me(t){0>ko||(t.current=pm[ko],pm[ko]=null,ko--)}function Pe(t,e){ko++,pm[ko]=t.current,t.current=e}var Yi={},Dt=as(Yi),Qt=as(!1),Us=Yi;function ca(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(t){return t=t.childContextTypes,t!=null}function Sd(){Me(Qt),Me(Dt)}function cw(t,e,n){if(Dt.current!==Yi)throw Error(z(168));Pe(Dt,e),Pe(Qt,n)}function KT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,_P(t)||"Unknown",i));return ze({},n,r)}function Id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,Us=Dt.current,Pe(Dt,t),Pe(Qt,Qt.current),!0}function uw(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=KT(t,e,Us),r.__reactInternalMemoizedMergedChildContext=t,Me(Qt),Me(Dt),Pe(Dt,t)):Me(Qt),Pe(Qt,n)}var Or=null,Ch=!1,np=!1;function GT(t){Or===null?Or=[t]:Or.push(t)}function Vk(t){Ch=!0,GT(t)}function ls(){if(!np&&Or!==null){np=!0;var t=0,e=Ce;try{var n=Or;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,Ch=!1}catch(i){throw Or!==null&&(Or=Or.slice(t+1)),wT(Mg,ls),i}finally{Ce=e,np=!1}}return null}var No=[],Do=0,Cd=null,bd=0,mn=[],gn=0,$s=null,Mr=1,Vr="";function Ts(t,e){No[Do++]=bd,No[Do++]=Cd,Cd=t,bd=e}function QT(t,e,n){mn[gn++]=Mr,mn[gn++]=Vr,mn[gn++]=$s,$s=t;var r=Mr;t=Vr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var s=32-Vn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Vn(e)+i|n<<i|r,Vr=s+t}else Mr=1<<s|n<<i|r,Vr=t}function Hg(t){t.return!==null&&(Ts(t,1),QT(t,1,0))}function qg(t){for(;t===Cd;)Cd=No[--Do],No[Do]=null,bd=No[--Do],No[Do]=null;for(;t===$s;)$s=mn[--gn],mn[gn]=null,Vr=mn[--gn],mn[gn]=null,Mr=mn[--gn],mn[gn]=null}var an=null,sn=null,Fe=!1,On=null;function YT(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,sn=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$s!==null?{id:Mr,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,sn=null,!0):!1;default:return!1}}function mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gm(t){if(Fe){var e=sn;if(e){var n=e;if(!dw(t,e)){if(mm(t))throw Error(z(418));e=Fi(n.nextSibling);var r=an;e&&dw(t,e)?YT(r,n):(t.flags=t.flags&-4097|2,Fe=!1,an=t)}}else{if(mm(t))throw Error(z(418));t.flags=t.flags&-4097|2,Fe=!1,an=t}}}function hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function mu(t){if(t!==an)return!1;if(!Fe)return hw(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dm(t.type,t.memoizedProps)),e&&(e=sn)){if(mm(t))throw XT(),Error(z(418));for(;e;)YT(t,e),e=Fi(e.nextSibling)}if(hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=an?Fi(t.stateNode.nextSibling):null;return!0}function XT(){for(var t=sn;t;)t=Fi(t.nextSibling)}function ua(){sn=an=null,Fe=!1}function Kg(t){On===null?On=[t]:On.push(t)}var Fk=Jr.ReactCurrentBatchConfig;function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fw(t){var e=t._init;return e(t._payload)}function JT(t){function e(w,v){if(t){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Bi(w,v),w.index=0,w.sibling=null,w}function s(w,v,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,x,A){return v===null||v.tag!==6?(v=cp(x,w.mode,A),v.return=w,v):(v=i(v,x),v.return=w,v)}function l(w,v,x,A){var O=x.type;return O===Co?d(w,v,x.props.children,A,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===yi&&fw(O)===v.type)?(A=i(v,x.props),A.ref=al(w,v,x),A.return=w,A):(A=Ju(x.type,x.key,x.props,null,w.mode,A),A.ref=al(w,v,x),A.return=w,A)}function u(w,v,x,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=up(x,w.mode,A),v.return=w,v):(v=i(v,x.children||[]),v.return=w,v)}function d(w,v,x,A,O){return v===null||v.tag!==7?(v=Ms(x,w.mode,A,O),v.return=w,v):(v=i(v,x),v.return=w,v)}function h(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cp(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case su:return x=Ju(v.type,v.key,v.props,null,w.mode,x),x.ref=al(w,null,v),x.return=w,x;case Io:return v=up(v,w.mode,x),v.return=w,v;case yi:var A=v._init;return h(w,A(v._payload),x)}if(pl(v)||nl(v))return v=Ms(v,w.mode,x,null),v.return=w,v;gu(w,v)}return null}function f(w,v,x,A){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(w,v,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case su:return x.key===O?l(w,v,x,A):null;case Io:return x.key===O?u(w,v,x,A):null;case yi:return O=x._init,f(w,v,O(x._payload),A)}if(pl(x)||nl(x))return O!==null?null:d(w,v,x,A,null);gu(w,x)}return null}function m(w,v,x,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(x)||null,a(v,w,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case su:return w=w.get(A.key===null?x:A.key)||null,l(v,w,A,O);case Io:return w=w.get(A.key===null?x:A.key)||null,u(v,w,A,O);case yi:var D=A._init;return m(w,v,x,D(A._payload),O)}if(pl(A)||nl(A))return w=w.get(x)||null,d(v,w,A,O,null);gu(v,A)}return null}function T(w,v,x,A){for(var O=null,D=null,I=v,S=v=0,R=null;I!==null&&S<x.length;S++){I.index>S?(R=I,I=null):R=I.sibling;var P=f(w,I,x[S],A);if(P===null){I===null&&(I=R);break}t&&I&&P.alternate===null&&e(w,I),v=s(P,v,S),D===null?O=P:D.sibling=P,D=P,I=R}if(S===x.length)return n(w,I),Fe&&Ts(w,S),O;if(I===null){for(;S<x.length;S++)I=h(w,x[S],A),I!==null&&(v=s(I,v,S),D===null?O=I:D.sibling=I,D=I);return Fe&&Ts(w,S),O}for(I=r(w,I);S<x.length;S++)R=m(I,w,S,x[S],A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?S:R.key),v=s(R,v,S),D===null?O=R:D.sibling=R,D=R);return t&&I.forEach(function(N){return e(w,N)}),Fe&&Ts(w,S),O}function y(w,v,x,A){var O=nl(x);if(typeof O!="function")throw Error(z(150));if(x=O.call(x),x==null)throw Error(z(151));for(var D=O=null,I=v,S=v=0,R=null,P=x.next();I!==null&&!P.done;S++,P=x.next()){I.index>S?(R=I,I=null):R=I.sibling;var N=f(w,I,P.value,A);if(N===null){I===null&&(I=R);break}t&&I&&N.alternate===null&&e(w,I),v=s(N,v,S),D===null?O=N:D.sibling=N,D=N,I=R}if(P.done)return n(w,I),Fe&&Ts(w,S),O;if(I===null){for(;!P.done;S++,P=x.next())P=h(w,P.value,A),P!==null&&(v=s(P,v,S),D===null?O=P:D.sibling=P,D=P);return Fe&&Ts(w,S),O}for(I=r(w,I);!P.done;S++,P=x.next())P=m(I,w,S,P.value,A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),v=s(P,v,S),D===null?O=P:D.sibling=P,D=P);return t&&I.forEach(function(L){return e(w,L)}),Fe&&Ts(w,S),O}function _(w,v,x,A){if(typeof x=="object"&&x!==null&&x.type===Co&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case su:e:{for(var O=x.key,D=v;D!==null;){if(D.key===O){if(O=x.type,O===Co){if(D.tag===7){n(w,D.sibling),v=i(D,x.props.children),v.return=w,w=v;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===yi&&fw(O)===D.type){n(w,D.sibling),v=i(D,x.props),v.ref=al(w,D,x),v.return=w,w=v;break e}n(w,D);break}else e(w,D);D=D.sibling}x.type===Co?(v=Ms(x.props.children,w.mode,A,x.key),v.return=w,w=v):(A=Ju(x.type,x.key,x.props,null,w.mode,A),A.ref=al(w,v,x),A.return=w,w=A)}return o(w);case Io:e:{for(D=x.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(w,v.sibling),v=i(v,x.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=up(x,w.mode,A),v.return=w,w=v}return o(w);case yi:return D=x._init,_(w,v,D(x._payload),A)}if(pl(x))return T(w,v,x,A);if(nl(x))return y(w,v,x,A);gu(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,x),v.return=w,w=v):(n(w,v),v=cp(x,w.mode,A),v.return=w,w=v),o(w)):n(w,v)}return _}var da=JT(!0),ZT=JT(!1),Ad=as(null),Rd=null,Oo=null,Gg=null;function Qg(){Gg=Oo=Rd=null}function Yg(t){var e=Ad.current;Me(Ad),t._currentValue=e}function ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){Rd=t,Gg=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function Tn(t){var e=t._currentValue;if(Gg!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(Rd===null)throw Error(z(308));Oo=t,Rd.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var Cs=null;function Xg(t){Cs===null?Cs=[t]:Cs.push(t)}function ex(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xg(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vi=!1;function Jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Xg(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function qu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}function pw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pd(t,e,n,r){var i=t.updateQueue;vi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,y=a;switch(f=e,m=n,y.tag){case 1:if(T=y.payload,typeof T=="function"){h=T.call(m,h,f);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=y.payload,f=typeof T=="function"?T.call(m,h,f):T,f==null)break e;h=ze({},h,f);break e;case 2:vi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zs|=o,t.lanes=o,t.memoizedState=h}}function mw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Ac={},ur=as(Ac),Yl=as(Ac),Xl=as(Ac);function bs(t){if(t===Ac)throw Error(z(174));return t}function Zg(t,e){switch(Pe(Xl,e),Pe(Yl,t),Pe(ur,Ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xp(e,t)}Me(ur),Pe(ur,e)}function ha(){Me(ur),Me(Yl),Me(Xl)}function nx(t){bs(Xl.current);var e=bs(ur.current),n=Xp(e,t.type);e!==n&&(Pe(Yl,t),Pe(ur,n))}function ey(t){Yl.current===t&&(Me(ur),Me(Yl))}var Ue=as(0);function kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rp=[];function ty(){for(var t=0;t<rp.length;t++)rp[t]._workInProgressVersionPrimary=null;rp.length=0}var Ku=Jr.ReactCurrentDispatcher,ip=Jr.ReactCurrentBatchConfig,Bs=0,$e=null,ot=null,mt=null,Nd=!1,Al=!1,Jl=0,jk=0;function Ct(){throw Error(z(321))}function ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function ry(t,e,n,r,i,s){if(Bs=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ku.current=t===null||t.memoizedState===null?zk:Wk,t=n(r,i),Al){s=0;do{if(Al=!1,Jl=0,25<=s)throw Error(z(301));s+=1,mt=ot=null,e.updateQueue=null,Ku.current=Hk,t=n(r,i)}while(Al)}if(Ku.current=Dd,e=ot!==null&&ot.next!==null,Bs=0,mt=ot=$e=null,Nd=!1,e)throw Error(z(300));return t}function iy(){var t=Jl!==0;return Jl=0,t}function tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?$e.memoizedState=mt=t:mt=mt.next=t,mt}function xn(){if(ot===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=mt===null?$e.memoizedState:mt.next;if(e!==null)mt=e,ot=t;else{if(t===null)throw Error(z(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},mt===null?$e.memoizedState=mt=t:mt=mt.next=t}return mt}function Zl(t,e){return typeof e=="function"?e(t):e}function sp(t){var e=xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Bs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=d,zs|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Un(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,zs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function op(t){var e=xn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Un(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rx(){}function ix(t,e){var n=$e,r=xn(),i=e(),s=!Un(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,sy(ax.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,ec(9,ox.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(z(349));Bs&30||sx(n,e,i)}return i}function sx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ox(t,e,n,r){e.value=n,e.getSnapshot=r,lx(e)&&cx(t)}function ax(t,e,n){return n(function(){lx(e)&&cx(t)})}function lx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function cx(t){var e=zr(t,1);e!==null&&Fn(e,t,1,-1)}function gw(t){var e=tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:t},e.queue=t,t=t.dispatch=Bk.bind(null,$e,t),[e.memoizedState,t]}function ec(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ux(){return xn().memoizedState}function Gu(t,e,n,r){var i=tr();$e.flags|=t,i.memoizedState=ec(1|e,n,void 0,r===void 0?null:r)}function bh(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,r!==null&&ny(r,o.deps)){i.memoizedState=ec(e,n,s,r);return}}$e.flags|=t,i.memoizedState=ec(1|e,n,s,r)}function yw(t,e){return Gu(8390656,8,t,e)}function sy(t,e){return bh(2048,8,t,e)}function dx(t,e){return bh(4,2,t,e)}function hx(t,e){return bh(4,4,t,e)}function fx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function px(t,e,n){return n=n!=null?n.concat([t]):null,bh(4,4,fx.bind(null,e,t),n)}function oy(){}function mx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gx(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yx(t,e,n){return Bs&21?(Un(n,e)||(n=TT(),$e.lanes|=n,zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function Uk(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=ip.transition;ip.transition={};try{t(!1),e()}finally{Ce=n,ip.transition=r}}function vx(){return xn().memoizedState}function $k(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wx(t))_x(e,n);else if(n=ex(t,e,n,r),n!==null){var i=jt();Fn(n,t,r,i),Ex(n,e,r)}}function Bk(t,e,n){var r=$i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wx(t))_x(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Un(a,o)){var l=e.interleaved;l===null?(i.next=i,Xg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ex(t,e,i,r),n!==null&&(i=jt(),Fn(n,t,r,i),Ex(n,e,r))}}function wx(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function _x(t,e){Al=Nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ex(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Vg(t,n)}}var Dd={readContext:Tn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},zk={readContext:Tn,useCallback:function(t,e){return tr().memoizedState=[t,e===void 0?null:e],t},useContext:Tn,useEffect:yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4194308,4,fx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gu(4,2,t,e)},useMemo:function(t,e){var n=tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$k.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=tr();return t={current:t},e.memoizedState=t},useState:gw,useDebugValue:oy,useDeferredValue:function(t){return tr().memoizedState=t},useTransition:function(){var t=gw(!1),e=t[0];return t=Uk.bind(null,t[1]),tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=tr();if(Fe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),gt===null)throw Error(z(349));Bs&30||sx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,yw(ax.bind(null,r,s,t),[t]),r.flags|=2048,ec(9,ox.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=tr(),e=gt.identifierPrefix;if(Fe){var n=Vr,r=Mr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wk={readContext:Tn,useCallback:mx,useContext:Tn,useEffect:sy,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:hx,useMemo:gx,useReducer:sp,useRef:ux,useState:function(){return sp(Zl)},useDebugValue:oy,useDeferredValue:function(t){var e=xn();return yx(e,ot.memoizedState,t)},useTransition:function(){var t=sp(Zl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:rx,useSyncExternalStore:ix,useId:vx,unstable_isNewReconciler:!1},Hk={readContext:Tn,useCallback:mx,useContext:Tn,useEffect:sy,useImperativeHandle:px,useInsertionEffect:dx,useLayoutEffect:hx,useMemo:gx,useReducer:op,useRef:ux,useState:function(){return op(Zl)},useDebugValue:oy,useDeferredValue:function(t){var e=xn();return ot===null?e.memoizedState=t:yx(e,ot.memoizedState,t)},useTransition:function(){var t=op(Zl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:rx,useSyncExternalStore:ix,useId:vx,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ah={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),i=$i(t),s=Ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(Fn(e,t,i,r),qu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),i=$i(t),s=Ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(Fn(e,t,i,r),qu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=$i(t),i=Ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,r),e!==null&&(Fn(e,t,r,n),qu(e,t,r))}};function vw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ql(n,r)||!ql(i,s):!0}function Tx(t,e,n){var r=!1,i=Yi,s=e.contextType;return typeof s=="object"&&s!==null?s=Tn(s):(i=Yt(e)?Us:Dt.current,r=e.contextTypes,s=(r=r!=null)?ca(t,i):Yi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ah,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ww(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ah.enqueueReplaceState(e,e.state,null)}function wm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Jg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Tn(s):(s=Yt(e)?Us:Dt.current,i.context=ca(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(vm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ah.enqueueReplaceState(i,i.state,null),Pd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fa(t,e){try{var n="",r=e;do n+=wP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ap(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qk=typeof WeakMap=="function"?WeakMap:Map;function xx(t,e,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ld||(Ld=!0,Pm=r),_m(t,e)},n}function Sx(t,e,n){n=Ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_m(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){_m(t,e),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _w(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oN.bind(null,t,e,n),e.then(t,t))}function Ew(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ur(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var Kk=Jr.ReactCurrentOwner,Gt=!1;function Vt(t,e,n,r){e.child=t===null?ZT(e,null,n,r):da(e,t.child,n,r)}function xw(t,e,n,r,i){n=n.render;var s=e.ref;return Bo(e,i),r=ry(t,e,n,r,s,i),n=iy(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(Fe&&n&&Hg(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Sw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!py(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ix(t,e,s,r,i)):(t=Ju(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ql,n(o,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=Bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ix(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ql(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return Em(t,e,n,r,i)}function Cx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Mo,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Mo,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Mo,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Mo,tn),tn|=r;return Vt(t,e,i,n),e.child}function bx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Em(t,e,n,r,i){var s=Yt(n)?Us:Dt.current;return s=ca(e,s),Bo(e,i),n=ry(t,e,n,r,s,i),r=iy(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(Fe&&r&&Hg(e),e.flags|=1,Vt(t,e,n,i),e.child)}function Iw(t,e,n,r,i){if(Yt(n)){var s=!0;Id(e)}else s=!1;if(Bo(e,i),e.stateNode===null)Qu(t,e),Tx(e,n,r),wm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Yt(n)?Us:Dt.current,u=ca(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ww(e,o,r,u),vi=!1;var f=e.memoizedState;o.state=f,Pd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Qt.current||vi?(typeof d=="function"&&(vm(e,n,d,r),l=e.memoizedState),(a=vi||vw(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Rn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Tn(l):(l=Yt(n)?Us:Dt.current,l=ca(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ww(e,o,r,l),vi=!1,f=e.memoizedState,o.state=f,Pd(e,r,o,i);var T=e.memoizedState;a!==h||f!==T||Qt.current||vi?(typeof m=="function"&&(vm(e,n,m,r),T=e.memoizedState),(u=vi||vw(e,n,u,r,f,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Tm(t,e,n,r,s,i)}function Tm(t,e,n,r,i,s){bx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uw(e,n,!1),Wr(t,e,s);r=e.stateNode,Kk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=da(e,t.child,null,s),e.child=da(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&uw(e,n,!0),e.child}function Ax(t){var e=t.stateNode;e.pendingContext?cw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cw(t,e.context,!1),Zg(t,e.containerInfo)}function Cw(t,e,n,r,i){return ua(),Kg(i),e.flags|=256,Vt(t,e,n,r),e.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function Sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rx(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Ue,i&1),t===null)return gm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kh(o,r,0,null),t=Ms(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sm(n),e.memoizedState=xm,t):ay(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bi(a,s):(s=Ms(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xm,r}return s=t.child,t=s.sibling,r=Bi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ay(t,e){return e=kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&Kg(r),da(e,t.child,null,n),t=ay(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ap(Error(z(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kh({mode:"visible",children:r.children},i,0,null),s=Ms(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&da(e,t.child,null,o),e.child.memoizedState=Sm(o),e.memoizedState=xm,s);if(!(e.mode&1))return yu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=ap(s,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=gt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zr(t,i),Fn(r,t,i,-1))}return fy(),r=ap(Error(z(421))),yu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,sn=Fi(i.nextSibling),an=e,Fe=!0,On=null,t!==null&&(mn[gn++]=Mr,mn[gn++]=Vr,mn[gn++]=$s,Mr=t.id,Vr=t.overflow,$s=e),e=ay(e,r.children),e.flags|=4096,e)}function bw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ym(t.return,e,n)}function lp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Px(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bw(t,n,e);else if(t.tag===19)bw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lp(e,!0,n,null,s);break;case"together":lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qk(t,e,n){switch(e.tag){case 3:Ax(e),ua();break;case 5:nx(e);break;case 1:Yt(e.type)&&Id(e);break;case 4:Zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Ad,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?Rx(t,e,n):(Pe(Ue,Ue.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);Pe(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Px(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,Cx(t,e,n)}return Wr(t,e,n)}var kx,Im,Nx,Dx;kx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Im=function(){};Nx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bs(ur.current);var s=null;switch(n){case"input":i=Kp(t,i),r=Kp(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=Yp(t,i),r=Yp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xd)}Jp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Dx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Yk(t,e,n){var r=e.pendingProps;switch(qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Yt(e.type)&&Sd(),bt(e),null;case 3:return r=e.stateNode,ha(),Me(Qt),Me(Dt),ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Dm(On),On=null))),Im(t,e),bt(e),null;case 5:ey(e);var i=bs(Xl.current);if(n=e.type,t!==null&&e.stateNode!=null)Nx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return bt(e),null}if(t=bs(ur.current),mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[or]=e,r[Ql]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<gl.length;i++)De(gl[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":M0(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":F0(r,s),De("invalid",r)}Jp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",""+a]):jl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":ou(r),V0(r,s,!0);break;case"textarea":ou(r),j0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[or]=e,t[Ql]=r,kx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zp(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<gl.length;i++)De(gl[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":M0(t,r),i=Kp(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),De("invalid",t);break;case"textarea":F0(t,r),i=Yp(t,r),De("invalid",t);break;default:i=r}Jp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&kg(t,s,l,o))}switch(n){case"input":ou(t),V0(t,r,!1);break;case"textarea":ou(t),j0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)Dx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=bs(Xl.current),bs(ur.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[or]=e,(s=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[or]=e,e.stateNode=r}return bt(e),null;case 13:if(Me(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&sn!==null&&e.mode&1&&!(e.flags&128))XT(),ua(),e.flags|=98560,s=!1;else if(s=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[or]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else On!==null&&(Dm(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?at===0&&(at=3):fy())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return ha(),Im(t,e),t===null&&Kl(e.stateNode.containerInfo),bt(e),null;case 10:return Yg(e.type._context),bt(e),null;case 17:return Yt(e.type)&&Sd(),bt(e),null;case 19:if(Me(Ue),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ll(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kd(t),o!==null){for(e.flags|=128,ll(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qe()>pa&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304)}else{if(!r)if(t=kd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return bt(e),null}else 2*Qe()-s.renderingStartTime>pa&&n!==1073741824&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qe(),e.sibling=null,n=Ue.current,Pe(Ue,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return hy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Xk(t,e){switch(qg(e),e.tag){case 1:return Yt(e.type)&&Sd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ha(),Me(Qt),Me(Dt),ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ey(e),null;case 13:if(Me(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ue),null;case 4:return ha(),null;case 10:return Yg(e.type._context),null;case 22:case 23:return hy(),null;case 24:return null;default:return null}}var vu=!1,kt=!1,Jk=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Cm(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Aw=!1;function Zk(t,e){if(cm=_d,t=FT(),Wg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(um={focusedElem:t,selectionRange:n},_d=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var y=T.memoizedProps,_=T.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Rn(e.type,y),_);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){Ke(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return T=Aw,Aw=!1,T}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cm(e,n,s)}i=i.next}while(i!==r)}}function Rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ox(t){var e=t.alternate;e!==null&&(t.alternate=null,Ox(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[or],delete e[Ql],delete e[fm],delete e[Lk],delete e[Mk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lx(t){return t.tag===5||t.tag===3||t.tag===4}function Rw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Am(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xd));else if(r!==4&&(t=t.child,t!==null))for(Am(t,e,n),t=t.sibling;t!==null;)Am(t,e,n),t=t.sibling}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}var vt=null,Dn=!1;function di(t,e,n){for(n=n.child;n!==null;)Mx(t,e,n),n=n.sibling}function Mx(t,e,n){if(cr&&typeof cr.onCommitFiberUnmount=="function")try{cr.onCommitFiberUnmount(Eh,n)}catch{}switch(n.tag){case 5:kt||Lo(n,e);case 6:var r=vt,i=Dn;vt=null,di(t,e,n),vt=r,Dn=i,vt!==null&&(Dn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Dn?(t=vt,n=n.stateNode,t.nodeType===8?tp(t.parentNode,n):t.nodeType===1&&tp(t,n),Wl(t)):tp(vt,n.stateNode));break;case 4:r=vt,i=Dn,vt=n.stateNode.containerInfo,Dn=!0,di(t,e,n),vt=r,Dn=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cm(n,e,o),i=i.next}while(i!==r)}di(t,e,n);break;case 1:if(!kt&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}di(t,e,n);break;case 21:di(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,di(t,e,n),kt=r):di(t,e,n);break;default:di(t,e,n)}}function Pw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jk),e.forEach(function(r){var i=lN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Dn=!1;break e;case 3:vt=a.stateNode.containerInfo,Dn=!0;break e;case 4:vt=a.stateNode.containerInfo,Dn=!0;break e}a=a.return}if(vt===null)throw Error(z(160));Mx(s,o,i),vt=null,Dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vx(e,t),e=e.sibling}function Vx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),er(t),r&4){try{Rl(3,t,t.return),Rh(3,t)}catch(y){Ke(t,t.return,y)}try{Rl(5,t,t.return)}catch(y){Ke(t,t.return,y)}}break;case 1:bn(e,t),er(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(bn(e,t),er(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var i=t.stateNode;try{Ul(i,"")}catch(y){Ke(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sT(i,s),Zp(a,o);var u=Zp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?uT(i,h):d==="dangerouslySetInnerHTML"?lT(i,h):d==="children"?Ul(i,h):kg(i,d,h,u)}switch(a){case"input":Gp(i,s);break;case"textarea":oT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Fo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ql]=s}catch(y){Ke(t,t.return,y)}}break;case 6:if(bn(e,t),er(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ke(t,t.return,y)}}break;case 3:if(bn(e,t),er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(e.containerInfo)}catch(y){Ke(t,t.return,y)}break;case 4:bn(e,t),er(t);break;case 13:bn(e,t),er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uy=Qe())),r&4&&Pw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(u=kt)||d,bn(e,t),kt=u):bn(e,t),er(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Rl(4,f,f.return);break;case 1:Lo(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(y){Ke(r,n,y)}}break;case 5:Lo(f,f.return);break;case 22:if(f.memoizedState!==null){Nw(h);continue}}m!==null?(m.return=f,Y=m):Nw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cT("display",o))}catch(y){Ke(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ke(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,t),er(t),r&4&&Pw(t);break;case 21:break;default:bn(e,t),er(t)}}function er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ul(i,""),r.flags&=-33);var s=Rw(t);Rm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rw(t);Am(t,a,o);break;default:throw Error(z(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eN(t,e,n){Y=t,Fx(t)}function Fx(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=vu;var u=kt;if(vu=o,(kt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Dw(i):l!==null?(l.return=o,Y=l):Dw(i);for(;s!==null;)Y=s,Fx(s),s=s.sibling;Y=i,vu=a,kt=u}kw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):kw(t)}}function kw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}kt||e.flags&512&&bm(e)}catch(f){Ke(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Nw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Dw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rh(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{bm(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{bm(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var tN=Math.ceil,Od=Jr.ReactCurrentDispatcher,ly=Jr.ReactCurrentOwner,_n=Jr.ReactCurrentBatchConfig,Te=0,gt=null,Ze=null,Et=0,tn=0,Mo=as(0),at=0,tc=null,zs=0,Ph=0,cy=0,Pl=null,qt=null,uy=0,pa=1/0,Dr=null,Ld=!1,Pm=null,Ui=null,wu=!1,ki=null,Md=0,kl=0,km=null,Yu=-1,Xu=0;function jt(){return Te&6?Qe():Yu!==-1?Yu:Yu=Qe()}function $i(t){return t.mode&1?Te&2&&Et!==0?Et&-Et:Fk.transition!==null?(Xu===0&&(Xu=TT()),Xu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:RT(t.type)),t):1}function Fn(t,e,n,r){if(50<kl)throw kl=0,km=null,Error(z(185));Ic(t,n,r),(!(Te&2)||t!==gt)&&(t===gt&&(!(Te&2)&&(Ph|=n),at===4&&_i(t,Et)),Xt(t,r),n===1&&Te===0&&!(e.mode&1)&&(pa=Qe()+500,Ch&&ls()))}function Xt(t,e){var n=t.callbackNode;FP(t,e);var r=wd(t,t===gt?Et:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?Vk(Ow.bind(null,t)):GT(Ow.bind(null,t)),Dk(function(){!(Te&6)&&ls()}),n=null;else{switch(xT(r)){case 1:n=Mg;break;case 4:n=_T;break;case 16:n=vd;break;case 536870912:n=ET;break;default:n=vd}n=qx(n,jx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jx(t,e){if(Yu=-1,Xu=0,Te&6)throw Error(z(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=wd(t,t===gt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vd(t,r);else{e=r;var i=Te;Te|=2;var s=$x();(gt!==t||Et!==e)&&(Dr=null,pa=Qe()+500,Ls(t,e));do try{iN();break}catch(a){Ux(t,a)}while(!0);Qg(),Od.current=s,Te=i,Ze!==null?e=0:(gt=null,Et=0,e=at)}if(e!==0){if(e===2&&(i=im(t),i!==0&&(r=i,e=Nm(t,i))),e===1)throw n=tc,Ls(t,0),_i(t,r),Xt(t,Qe()),n;if(e===6)_i(t,r);else{if(i=t.current.alternate,!(r&30)&&!nN(i)&&(e=Vd(t,r),e===2&&(s=im(t),s!==0&&(r=s,e=Nm(t,s))),e===1))throw n=tc,Ls(t,0),_i(t,r),Xt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:xs(t,qt,Dr);break;case 3:if(_i(t,r),(r&130023424)===r&&(e=uy+500-Qe(),10<e)){if(wd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hm(xs.bind(null,t,qt,Dr),e);break}xs(t,qt,Dr);break;case 4:if(_i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tN(r/1960))-r,10<r){t.timeoutHandle=hm(xs.bind(null,t,qt,Dr),r);break}xs(t,qt,Dr);break;case 5:xs(t,qt,Dr);break;default:throw Error(z(329))}}}return Xt(t,Qe()),t.callbackNode===n?jx.bind(null,t):null}function Nm(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(Ls(t,e).flags|=256),t=Vd(t,e),t!==2&&(e=qt,qt=n,e!==null&&Dm(e)),t}function Dm(t){qt===null?qt=t:qt.push.apply(qt,t)}function nN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _i(t,e){for(e&=~cy,e&=~Ph,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function Ow(t){if(Te&6)throw Error(z(327));zo();var e=wd(t,0);if(!(e&1))return Xt(t,Qe()),null;var n=Vd(t,e);if(t.tag!==0&&n===2){var r=im(t);r!==0&&(e=r,n=Nm(t,r))}if(n===1)throw n=tc,Ls(t,0),_i(t,e),Xt(t,Qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xs(t,qt,Dr),Xt(t,Qe()),null}function dy(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(pa=Qe()+500,Ch&&ls())}}function Ws(t){ki!==null&&ki.tag===0&&!(Te&6)&&zo();var e=Te;Te|=1;var n=_n.transition,r=Ce;try{if(_n.transition=null,Ce=1,t)return t()}finally{Ce=r,_n.transition=n,Te=e,!(Te&6)&&ls()}}function hy(){tn=Mo.current,Me(Mo)}function Ls(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nk(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sd();break;case 3:ha(),Me(Qt),Me(Dt),ty();break;case 5:ey(r);break;case 4:ha();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:Yg(r.type._context);break;case 22:case 23:hy()}n=n.return}if(gt=t,Ze=t=Bi(t.current,null),Et=tn=e,at=0,tc=null,cy=Ph=zs=0,qt=Pl=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Cs=null}return t}function Ux(t,e){do{var n=Ze;try{if(Qg(),Ku.current=Dd,Nd){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}if(Bs=0,mt=ot=$e=null,Al=!1,Jl=0,ly.current=null,n===null||n.return===null){at=1,tc=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ew(o);if(m!==null){m.flags&=-257,Tw(m,o,a,s,e),m.mode&1&&_w(s,u,e),e=m,l=u;var T=e.updateQueue;if(T===null){var y=new Set;y.add(l),e.updateQueue=y}else T.add(l);break e}else{if(!(e&1)){_w(s,u,e),fy();break e}l=Error(z(426))}}else if(Fe&&a.mode&1){var _=Ew(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Tw(_,o,a,s,e),Kg(fa(l,a));break e}}s=l=fa(l,a),at!==4&&(at=2),Pl===null?Pl=[s]:Pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=xx(s,l,e);pw(s,w);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ui===null||!Ui.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=Sx(s,a,e);pw(s,A);break e}}s=s.return}while(s!==null)}zx(n)}catch(O){e=O,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function $x(){var t=Od.current;return Od.current=Dd,t===null?Dd:t}function fy(){(at===0||at===3||at===2)&&(at=4),gt===null||!(zs&268435455)&&!(Ph&268435455)||_i(gt,Et)}function Vd(t,e){var n=Te;Te|=2;var r=$x();(gt!==t||Et!==e)&&(Dr=null,Ls(t,e));do try{rN();break}catch(i){Ux(t,i)}while(!0);if(Qg(),Te=n,Od.current=r,Ze!==null)throw Error(z(261));return gt=null,Et=0,at}function rN(){for(;Ze!==null;)Bx(Ze)}function iN(){for(;Ze!==null&&!RP();)Bx(Ze)}function Bx(t){var e=Hx(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?zx(t):Ze=e,ly.current=null}function zx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xk(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,Ze=null;return}}else if(n=Yk(n,e,tn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);at===0&&(at=5)}function xs(t,e,n){var r=Ce,i=_n.transition;try{_n.transition=null,Ce=1,sN(t,e,n,r)}finally{_n.transition=i,Ce=r}return null}function sN(t,e,n,r){do zo();while(ki!==null);if(Te&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jP(t,s),t===gt&&(Ze=gt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wu||(wu=!0,qx(vd,function(){return zo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_n.transition,_n.transition=null;var o=Ce;Ce=1;var a=Te;Te|=4,ly.current=null,Zk(t,n),Vx(n,t),Ik(um),_d=!!cm,um=cm=null,t.current=n,eN(n),PP(),Te=a,Ce=o,_n.transition=s}else t.current=n;if(wu&&(wu=!1,ki=t,Md=i),s=t.pendingLanes,s===0&&(Ui=null),DP(n.stateNode),Xt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,t=Pm,Pm=null,t;return Md&1&&t.tag!==0&&zo(),s=t.pendingLanes,s&1?t===km?kl++:(kl=0,km=t):kl=0,ls(),null}function zo(){if(ki!==null){var t=xT(Md),e=_n.transition,n=Ce;try{if(_n.transition=null,Ce=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,Md=0,Te&6)throw Error(z(331));var i=Te;for(Te|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Rl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(Ox(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var T=s.alternate;if(T!==null){var y=T.child;if(y!==null){T.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Y=w;break e}Y=s.return}}var v=t.current;for(Y=v;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rh(9,a)}}catch(O){Ke(a,a.return,O)}if(a===o){Y=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Y=A;break e}Y=a.return}}if(Te=i,ls(),cr&&typeof cr.onPostCommitFiberRoot=="function")try{cr.onPostCommitFiberRoot(Eh,t)}catch{}r=!0}return r}finally{Ce=n,_n.transition=e}}return!1}function Lw(t,e,n){e=fa(n,e),e=xx(t,e,1),t=ji(t,e,1),e=jt(),t!==null&&(Ic(t,1,e),Xt(t,e))}function Ke(t,e,n){if(t.tag===3)Lw(t,t,n);else for(;e!==null;){if(e.tag===3){Lw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))){t=fa(n,t),t=Sx(e,t,1),e=ji(e,t,1),t=jt(),e!==null&&(Ic(e,1,t),Xt(e,t));break}}e=e.return}}function oN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(Et&n)===n&&(at===4||at===3&&(Et&130023424)===Et&&500>Qe()-uy?Ls(t,0):cy|=n),Xt(t,e)}function Wx(t,e){e===0&&(t.mode&1?(e=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):e=1);var n=jt();t=zr(t,e),t!==null&&(Ic(t,e,n),Xt(t,n))}function aN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wx(t,n)}function lN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Wx(t,n)}var Hx;Hx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,Qk(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Fe&&e.flags&1048576&&QT(e,bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qu(t,e),t=e.pendingProps;var i=ca(e,Dt.current);Bo(e,n),i=ry(null,e,r,t,i,n);var s=iy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yt(r)?(s=!0,Id(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jg(e),i.updater=Ah,e.stateNode=i,i._reactInternals=e,wm(e,r,t,n),e=Tm(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Hg(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uN(r),t=Rn(r,t),i){case 0:e=Em(null,e,r,t,n);break e;case 1:e=Iw(null,e,r,t,n);break e;case 11:e=xw(null,e,r,t,n);break e;case 14:e=Sw(null,e,r,Rn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Em(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Iw(t,e,r,i,n);case 3:e:{if(Ax(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tx(t,e),Pd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fa(Error(z(423)),e),e=Cw(t,e,r,n,i);break e}else if(r!==i){i=fa(Error(z(424)),e),e=Cw(t,e,r,n,i);break e}else for(sn=Fi(e.stateNode.containerInfo.firstChild),an=e,Fe=!0,On=null,n=ZT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===i){e=Wr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return nx(e),t===null&&gm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dm(r,i)?o=null:s!==null&&dm(r,s)&&(e.flags|=32),bx(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&gm(e),null;case 13:return Rx(t,e,n);case 4:return Zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=da(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),xw(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(Ad,r._currentValue),r._currentValue=o,s!==null)if(Un(s.value,o)){if(s.children===i.children&&!Qt.current){e=Wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ur(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ym(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ym(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bo(e,n),i=Tn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Rn(r,e.pendingProps),i=Rn(r.type,i),Sw(t,e,r,i,n);case 15:return Ix(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rn(r,i),Qu(t,e),e.tag=1,Yt(r)?(t=!0,Id(e)):t=!1,Bo(e,n),Tx(e,r,i),wm(e,r,i,n),Tm(null,e,r,!0,t,n);case 19:return Px(t,e,n);case 22:return Cx(t,e,n)}throw Error(z(156,e.tag))};function qx(t,e){return wT(t,e)}function cN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new cN(t,e,n,r)}function py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uN(t){if(typeof t=="function")return py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dg)return 11;if(t===Og)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ju(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")py(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Co:return Ms(n.children,i,s,e);case Ng:o=8,i|=8;break;case zp:return t=wn(12,n,e,i|2),t.elementType=zp,t.lanes=s,t;case Wp:return t=wn(13,n,e,i),t.elementType=Wp,t.lanes=s,t;case Hp:return t=wn(19,n,e,i),t.elementType=Hp,t.lanes=s,t;case nT:return kh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eT:o=10;break e;case tT:o=9;break e;case Dg:o=11;break e;case Og:o=14;break e;case yi:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=wn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ms(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function kh(t,e,n,r){return t=wn(22,t,r,e),t.elementType=nT,t.lanes=n,t.stateNode={isHidden:!1},t}function cp(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function up(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wf(0),this.expirationTimes=Wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function my(t,e,n,r,i,s,o,a,l){return t=new dN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(s),t}function hN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Kx(t){if(!t)return Yi;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Yt(n))return KT(t,n,e)}return e}function Gx(t,e,n,r,i,s,o,a,l){return t=my(n,r,!0,t,i,s,o,a,l),t.context=Kx(null),n=t.current,r=jt(),i=$i(n),s=Ur(r,i),s.callback=e??null,ji(n,s,i),t.current.lanes=i,Ic(t,i,r),Xt(t,r),t}function Nh(t,e,n,r){var i=e.current,s=jt(),o=$i(i);return n=Kx(n),e.context===null?e.context=n:e.pendingContext=n,e=Ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ji(i,e,o),t!==null&&(Fn(t,i,o,s),qu(t,i,o)),o}function Fd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gy(t,e){Mw(t,e),(t=t.alternate)&&Mw(t,e)}function fN(){return null}var Qx=typeof reportError=="function"?reportError:function(t){console.error(t)};function yy(t){this._internalRoot=t}Dh.prototype.render=yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Nh(t,e,null,null)};Dh.prototype.unmount=yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ws(function(){Nh(null,t,null,null)}),e[Br]=null}};function Dh(t){this._internalRoot=t}Dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=CT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&AT(t)}};function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vw(){}function pN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Fd(o);s.call(u)}}var o=Gx(e,r,t,0,null,!1,!1,"",Vw);return t._reactRootContainer=o,t[Br]=o.current,Kl(t.nodeType===8?t.parentNode:t),Ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Fd(l);a.call(u)}}var l=my(t,0,!1,null,null,!1,!1,"",Vw);return t._reactRootContainer=l,t[Br]=l.current,Kl(t.nodeType===8?t.parentNode:t),Ws(function(){Nh(e,l,n,r)}),l}function Lh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fd(o);a.call(l)}}Nh(e,o,t,i)}else o=pN(n,e,t,i,r);return Fd(o)}ST=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ml(e.pendingLanes);n!==0&&(Vg(e,n|1),Xt(e,Qe()),!(Te&6)&&(pa=Qe()+500,ls()))}break;case 13:Ws(function(){var r=zr(t,1);if(r!==null){var i=jt();Fn(r,t,1,i)}}),gy(t,1)}};Fg=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=jt();Fn(e,t,134217728,n)}gy(t,134217728)}};IT=function(t){if(t.tag===13){var e=$i(t),n=zr(t,e);if(n!==null){var r=jt();Fn(n,t,e,r)}gy(t,e)}};CT=function(){return Ce};bT=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};tm=function(t,e,n){switch(e){case"input":if(Gp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ih(r);if(!i)throw Error(z(90));iT(r),Gp(r,i)}}}break;case"textarea":oT(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};fT=dy;pT=Ws;var mN={usingClientEntryPoint:!1,Events:[bc,Po,Ih,dT,hT,dy]},cl={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gN={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yT(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||fN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{Eh=_u.inject(gN),cr=_u}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mN;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vy(e))throw Error(z(200));return hN(t,e,null,n)};un.createRoot=function(t,e){if(!vy(t))throw Error(z(299));var n=!1,r="",i=Qx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=my(t,1,!1,null,null,n,!1,r,i),t[Br]=e.current,Kl(t.nodeType===8?t.parentNode:t),new yy(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=yT(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return Ws(t)};un.hydrate=function(t,e,n){if(!Oh(e))throw Error(z(200));return Lh(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!vy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Qx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Gx(e,null,t,1,n??null,i,!1,s,o),t[Br]=e.current,Kl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dh(e)};un.render=function(t,e,n){if(!Oh(e))throw Error(z(200));return Lh(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!Oh(t))throw Error(z(40));return t._reactRootContainer?(Ws(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};un.unstable_batchedUpdates=dy;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Lh(t,e,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function Yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yx)}catch(t){console.error(t)}}Yx(),Y1.exports=un;var Rc=Y1.exports;const Xx=F1(Rc);var Jx,Fw=Rc;Jx=Fw.createRoot,Fw.hydrateRoot;const yN="modulepreload",vN=function(t){return"/BukzBrainv2/"+t},jw={},xr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=vN(l),l in jw)return;jw[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":yN,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},wN=1,_N=1e6;let dp=0;function EN(){return dp=(dp+1)%Number.MAX_SAFE_INTEGER,dp.toString()}const hp=new Map,Uw=t=>{if(hp.has(t))return;const e=setTimeout(()=>{hp.delete(t),Nl({type:"REMOVE_TOAST",toastId:t})},_N);hp.set(t,e)},TN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Uw(n):t.toasts.forEach(r=>{Uw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Zu=[];let ed={toasts:[]};function Nl(t){ed=TN(ed,t),Zu.forEach(e=>{e(ed)})}function xN({...t}){const e=EN(),n=i=>Nl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Nl({type:"DISMISS_TOAST",toastId:e});return Nl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function SN(){const[t,e]=E.useState(ed);return E.useEffect(()=>(Zu.push(e),()=>{const n=Zu.indexOf(e);n>-1&&Zu.splice(n,1)}),[t]),{...t,toast:xN,dismiss:n=>Nl({type:"DISMISS_TOAST",toastId:n})}}function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $w(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zx(...t){return e=>{let n=!1;const r=t.map(i=>{const s=$w(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$w(t[i],null)}}}}function xt(...t){return E.useCallback(Zx(...t),t)}function IN(t,e){const n=E.createContext(e),r=s=>{const{children:o,...a}=s,l=E.useMemo(()=>a,Object.values(a));return C.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function ba(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o),l=n.length;n=[...n,o];const u=h=>{var w;const{scope:f,children:m,...T}=h,y=((w=f==null?void 0:f[t])==null?void 0:w[l])||a,_=E.useMemo(()=>T,Object.values(T));return C.jsx(y.Provider,{value:_,children:m})};u.displayName=s+"Provider";function d(h,f){var y;const m=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,T=E.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,CN(i,...e)]}function CN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function nc(t){const e=AN(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find(RN);if(l){const u=l.props.children,d=a.map(h=>h===l?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:h);return C.jsx(e,{...o,ref:i,children:E.isValidElement(u)?E.cloneElement(u,void 0,d):null})}return C.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var bN=nc("Slot");function AN(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=kN(i),a=PN(s,i.props);return i.type!==E.Fragment&&(a.ref=r?Zx(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eS=Symbol("radix.slottable");function tS(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eS,e}function RN(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eS}function PN(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function kN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NN(t){const e=t+"CollectionProvider",[n,r]=ba(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:w}=y,v=H.useRef(null),x=H.useRef(new Map).current;return C.jsx(i,{scope:_,itemMap:x,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=nc(a),u=H.forwardRef((y,_)=>{const{scope:w,children:v}=y,x=s(a,w),A=xt(_,x.collectionRef);return C.jsx(l,{ref:A,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",f=nc(d),m=H.forwardRef((y,_)=>{const{scope:w,children:v,...x}=y,A=H.useRef(null),O=xt(_,A),D=s(d,w);return H.useEffect(()=>(D.itemMap.set(A,{ref:A,...x}),()=>void D.itemMap.delete(A))),C.jsx(f,{[h]:"",ref:O,children:v})});m.displayName=d;function T(y){const _=s(t+"CollectionConsumer",y);return H.useCallback(()=>{const v=_.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((D,I)=>x.indexOf(D.ref.current)-x.indexOf(I.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},T,r]}var DN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=DN.reduce((t,e)=>{const n=nc(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function nS(t,e){t&&Rc.flushSync(()=>t.dispatchEvent(e))}function wr(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ON(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var LN="DismissableLayer",Om="dismissableLayer.update",MN="dismissableLayer.pointerDownOutside",VN="dismissableLayer.focusOutside",Bw,rS=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mh=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=E.useContext(rS),[d,h]=E.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),T=xt(e,I=>h(I)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(_),v=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,A=v>=w,O=jN(I=>{const S=I.target,R=[...u.branches].some(P=>P.contains(S));!A||R||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),D=UN(I=>{const S=I.target;[...u.branches].some(P=>P.contains(S))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return ON(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),E.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Bw=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),zw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Bw)}},[d,f,n,u]),E.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),zw())},[d,u]),E.useEffect(()=>{const I=()=>m({});return document.addEventListener(Om,I),()=>document.removeEventListener(Om,I)},[]),C.jsx(nt.div,{...l,ref:T,style:{pointerEvents:x?A?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,D.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,O.onPointerDownCapture)})});Mh.displayName=LN;var FN="DismissableLayerBranch",iS=E.forwardRef((t,e)=>{const n=E.useContext(rS),r=E.useRef(null),i=xt(e,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),C.jsx(nt.div,{...t,ref:i})});iS.displayName=FN;function jN(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){sS(MN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function UN(t,e=globalThis==null?void 0:globalThis.document){const n=wr(t),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&sS(VN,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zw(){const t=new CustomEvent(Om);document.dispatchEvent(t)}function sS(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?nS(i,s):i.dispatchEvent(s)}var $N=Mh,BN=iS,Hr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},zN="Portal",wy=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=E.useState(!1);Hr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Xx.createPortal(C.jsx(nt.div,{...r,ref:e}),o):null});wy.displayName=zN;function WN(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Aa=t=>{const{present:e,children:n}=t,r=HN(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=xt(r.ref,qN(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Aa.displayName="Presence";function HN(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),s=E.useRef("none"),o=t?"mounted":"unmounted",[a,l]=WN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=Eu(r.current);s.current=a==="mounted"?u:"none"},[a]),Hr(()=>{const u=r.current,d=i.current;if(d!==t){const f=s.current,m=Eu(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Hr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=m=>{const y=Eu(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=m=>{m.target===e&&(s.current=Eu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Eu(t){return(t==null?void 0:t.animationName)||"none"}function qN(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var KN=Ag[" useInsertionEffect ".trim().toString()]||Hr;function oS({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=GN({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=E.useRef(t!==void 0);E.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=E.useCallback(d=>{var h;if(a){const f=QN(d)?d(t):d;f!==t&&((h=o.current)==null||h.call(o,f))}else s(d)},[a,t,s,o]);return[l,u]}function GN({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),s=E.useRef(e);return KN(()=>{s.current=e},[e]),E.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function QN(t){return typeof t=="function"}var YN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XN="VisuallyHidden",Vh=E.forwardRef((t,e)=>C.jsx(nt.span,{...t,ref:e,style:{...YN,...t.style}}));Vh.displayName=XN;var JN=Vh,_y="ToastProvider",[Ey,ZN,e2]=NN("Toast"),[aS,TB]=ba("Toast",[e2]),[t2,Fh]=aS(_y),lS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=E.useState(null),[u,d]=E.useState(0),h=E.useRef(!1),f=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_y}\`. Expected non-empty \`string\`.`),C.jsx(Ey.Provider,{scope:e,children:C.jsx(t2,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>d(m=>m+1),[]),onToastRemove:E.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};lS.displayName=_y;var cS="ToastViewport",n2=["F8"],Lm="toast.viewportPause",Mm="toast.viewportResume",uS=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=n2,label:i="Notifications ({hotkey})",...s}=t,o=Fh(cS,n),a=ZN(n),l=E.useRef(null),u=E.useRef(null),d=E.useRef(null),h=E.useRef(null),f=xt(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;E.useEffect(()=>{const _=w=>{var x;r.length!==0&&r.every(A=>w[A]||w.code===A)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),E.useEffect(()=>{const _=l.current,w=h.current;if(T&&_&&w){const v=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Lm);w.dispatchEvent(D),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(Mm);w.dispatchEvent(D),o.isClosePausedRef.current=!1}},A=D=>{!_.contains(D.relatedTarget)&&x()},O=()=>{_.contains(document.activeElement)||x()};return _.addEventListener("focusin",v),_.addEventListener("focusout",A),_.addEventListener("pointermove",v),_.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{_.removeEventListener("focusin",v),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",v),_.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[T,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:_})=>{const v=a().map(x=>{const A=x.ref.current,O=[A,...m2(A)];return _==="forwards"?O:O.reverse()});return(_==="forwards"?v.reverse():v).flat()},[a]);return E.useEffect(()=>{const _=h.current;if(_){const w=v=>{var O,D,I;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const S=document.activeElement,R=v.shiftKey;if(v.target===_&&R){(O=u.current)==null||O.focus();return}const L=y({tabbingDirection:R?"backwards":"forwards"}),k=L.findIndex(W=>W===S);fp(L.slice(k+1))?v.preventDefault():R?(D=u.current)==null||D.focus():(I=d.current)==null||I.focus()}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[a,y]),C.jsxs(BN,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&C.jsx(Vm,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});fp(_)}}),C.jsx(Ey.Slot,{scope:n,children:C.jsx(nt.ol,{tabIndex:-1,...s,ref:f})}),T&&C.jsx(Vm,{ref:d,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});fp(_)}})]})});uS.displayName=cS;var dS="ToastFocusProxy",Vm=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Fh(dS,n);return C.jsx(Vh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Vm.displayName=dS;var Pc="Toast",r2="toast.swipeStart",i2="toast.swipeMove",s2="toast.swipeCancel",o2="toast.swipeEnd",hS=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=oS({prop:r,defaultProp:i??!0,onChange:s,caller:Pc});return C.jsx(Aa,{present:n||a,children:C.jsx(c2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:wr(t.onPause),onResume:wr(t.onResume),onSwipeStart:Oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});hS.displayName=Pc;var[a2,l2]=aS(Pc,{onClose(){}}),c2=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...T}=t,y=Fh(Pc,n),[_,w]=E.useState(null),v=xt(e,W=>w(W)),x=E.useRef(null),A=E.useRef(null),O=i||y.duration,D=E.useRef(0),I=E.useRef(O),S=E.useRef(0),{onToastAdd:R,onToastRemove:P}=y,N=wr(()=>{var se;(_==null?void 0:_.contains(document.activeElement))&&((se=y.viewport)==null||se.focus()),o()}),L=E.useCallback(W=>{!W||W===1/0||(window.clearTimeout(S.current),D.current=new Date().getTime(),S.current=window.setTimeout(N,W))},[N]);E.useEffect(()=>{const W=y.viewport;if(W){const se=()=>{L(I.current),u==null||u()},te=()=>{const oe=new Date().getTime()-D.current;I.current=I.current-oe,window.clearTimeout(S.current),l==null||l()};return W.addEventListener(Lm,te),W.addEventListener(Mm,se),()=>{W.removeEventListener(Lm,te),W.removeEventListener(Mm,se)}}},[y.viewport,O,l,u,L]),E.useEffect(()=>{s&&!y.isClosePausedRef.current&&L(O)},[s,O,y.isClosePausedRef,L]),E.useEffect(()=>(R(),()=>P()),[R,P]);const k=E.useMemo(()=>_?wS(_):null,[_]);return y.viewport?C.jsxs(C.Fragment,{children:[k&&C.jsx(u2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),C.jsx(a2,{scope:n,onClose:N,children:Rc.createPortal(C.jsx(Ey.ItemSlot,{scope:n,children:C.jsx($N,{asChild:!0,onEscapeKeyDown:Oe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(nt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...T,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Oe(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Oe(t.onPointerDown,W=>{W.button===0&&(x.current={x:W.clientX,y:W.clientY})}),onPointerMove:Oe(t.onPointerMove,W=>{if(!x.current)return;const se=W.clientX-x.current.x,te=W.clientY-x.current.y,oe=!!A.current,F=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,K=F?B(0,se):0,ae=F?0:B(0,te),Z=W.pointerType==="touch"?10:2,fe={x:K,y:ae},de={originalEvent:W,delta:fe};oe?(A.current=fe,Tu(i2,h,de,{discrete:!1})):Ww(fe,y.swipeDirection,Z)?(A.current=fe,Tu(r2,d,de,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(se)>Z||Math.abs(te)>Z)&&(x.current=null)}),onPointerUp:Oe(t.onPointerUp,W=>{const se=A.current,te=W.target;if(te.hasPointerCapture(W.pointerId)&&te.releasePointerCapture(W.pointerId),A.current=null,x.current=null,se){const oe=W.currentTarget,F={originalEvent:W,delta:se};Ww(se,y.swipeDirection,y.swipeThreshold)?Tu(o2,m,F,{discrete:!0}):Tu(s2,f,F,{discrete:!0}),oe.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),u2=t=>{const{__scopeToast:e,children:n,...r}=t,i=Fh(Pc,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return f2(()=>o(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:C.jsx(wy,{asChild:!0,children:C.jsx(Vh,{...r,children:s&&C.jsxs(C.Fragment,{children:[i.label," ",n]})})})},d2="ToastTitle",fS=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(nt.div,{...r,ref:e})});fS.displayName=d2;var h2="ToastDescription",pS=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(nt.div,{...r,ref:e})});pS.displayName=h2;var mS="ToastAction",gS=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(vS,{altText:n,asChild:!0,children:C.jsx(Ty,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mS}\`. Expected non-empty \`string\`.`),null)});gS.displayName=mS;var yS="ToastClose",Ty=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=l2(yS,n);return C.jsx(vS,{asChild:!0,children:C.jsx(nt.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,i.onClose)})})});Ty.displayName=yS;var vS=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return C.jsx(nt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function wS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),p2(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...wS(r))}}),e}function Tu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?nS(i,s):i.dispatchEvent(s)}var Ww=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function f2(t=()=>{}){const e=wr(t);Hr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function p2(t){return t.nodeType===t.ELEMENT_NODE}function m2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function fp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var g2=lS,_S=uS,ES=hS,TS=fS,xS=pS,SS=gS,IS=Ty;function CS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bS(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CS(t))&&(r&&(r+=" "),r+=e);return r}const Hw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qw=bS,xy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const f=Hw(d)||Hw(h);return i[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(T=>{let[y,_]=T;return Array.isArray(_)?_.includes({...s,...a}[y]):{...s,...a}[y]===_})?[...u,h,f]:u},[]);return qw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...v2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AS("lucide",i),...a},[...o.map(([u,d])=>E.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(w2,{ref:s,iconNode:e,className:AS(`lucide-${y2(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=rt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=rt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=rt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=rt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=rt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=rt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=rt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=rt("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=rt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=rt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=rt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=rt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=rt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=rt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sy="-",k2=t=>{const e=D2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Sy);return a[0]===""&&a.length!==1&&a.shift(),kS(a,e)||N2(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},kS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?kS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Sy);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Xw=/^\[(.+)\]$/,N2=t=>{if(Xw.test(t)){const e=Xw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},D2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return L2(Object.entries(t.classGroups),n).forEach(([s,o])=>{Fm(o,r,s,e)}),r},Fm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Jw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(O2(i)){Fm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Fm(o,Jw(e,s),n,r)})})},Jw=(t,e)=>{let n=t;return e.split(Sy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},O2=t=>t.isThemeGetter,L2=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,M2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},NS="!",V2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let _=0;_<a.length;_++){let w=a[_];if(u===0){if(w===i&&(r||a.slice(_,_+s)===e)){l.push(a.slice(d,_)),d=_+s;continue}if(w==="/"){h=_;continue}}w==="["?u++:w==="]"&&u--}const f=l.length===0?a:a.substring(d),m=f.startsWith(NS),T=m?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},F2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},j2=t=>({cache:M2(t.cacheSize),parseClassName:V2(t),...k2(t)}),U2=/\s+/,$2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(U2);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let T=!!m,y=r(T?f.substring(0,m):f);if(!y){if(!T){a=u+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=u+(a.length>0?" "+a:a);continue}T=!1}const _=F2(d).join(":"),w=h?_+NS:_,v=w+y;if(s.includes(v))continue;s.push(v);const x=i(y,T);for(let A=0;A<x.length;++A){const O=x[A];s.push(w+O)}a=u+(a.length>0?" "+a:a)}return a};function B2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=DS(e))&&(r&&(r+=" "),r+=n);return r}const DS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=DS(t[r]))&&(n&&(n+=" "),n+=e);return n};function z2(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,h)=>h(d),t());return n=j2(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=$2(l,n);return i(l,d),d}return function(){return s(B2.apply(null,arguments))}}const Ne=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},OS=/^\[(?:([a-z-]+):)?(.+)\]$/i,W2=/^\d+\/\d+$/,H2=new Set(["px","full","screen"]),q2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kr=t=>Wo(t)||H2.has(t)||W2.test(t),hi=t=>Ra(t,"length",iD),Wo=t=>!!t&&!Number.isNaN(Number(t)),pp=t=>Ra(t,"number",Wo),ul=t=>!!t&&Number.isInteger(Number(t)),X2=t=>t.endsWith("%")&&Wo(t.slice(0,-1)),he=t=>OS.test(t),fi=t=>q2.test(t),J2=new Set(["length","size","percentage"]),Z2=t=>Ra(t,J2,LS),eD=t=>Ra(t,"position",LS),tD=new Set(["image","url"]),nD=t=>Ra(t,tD,oD),rD=t=>Ra(t,"",sD),dl=()=>!0,Ra=(t,e,n)=>{const r=OS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},iD=t=>K2.test(t)&&!G2.test(t),LS=()=>!1,sD=t=>Q2.test(t),oD=t=>Y2.test(t),aD=()=>{const t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),i=Ne("borderColor"),s=Ne("borderRadius"),o=Ne("borderSpacing"),a=Ne("borderWidth"),l=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),h=Ne("invert"),f=Ne("gap"),m=Ne("gradientColorStops"),T=Ne("gradientColorStopPositions"),y=Ne("inset"),_=Ne("margin"),w=Ne("opacity"),v=Ne("padding"),x=Ne("saturate"),A=Ne("scale"),O=Ne("sepia"),D=Ne("skew"),I=Ne("space"),S=Ne("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",he,e],L=()=>[he,e],k=()=>["",kr,hi],W=()=>["auto",Wo,he],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",he],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ae=()=>[Wo,he];return{cacheSize:500,separator:":",theme:{colors:[dl],spacing:[kr,hi],blur:["none","",fi,he],brightness:ae(),borderColor:[t],borderRadius:["none","","full",fi,he],borderSpacing:L(),borderWidth:k(),contrast:ae(),grayscale:B(),hueRotate:ae(),invert:B(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[X2,hi],inset:N(),margin:N(),opacity:ae(),padding:L(),saturate:ae(),scale:ae(),sepia:B(),skew:ae(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[fi]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),he]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ul,he]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",ul,he]}],"grid-cols":[{"grid-cols":[dl]}],"col-start-end":[{col:["auto",{span:["full",ul,he]},he]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[dl]}],"row-start-end":[{row:["auto",{span:[ul,he]},he]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[fi]},fi]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fi,hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pp]}],"font-family":[{font:[dl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Wo,pp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kr,hi]}],"underline-offset":[{"underline-offset":["auto",kr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),eD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Z2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[kr,he]}],"outline-w":[{outline:[kr,hi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[kr,hi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fi,rD]}],"shadow-color":[{shadow:[dl]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fi,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[ul,he]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[kr,hi,pp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lD=z2(aD);function me(...t){return lD(bS(t))}const cD=g2,MS=E.forwardRef(({className:t,...e},n)=>C.jsx(_S,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MS.displayName=_S.displayName;const uD=xy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VS=E.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(ES,{ref:r,className:me(uD({variant:e}),t),...n}));VS.displayName=ES.displayName;const dD=E.forwardRef(({className:t,...e},n)=>C.jsx(SS,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));dD.displayName=SS.displayName;const FS=E.forwardRef(({className:t,...e},n)=>C.jsx(IS,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(PS,{className:"h-4 w-4"})}));FS.displayName=IS.displayName;const jS=E.forwardRef(({className:t,...e},n)=>C.jsx(TS,{ref:n,className:me("text-sm font-semibold",t),...e}));jS.displayName=TS.displayName;const US=E.forwardRef(({className:t,...e},n)=>C.jsx(xS,{ref:n,className:me("text-sm opacity-90",t),...e}));US.displayName=xS.displayName;function hD(){const{toasts:t}=SN();return C.jsxs(cD,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return C.jsxs(VS,{...s,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(jS,{children:n}),r&&C.jsx(US,{children:r})]}),i,C.jsx(FS,{})]},e)}),C.jsx(MS,{})]})}var jd=["light","dark"],Iy="(prefers-color-scheme: dark)",fD=typeof window>"u",Cy=E.createContext(void 0),pD={setTheme:t=>{},themes:[]},$S=()=>{var t;return(t=E.useContext(Cy))!=null?t:pD},mD=t=>E.useContext(Cy)?t.children:E.createElement(yD,{...t}),gD=["light","dark"],yD=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=gD,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:d})=>{let[h,f]=E.useState(()=>Zw(i,o)),[m,T]=E.useState(()=>Zw(i)),y=l?Object.values(l):s,_=E.useCallback(A=>{let O=A;if(!O)return;A==="system"&&n&&(O=e_());let D=l?l[O]:O,I=e?wD():null,S=document.documentElement;if(a==="class"?(S.classList.remove(...y),D&&S.classList.add(D)):D?S.setAttribute(a,D):S.removeAttribute(a),r){let R=jd.includes(o)?o:null,P=jd.includes(O)?O:R;S.style.colorScheme=P}I==null||I()},[]),w=E.useCallback(A=>{let O=typeof A=="function"?A(A):A;f(O);try{localStorage.setItem(i,O)}catch{}},[t]),v=E.useCallback(A=>{let O=e_(A);T(O),h==="system"&&n&&!t&&_("system")},[h,t]);E.useEffect(()=>{let A=window.matchMedia(Iy);return A.addListener(v),v(A),()=>A.removeListener(v)},[v]),E.useEffect(()=>{let A=O=>{if(O.key!==i)return;let D=O.newValue||o;w(D)};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[w]),E.useEffect(()=>{_(t??h)},[t,h]);let x=E.useMemo(()=>({theme:h,setTheme:w,forcedTheme:t,resolvedTheme:h==="system"?m:h,themes:n?[...s,"system"]:s,systemTheme:n?m:void 0}),[h,w,t,m,n,s]);return E.createElement(Cy.Provider,{value:x},E.createElement(vD,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:l,children:u,attrs:y,nonce:d}),u)},vD=E.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=i?jd.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(T,y=!1,_=!0)=>{let w=o?o[T]:T,v=y?T+"|| ''":`'${w}'`,x="";return i&&_&&!y&&jd.includes(T)&&(x+=`d.style.colorScheme = '${T}';`),n==="class"?y||w?x+=`c.add(${v})`:x+="null":w&&(x+=`d[s](n,${v})`),x},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Iy}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return E.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}),Zw=(t,e)=>{if(fD)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},wD=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},e_=t=>(t||(t=window.matchMedia(Iy)),t.matches?"dark":"light"),_D=t=>{switch(t){case"success":return xD;case"info":return ID;case"warning":return SD;case"error":return CD;default:return null}},ED=Array(12).fill(0),TD=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},ED.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),xD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ID=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AD=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jm=1,RD=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:jm++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async l=>{if(s=["resolve",l],H.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(kD(l)&&!l.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||jm++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wt=new RD,PD=(t,e)=>{let n=(e==null?void 0:e.id)||jm++;return Wt.addToast({title:t,...e,id:n}),n},kD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ND=PD,DD=()=>Wt.toasts,OD=()=>Wt.getActiveToasts(),xB=Object.assign(ND,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:DD,getToasts:OD});function LD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}LD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xu(t){return t.label!==void 0}var MD=3,VD="32px",FD="16px",t_=4e3,jD=356,UD=14,$D=20,BD=200;function An(...t){return t.filter(Boolean).join(" ")}function zD(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var WD=t=>{var e,n,r,i,s,o,a,l,u,d,h;let{invert:f,toast:m,unstyled:T,interacting:y,setHeights:_,visibleToasts:w,heights:v,index:x,toasts:A,expanded:O,removeToast:D,defaultRichColors:I,closeButton:S,style:R,cancelButtonStyle:P,actionButtonStyle:N,className:L="",descriptionClassName:k="",duration:W,position:se,gap:te,loadingIcon:oe,expandByDefault:F,classNames:B,icons:K,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:Z}=t,[fe,de]=H.useState(null),[Ve,Xe]=H.useState(null),[_e,qn]=H.useState(!1),[Sn,br]=H.useState(!1),[Kn,Ar]=H.useState(!1),[hn,ps]=H.useState(!1),[$a,ni]=H.useState(!1),[ms,ri]=H.useState(0),[je,ut]=H.useState(0),Gn=H.useRef(m.duration||W||t_),Wc=H.useRef(null),Qn=H.useRef(null),Tf=x===0,gs=x+1<=w,Lt=m.type,Rr=m.dismissible!==!1,Ba=m.className||"",xf=m.descriptionClassName||"",lo=H.useMemo(()=>v.findIndex(ne=>ne.toastId===m.id)||0,[v,m.id]),Hc=H.useMemo(()=>{var ne;return(ne=m.closeButton)!=null?ne:S},[m.closeButton,S]),za=H.useMemo(()=>m.duration||W||t_,[m.duration,W]),Pr=H.useRef(0),Yn=H.useRef(0),co=H.useRef(0),Bt=H.useRef(null),[qc,uo]=se.split("-"),Wa=H.useMemo(()=>v.reduce((ne,Se,Ae)=>Ae>=lo?ne:ne+Se.height,0),[v,lo]),ii=AD(),Kc=m.invert||f,it=Lt==="loading";Yn.current=H.useMemo(()=>lo*te+Wa,[lo,Wa]),H.useEffect(()=>{Gn.current=za},[za]),H.useEffect(()=>{qn(!0)},[]),H.useEffect(()=>{let ne=Qn.current;if(ne){let Se=ne.getBoundingClientRect().height;return ut(Se),_(Ae=>[{toastId:m.id,height:Se,position:m.position},...Ae]),()=>_(Ae=>Ae.filter(dt=>dt.toastId!==m.id))}},[_,m.id]),H.useLayoutEffect(()=>{if(!_e)return;let ne=Qn.current,Se=ne.style.height;ne.style.height="auto";let Ae=ne.getBoundingClientRect().height;ne.style.height=Se,ut(Ae),_(dt=>dt.find(Jt=>Jt.toastId===m.id)?dt.map(Jt=>Jt.toastId===m.id?{...Jt,height:Ae}:Jt):[{toastId:m.id,height:Ae,position:m.position},...dt])},[_e,m.title,m.description,_,m.id]);let In=H.useCallback(()=>{br(!0),ri(Yn.current),_(ne=>ne.filter(Se=>Se.toastId!==m.id)),setTimeout(()=>{D(m)},BD)},[m,D,_,Yn]);H.useEffect(()=>{if(m.promise&&Lt==="loading"||m.duration===1/0||m.type==="loading")return;let ne;return O||y||Z&&ii?(()=>{if(co.current<Pr.current){let Se=new Date().getTime()-Pr.current;Gn.current=Gn.current-Se}co.current=new Date().getTime()})():Gn.current!==1/0&&(Pr.current=new Date().getTime(),ne=setTimeout(()=>{var Se;(Se=m.onAutoClose)==null||Se.call(m,m),In()},Gn.current)),()=>clearTimeout(ne)},[O,y,m,Lt,Z,ii,In]),H.useEffect(()=>{m.delete&&In()},[In,m.delete]);function ys(){var ne,Se,Ae;return K!=null&&K.loading?H.createElement("div",{className:An(B==null?void 0:B.loader,(ne=m==null?void 0:m.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":Lt==="loading"},K.loading):oe?H.createElement("div",{className:An(B==null?void 0:B.loader,(Se=m==null?void 0:m.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Lt==="loading"},oe):H.createElement(TD,{className:An(B==null?void 0:B.loader,(Ae=m==null?void 0:m.classNames)==null?void 0:Ae.loader),visible:Lt==="loading"})}return H.createElement("li",{tabIndex:0,ref:Qn,className:An(L,Ba,B==null?void 0:B.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[Lt],(n=m==null?void 0:m.classNames)==null?void 0:n[Lt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||T),"data-mounted":_e,"data-promise":!!m.promise,"data-swiped":$a,"data-removed":Sn,"data-visible":gs,"data-y-position":qc,"data-x-position":uo,"data-index":x,"data-front":Tf,"data-swiping":Kn,"data-dismissible":Rr,"data-type":Lt,"data-invert":Kc,"data-swipe-out":hn,"data-swipe-direction":Ve,"data-expanded":!!(O||F&&_e),style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${Sn?ms:Yn.current}px`,"--initial-height":F?"auto":`${je}px`,...R,...m.style},onDragEnd:()=>{Ar(!1),de(null),Bt.current=null},onPointerDown:ne=>{it||!Rr||(Wc.current=new Date,ri(Yn.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(Ar(!0),Bt.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,Se,Ae,dt;if(hn||!Rr)return;Bt.current=null;let Jt=Number(((ne=Qn.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xn=Number(((Se=Qn.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fn=new Date().getTime()-((Ae=Wc.current)==null?void 0:Ae.getTime()),zt=fe==="x"?Jt:Xn,Cn=Math.abs(zt)/fn;if(Math.abs(zt)>=$D||Cn>.11){ri(Yn.current),(dt=m.onDismiss)==null||dt.call(m,m),Xe(fe==="x"?Jt>0?"right":"left":Xn>0?"down":"up"),In(),ps(!0),ni(!1);return}Ar(!1),de(null)},onPointerMove:ne=>{var Se,Ae,dt,Jt;if(!Bt.current||!Rr||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let Xn=ne.clientY-Bt.current.y,fn=ne.clientX-Bt.current.x,zt=(Ae=t.swipeDirections)!=null?Ae:zD(se);!fe&&(Math.abs(fn)>1||Math.abs(Xn)>1)&&de(Math.abs(fn)>Math.abs(Xn)?"x":"y");let Cn={x:0,y:0};fe==="y"?(zt.includes("top")||zt.includes("bottom"))&&(zt.includes("top")&&Xn<0||zt.includes("bottom")&&Xn>0)&&(Cn.y=Xn):fe==="x"&&(zt.includes("left")||zt.includes("right"))&&(zt.includes("left")&&fn<0||zt.includes("right")&&fn>0)&&(Cn.x=fn),(Math.abs(Cn.x)>0||Math.abs(Cn.y)>0)&&ni(!0),(dt=Qn.current)==null||dt.style.setProperty("--swipe-amount-x",`${Cn.x}px`),(Jt=Qn.current)==null||Jt.style.setProperty("--swipe-amount-y",`${Cn.y}px`)}},Hc&&!m.jsx?H.createElement("button",{"aria-label":ae,"data-disabled":it,"data-close-button":!0,onClick:it||!Rr?()=>{}:()=>{var ne;In(),(ne=m.onDismiss)==null||ne.call(m,m)},className:An(B==null?void 0:B.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=K==null?void 0:K.close)!=null?s:bD):null,m.jsx||E.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:H.createElement(H.Fragment,null,Lt||m.icon||m.promise?H.createElement("div",{"data-icon":"",className:An(B==null?void 0:B.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ys():null,m.type!=="loading"?m.icon||(K==null?void 0:K[Lt])||_D(Lt):null):null,H.createElement("div",{"data-content":"",className:An(B==null?void 0:B.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:An(B==null?void 0:B.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?H.createElement("div",{"data-description":"",className:An(k,xf,B==null?void 0:B.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),E.isValidElement(m.cancel)?m.cancel:m.cancel&&xu(m.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:ne=>{var Se,Ae;xu(m.cancel)&&Rr&&((Ae=(Se=m.cancel).onClick)==null||Ae.call(Se,ne),In())},className:An(B==null?void 0:B.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,E.isValidElement(m.action)?m.action:m.action&&xu(m.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:ne=>{var Se,Ae;xu(m.action)&&((Ae=(Se=m.action).onClick)==null||Ae.call(Se,ne),!ne.defaultPrevented&&In())},className:An(B==null?void 0:B.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function n_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function HD(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?FD:VD;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var qD=E.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:T=MD,toastOptions:y,dir:_=n_(),gap:w=UD,loadingIcon:v,icons:x,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:O}=t,[D,I]=H.useState([]),S=H.useMemo(()=>Array.from(new Set([r].concat(D.filter(Z=>Z.position).map(Z=>Z.position)))),[D,r]),[R,P]=H.useState([]),[N,L]=H.useState(!1),[k,W]=H.useState(!1),[se,te]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=H.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=H.useRef(null),K=H.useRef(!1),ae=H.useCallback(Z=>{I(fe=>{var de;return(de=fe.find(Ve=>Ve.id===Z.id))!=null&&de.delete||Wt.dismiss(Z.id),fe.filter(({id:Ve})=>Ve!==Z.id)})},[]);return H.useEffect(()=>Wt.subscribe(Z=>{if(Z.dismiss){I(fe=>fe.map(de=>de.id===Z.id?{...de,delete:!0}:de));return}setTimeout(()=>{Xx.flushSync(()=>{I(fe=>{let de=fe.findIndex(Ve=>Ve.id===Z.id);return de!==-1?[...fe.slice(0,de),{...fe[de],...Z},...fe.slice(de+1)]:[Z,...fe]})})})}),[]),H.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:fe})=>{te(fe?"dark":"light")})}catch{Z.addListener(({matches:de})=>{try{te(de?"dark":"light")}catch(Ve){console.error(Ve)}})}},[d]),H.useEffect(()=>{D.length<=1&&L(!1)},[D]),H.useEffect(()=>{let Z=fe=>{var de,Ve;i.every(Xe=>fe[Xe]||fe.code===Xe)&&(L(!0),(de=oe.current)==null||de.focus()),fe.code==="Escape"&&(document.activeElement===oe.current||(Ve=oe.current)!=null&&Ve.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[i]),H.useEffect(()=>{if(oe.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,K.current=!1)}},[oe.current]),H.createElement("section",{ref:e,"aria-label":`${A} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((Z,fe)=>{var de;let[Ve,Xe]=Z.split("-");return D.length?H.createElement("ol",{key:Z,dir:_==="auto"?n_():_,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Ve,"data-lifted":N&&D.length>1&&!s,"data-x-position":Xe,style:{"--front-toast-height":`${((de=R[0])==null?void 0:de.height)||0}px`,"--width":`${jD}px`,"--gap":`${w}px`,...m,...HD(l,u)},onBlur:_e=>{K.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(K.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||K.current||(K.current=!0,B.current=_e.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{k||L(!1)},onDragEnd:()=>L(!1),onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},D.filter(_e=>!_e.position&&fe===0||_e.position===Z).map((_e,qn)=>{var Sn,br;return H.createElement(WD,{key:_e.id,icons:x,index:qn,toast:_e,defaultRichColors:h,duration:(Sn=y==null?void 0:y.duration)!=null?Sn:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:T,closeButton:(br=y==null?void 0:y.closeButton)!=null?br:o,interacting:k,position:Z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ae,toasts:D.filter(Kn=>Kn.position==_e.position),heights:R.filter(Kn=>Kn.position==_e.position),setHeights:P,expandByDefault:s,gap:w,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const KD=({...t})=>{const{theme:e="system"}=$S();return C.jsx(qD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var GD=Ag[" useId ".trim().toString()]||(()=>{}),QD=0;function mp(t){const[e,n]=E.useState(GD());return Hr(()=>{t||n(r=>r??String(QD++))},[t]),t||(e?`radix-${e}`:"")}const YD=["top","right","bottom","left"],Xi=Math.min,nn=Math.max,Ud=Math.round,Su=Math.floor,dr=t=>({x:t,y:t}),XD={left:"right",right:"left",bottom:"top",top:"bottom"},JD={start:"end",end:"start"};function Um(t,e,n){return nn(t,Xi(e,n))}function qr(t,e){return typeof t=="function"?t(e):t}function Kr(t){return t.split("-")[0]}function Pa(t){return t.split("-")[1]}function by(t){return t==="x"?"y":"x"}function Ay(t){return t==="y"?"height":"width"}const ZD=new Set(["top","bottom"]);function lr(t){return ZD.has(Kr(t))?"y":"x"}function Ry(t){return by(lr(t))}function eO(t,e,n){n===void 0&&(n=!1);const r=Pa(t),i=Ry(t),s=Ay(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=$d(o)),[o,$d(o)]}function tO(t){const e=$d(t);return[$m(t),e,$m(e)]}function $m(t){return t.replace(/start|end/g,e=>JD[e])}const r_=["left","right"],i_=["right","left"],nO=["top","bottom"],rO=["bottom","top"];function iO(t,e,n){switch(t){case"top":case"bottom":return n?e?i_:r_:e?r_:i_;case"left":case"right":return e?nO:rO;default:return[]}}function sO(t,e,n,r){const i=Pa(t);let s=iO(Kr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map($m)))),s}function $d(t){return t.replace(/left|right|bottom|top/g,e=>XD[e])}function oO(t){return{top:0,right:0,bottom:0,left:0,...t}}function BS(t){return typeof t!="number"?oO(t):{top:t,right:t,bottom:t,left:t}}function Bd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function s_(t,e,n){let{reference:r,floating:i}=t;const s=lr(e),o=Ry(e),a=Ay(o),l=Kr(e),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Pa(e)){case"start":m[o]-=f*(n&&u?-1:1);break;case"end":m[o]+=f*(n&&u?-1:1);break}return m}const aO=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=s_(u,r,l),f=r,m={},T=0;for(let y=0;y<a.length;y++){const{name:_,fn:w}=a[y],{x:v,y:x,data:A,reset:O}=await w({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=x??h,m={...m,[_]:{...m[_],...A}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=s_(u,f,l)),y=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function rc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=qr(e,t),T=BS(m),_=a[f?h==="floating"?"reference":"floating":h],w=Bd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},O=Bd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(w.top-O.top+T.top)/A.y,bottom:(O.bottom-w.bottom+T.bottom)/A.y,left:(w.left-O.left+T.left)/A.x,right:(O.right-w.right+T.right)/A.x}}const lO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=qr(t,e)||{};if(u==null)return{};const h=BS(d),f={x:n,y:r},m=Ry(i),T=Ay(m),y=await o.getDimensions(u),_=m==="y",w=_?"top":"left",v=_?"bottom":"right",x=_?"clientHeight":"clientWidth",A=s.reference[T]+s.reference[m]-f[m]-s.floating[T],O=f[m]-s.reference[m],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=D?D[x]:0;(!I||!await(o.isElement==null?void 0:o.isElement(D)))&&(I=a.floating[x]||s.floating[T]);const S=A/2-O/2,R=I/2-y[T]/2-1,P=Xi(h[w],R),N=Xi(h[v],R),L=P,k=I-y[T]-N,W=I/2-y[T]/2+S,se=Um(L,W,k),te=!l.arrow&&Pa(i)!=null&&W!==se&&s.reference[T]/2-(W<L?P:N)-y[T]/2<0,oe=te?W<L?W-L:W-k:0;return{[m]:f[m]+oe,data:{[m]:se,centerOffset:W-se-oe,...te&&{alignmentOffset:oe}},reset:te}}}),cO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:y=!0,..._}=qr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Kr(i),v=lr(a),x=Kr(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(u.floating)),O=f||(x||!y?[$d(a)]:tO(a)),D=T!=="none";!f&&D&&O.push(...sO(a,y,T,A));const I=[a,...O],S=await rc(e,_),R=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(S[w]),h){const W=eO(i,o,A);R.push(S[W[0]],S[W[1]])}if(P=[...P,{placement:i,overflows:R}],!R.every(W=>W<=0)){var N,L;const W=(((N=s.flip)==null?void 0:N.index)||0)+1,se=I[W];if(se&&(!(h==="alignment"?v!==lr(se):!1)||P.every(F=>F.overflows[0]>0&&lr(F.placement)===v)))return{data:{index:W,overflows:P},reset:{placement:se}};let te=(L=P.filter(oe=>oe.overflows[0]<=0).sort((oe,F)=>oe.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!te)switch(m){case"bestFit":{var k;const oe=(k=P.filter(F=>{if(D){const B=lr(F.placement);return B===v||B==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,K)=>B+K,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:k[0];oe&&(te=oe);break}case"initialPlacement":te=a;break}if(i!==te)return{reset:{placement:te}}}return{}}}};function o_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function a_(t){return YD.some(e=>t[e]>=0)}const uO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=qr(t,e);switch(r){case"referenceHidden":{const s=await rc(e,{...i,elementContext:"reference"}),o=o_(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:a_(o)}}}case"escaped":{const s=await rc(e,{...i,altBoundary:!0}),o=o_(s,n.floating);return{data:{escapedOffsets:o,escaped:a_(o)}}}default:return{}}}}},zS=new Set(["left","top"]);async function dO(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Kr(n),a=Pa(n),l=lr(n)==="y",u=zS.has(o)?-1:1,d=s&&l?-1:1,h=qr(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:T}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),l?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const hO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await dO(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},fO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:w,y:v}=_;return{x:w,y:v}}},...l}=qr(t,e),u={x:n,y:r},d=await rc(e,l),h=lr(Kr(i)),f=by(h);let m=u[f],T=u[h];if(s){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=m+d[_],x=m-d[w];m=Um(v,m,x)}if(o){const _=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=T+d[_],x=T-d[w];T=Um(v,T,x)}const y=a.fn({...e,[f]:m,[h]:T});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:s,[h]:o}}}}}},pO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=qr(t,e),d={x:n,y:r},h=lr(i),f=by(h);let m=d[f],T=d[h];const y=qr(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=f==="y"?"height":"width",A=s.reference[f]-s.floating[x]+_.mainAxis,O=s.reference[f]+s.reference[x]-_.mainAxis;m<A?m=A:m>O&&(m=O)}if(u){var w,v;const x=f==="y"?"width":"height",A=zS.has(Kr(i)),O=s.reference[h]-s.floating[x]+(A&&((w=o.offset)==null?void 0:w[h])||0)+(A?0:_.crossAxis),D=s.reference[h]+s.reference[x]+(A?0:((v=o.offset)==null?void 0:v[h])||0)-(A?_.crossAxis:0);T<O?T=O:T>D&&(T=D)}return{[f]:m,[h]:T}}}},mO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=qr(t,e),d=await rc(e,u),h=Kr(i),f=Pa(i),m=lr(i)==="y",{width:T,height:y}=s.floating;let _,w;h==="top"||h==="bottom"?(_=h,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,_=f==="end"?"top":"bottom");const v=y-d.top-d.bottom,x=T-d.left-d.right,A=Xi(y-d[_],v),O=Xi(T-d[w],x),D=!e.middlewareData.shift;let I=A,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),D&&!f){const P=nn(d.left,0),N=nn(d.right,0),L=nn(d.top,0),k=nn(d.bottom,0);m?S=T-2*(P!==0||N!==0?P+N:nn(d.left,d.right)):I=y-2*(L!==0||k!==0?L+k:nn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:I});const R=await o.getDimensions(a.floating);return T!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function jh(){return typeof window<"u"}function ka(t){return WS(t)?(t.nodeName||"").toLowerCase():"#document"}function ln(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(t){var e;return(e=(WS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function WS(t){return jh()?t instanceof Node||t instanceof ln(t).Node:!1}function $n(t){return jh()?t instanceof Element||t instanceof ln(t).Element:!1}function _r(t){return jh()?t instanceof HTMLElement||t instanceof ln(t).HTMLElement:!1}function l_(t){return!jh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ln(t).ShadowRoot}const gO=new Set(["inline","contents"]);function kc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Bn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!gO.has(i)}const yO=new Set(["table","td","th"]);function vO(t){return yO.has(ka(t))}const wO=[":popover-open",":modal"];function Uh(t){return wO.some(e=>{try{return t.matches(e)}catch{return!1}})}const _O=["transform","translate","scale","rotate","perspective"],EO=["transform","translate","scale","rotate","perspective","filter"],TO=["paint","layout","strict","content"];function Py(t){const e=ky(),n=$n(t)?Bn(t):t;return _O.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||EO.some(r=>(n.willChange||"").includes(r))||TO.some(r=>(n.contain||"").includes(r))}function xO(t){let e=Ji(t);for(;_r(e)&&!ma(e);){if(Py(e))return e;if(Uh(e))return null;e=Ji(e)}return null}function ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const SO=new Set(["html","body","#document"]);function ma(t){return SO.has(ka(t))}function Bn(t){return ln(t).getComputedStyle(t)}function $h(t){return $n(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ji(t){if(ka(t)==="html")return t;const e=t.assignedSlot||t.parentNode||l_(t)&&t.host||Sr(t);return l_(e)?e.host:e}function HS(t){const e=Ji(t);return ma(e)?t.ownerDocument?t.ownerDocument.body:t.body:_r(e)&&kc(e)?e:HS(e)}function ic(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=HS(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ln(i);if(s){const a=Bm(o);return e.concat(o,o.visualViewport||[],kc(i)?i:[],a&&n?ic(a):[])}return e.concat(i,ic(i,[],n))}function Bm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qS(t){const e=Bn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=_r(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ud(n)!==s||Ud(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Ny(t){return $n(t)?t:t.contextElement}function Ho(t){const e=Ny(t);if(!_r(e))return dr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=qS(e);let o=(s?Ud(n.width):n.width)/r,a=(s?Ud(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const IO=dr(0);function KS(t){const e=ln(t);return!ky()||!e.visualViewport?IO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ln(t)?!1:e}function Hs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Ny(t);let o=dr(1);e&&(r?$n(r)&&(o=Ho(r)):o=Ho(t));const a=CO(s,n,r)?KS(s):dr(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=ln(s),m=r&&$n(r)?ln(r):r;let T=f,y=Bm(T);for(;y&&r&&m!==T;){const _=Ho(y),w=y.getBoundingClientRect(),v=Bn(y),x=w.left+(y.clientLeft+parseFloat(v.paddingLeft))*_.x,A=w.top+(y.clientTop+parseFloat(v.paddingTop))*_.y;l*=_.x,u*=_.y,d*=_.x,h*=_.y,l+=x,u+=A,T=ln(y),y=Bm(T)}}return Bd({width:d,height:h,x:l,y:u})}function Dy(t,e){const n=$h(t).scrollLeft;return e?e.left+n:Hs(Sr(t)).left+n}function GS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Dy(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function bO(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Sr(r),a=e?Uh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=dr(1);const d=dr(0),h=_r(r);if((h||!h&&!s)&&((ka(r)!=="body"||kc(o))&&(l=$h(r)),_r(r))){const m=Hs(r);u=Ho(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?GS(o,l,!0):dr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-l.scrollTop*u.y+d.y+f.y}}function AO(t){return Array.from(t.getClientRects())}function RO(t){const e=Sr(t),n=$h(t),r=t.ownerDocument.body,i=nn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=nn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Dy(t);const a=-n.scrollTop;return Bn(r).direction==="rtl"&&(o+=nn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function PO(t,e){const n=ln(t),r=Sr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=ky();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const kO=new Set(["absolute","fixed"]);function NO(t,e){const n=Hs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=_r(t)?Ho(t):dr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function c_(t,e,n){let r;if(e==="viewport")r=PO(t,n);else if(e==="document")r=RO(Sr(t));else if($n(e))r=NO(e,n);else{const i=KS(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Bd(r)}function QS(t,e){const n=Ji(t);return n===e||!$n(n)||ma(n)?!1:Bn(n).position==="fixed"||QS(n,e)}function DO(t,e){const n=e.get(t);if(n)return n;let r=ic(t,[],!1).filter(a=>$n(a)&&ka(a)!=="body"),i=null;const s=Bn(t).position==="fixed";let o=s?Ji(t):t;for(;$n(o)&&!ma(o);){const a=Bn(o),l=Py(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&kO.has(i.position)||kc(o)&&!l&&QS(t,o))?r=r.filter(d=>d!==o):i=a,o=Ji(o)}return e.set(t,r),r}function OO(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Uh(e)?[]:DO(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const h=c_(e,d,i);return u.top=nn(h.top,u.top),u.right=Xi(h.right,u.right),u.bottom=Xi(h.bottom,u.bottom),u.left=nn(h.left,u.left),u},c_(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function LO(t){const{width:e,height:n}=qS(t);return{width:e,height:n}}function MO(t,e,n){const r=_r(e),i=Sr(e),s=n==="fixed",o=Hs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=dr(0);function u(){l.x=Dy(i)}if(r||!r&&!s)if((ka(e)!=="body"||kc(i))&&(a=$h(e)),r){const m=Hs(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?GS(i,a):dr(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function gp(t){return Bn(t).position==="static"}function u_(t,e){if(!_r(t)||Bn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sr(t)===n&&(n=n.ownerDocument.body),n}function YS(t,e){const n=ln(t);if(Uh(t))return n;if(!_r(t)){let i=Ji(t);for(;i&&!ma(i);){if($n(i)&&!gp(i))return i;i=Ji(i)}return n}let r=u_(t,e);for(;r&&vO(r)&&gp(r);)r=u_(r,e);return r&&ma(r)&&gp(r)&&!Py(r)?n:r||xO(t)||n}const VO=async function(t){const e=this.getOffsetParent||YS,n=this.getDimensions,r=await n(t.floating);return{reference:MO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FO(t){return Bn(t).direction==="rtl"}const jO={convertOffsetParentRelativeRectToViewportRelativeRect:bO,getDocumentElement:Sr,getClippingRect:OO,getOffsetParent:YS,getElementRects:VO,getClientRects:AO,getDimensions:LO,getScale:Ho,isElement:$n,isRTL:FO};function XS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function UO(t,e){let n=null,r;const i=Sr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(a||e(),!f||!m)return;const T=Su(h),y=Su(i.clientWidth-(d+f)),_=Su(i.clientHeight-(h+m)),w=Su(d),x={rootMargin:-T+"px "+-y+"px "+-_+"px "+-w+"px",threshold:nn(0,Xi(1,l))||1};let A=!0;function O(D){const I=D[0].intersectionRatio;if(I!==l){if(!A)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!XS(u,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(O,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),s}function $O(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ny(t),d=i||s?[...u?ic(u):[],...ic(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=u&&a?UO(u,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let T,y=l?Hs(t):null;l&&_();function _(){const w=Hs(t);y&&!XS(y,w)&&n(),y=w,T=requestAnimationFrame(_)}return n(),()=>{var w;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),h==null||h(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(T)}}const BO=hO,zO=fO,WO=cO,HO=mO,qO=uO,d_=lO,KO=pO,GO=(t,e,n)=>{const r=new Map,i={platform:jO,...n},s={...i.platform,_c:r};return aO(t,e,{...i,platform:s})};var QO=typeof document<"u",YO=function(){},nd=QO?E.useLayoutEffect:YO;function zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!zd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!zd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function JS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function h_(t,e){const n=JS(t);return Math.round(e*n)/n}function yp(t){const e=E.useRef(t);return nd(()=>{e.current=t}),e}function XO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=E.useState(r);zd(f,r)||m(r);const[T,y]=E.useState(null),[_,w]=E.useState(null),v=E.useCallback(F=>{F!==D.current&&(D.current=F,y(F))},[]),x=E.useCallback(F=>{F!==I.current&&(I.current=F,w(F))},[]),A=s||T,O=o||_,D=E.useRef(null),I=E.useRef(null),S=E.useRef(d),R=l!=null,P=yp(l),N=yp(i),L=yp(u),k=E.useCallback(()=>{if(!D.current||!I.current)return;const F={placement:e,strategy:n,middleware:f};N.current&&(F.platform=N.current),GO(D.current,I.current,F).then(B=>{const K={...B,isPositioned:L.current!==!1};W.current&&!zd(S.current,K)&&(S.current=K,Rc.flushSync(()=>{h(K)}))})},[f,e,n,N,L]);nd(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const W=E.useRef(!1);nd(()=>(W.current=!0,()=>{W.current=!1}),[]),nd(()=>{if(A&&(D.current=A),O&&(I.current=O),A&&O){if(P.current)return P.current(A,O,k);k()}},[A,O,k,P,R]);const se=E.useMemo(()=>({reference:D,floating:I,setReference:v,setFloating:x}),[v,x]),te=E.useMemo(()=>({reference:A,floating:O}),[A,O]),oe=E.useMemo(()=>{const F={position:n,left:0,top:0};if(!te.floating)return F;const B=h_(te.floating,d.x),K=h_(te.floating,d.y);return a?{...F,transform:"translate("+B+"px, "+K+"px)",...JS(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:K}},[n,a,te.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:k,refs:se,elements:te,floatingStyles:oe}),[d,k,se,te,oe])}const JO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?d_({element:r.current,padding:i}).fn(n):{}:r?d_({element:r,padding:i}).fn(n):{}}}},ZO=(t,e)=>({...BO(t),options:[t,e]}),eL=(t,e)=>({...zO(t),options:[t,e]}),tL=(t,e)=>({...KO(t),options:[t,e]}),nL=(t,e)=>({...WO(t),options:[t,e]}),rL=(t,e)=>({...HO(t),options:[t,e]}),iL=(t,e)=>({...qO(t),options:[t,e]}),sL=(t,e)=>({...JO(t),options:[t,e]});var oL="Arrow",ZS=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return C.jsx(nt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZS.displayName=oL;var aL=ZS;function lL(t){const[e,n]=E.useState(void 0);return Hr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Oy="Popper",[eI,tI]=ba(Oy),[cL,nI]=eI(Oy),rI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return C.jsx(cL,{scope:e,anchor:r,onAnchorChange:i,children:n})};rI.displayName=Oy;var iI="PopperAnchor",sI=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=nI(iI,n),o=E.useRef(null),a=xt(e,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:C.jsx(nt.div,{...i,ref:a})});sI.displayName=iI;var Ly="PopperContent",[uL,dL]=eI(Ly),oI=E.forwardRef((t,e)=>{var _e,qn,Sn,br,Kn,Ar;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:T,...y}=t,_=nI(Ly,n),[w,v]=E.useState(null),x=xt(e,hn=>v(hn)),[A,O]=E.useState(null),D=lL(A),I=(D==null?void 0:D.width)??0,S=(D==null?void 0:D.height)??0,R=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],L=N.length>0,k={padding:P,boundary:N.filter(fL),altBoundary:L},{refs:W,floatingStyles:se,placement:te,isPositioned:oe,middlewareData:F}=XO({strategy:"fixed",placement:R,whileElementsMounted:(...hn)=>$O(...hn,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[ZO({mainAxis:i+S,alignmentAxis:o}),l&&eL({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?tL():void 0,...k}),l&&nL({...k}),rL({...k,apply:({elements:hn,rects:ps,availableWidth:$a,availableHeight:ni})=>{const{width:ms,height:ri}=ps.reference,je=hn.floating.style;je.setProperty("--radix-popper-available-width",`${$a}px`),je.setProperty("--radix-popper-available-height",`${ni}px`),je.setProperty("--radix-popper-anchor-width",`${ms}px`),je.setProperty("--radix-popper-anchor-height",`${ri}px`)}}),A&&sL({element:A,padding:a}),pL({arrowWidth:I,arrowHeight:S}),f&&iL({strategy:"referenceHidden",...k})]}),[B,K]=cI(te),ae=wr(T);Hr(()=>{oe&&(ae==null||ae())},[oe,ae]);const Z=(_e=F.arrow)==null?void 0:_e.x,fe=(qn=F.arrow)==null?void 0:qn.y,de=((Sn=F.arrow)==null?void 0:Sn.centerOffset)!==0,[Ve,Xe]=E.useState();return Hr(()=>{w&&Xe(window.getComputedStyle(w).zIndex)},[w]),C.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:oe?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(br=F.transformOrigin)==null?void 0:br.x,(Kn=F.transformOrigin)==null?void 0:Kn.y].join(" "),...((Ar=F.hide)==null?void 0:Ar.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(uL,{scope:n,placedSide:B,onArrowChange:O,arrowX:Z,arrowY:fe,shouldHideArrow:de,children:C.jsx(nt.div,{"data-side":B,"data-align":K,...y,ref:x,style:{...y.style,animation:oe?void 0:"none"}})})})});oI.displayName=Ly;var aI="PopperArrow",hL={top:"bottom",right:"left",bottom:"top",left:"right"},lI=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=dL(aI,r),o=hL[s.placedSide];return C.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:C.jsx(aL,{...i,ref:n,style:{...i.style,display:"block"}})})});lI.displayName=aI;function fL(t){return t!==null}var pL=t=>({name:"transformOrigin",options:t,fn(e){var _,w,v;const{placement:n,rects:r,middlewareData:i}=e,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,d]=cI(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,m=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let T="",y="";return u==="bottom"?(T=o?h:`${f}px`,y=`${-l}px`):u==="top"?(T=o?h:`${f}px`,y=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,y=o?h:`${m}px`):u==="left"&&(T=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:T,y}}}});function cI(t){const[e,n="center"]=t.split("-");return[e,n]}var SB=rI,mL=sI,gL=oI,yL=lI,[Bh,IB]=ba("Tooltip",[tI]),My=tI(),uI="TooltipProvider",vL=700,f_="tooltip.open",[wL,dI]=Bh(uI),hI=t=>{const{__scopeTooltip:e,delayDuration:n=vL,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=E.useRef(!0),a=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),C.jsx(wL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:E.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};hI.displayName=uI;var fI="Tooltip",[CB,zh]=Bh(fI),zm="TooltipTrigger",_L=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zh(zm,n),s=dI(zm,n),o=My(n),a=E.useRef(null),l=xt(e,a,i.onTriggerChange),u=E.useRef(!1),d=E.useRef(!1),h=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),C.jsx(mL,{asChild:!0,...o,children:C.jsx(nt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Oe(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Oe(t.onBlur,i.onClose),onClick:Oe(t.onClick,i.onClose)})})});_L.displayName=zm;var EL="TooltipPortal",[bB,TL]=Bh(EL,{forceMount:void 0}),ga="TooltipContent",pI=E.forwardRef((t,e)=>{const n=TL(ga,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=zh(ga,t.__scopeTooltip);return C.jsx(Aa,{present:r||o.open,children:o.disableHoverableContent?C.jsx(mI,{side:i,...s,ref:e}):C.jsx(xL,{side:i,...s,ref:e})})}),xL=E.forwardRef((t,e)=>{const n=zh(ga,t.__scopeTooltip),r=dI(ga,t.__scopeTooltip),i=E.useRef(null),s=xt(e,i),[o,a]=E.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:h}=r,f=E.useCallback(()=>{a(null),h(!1)},[h]),m=E.useCallback((T,y)=>{const _=T.currentTarget,w={x:T.clientX,y:T.clientY},v=AL(w,_.getBoundingClientRect()),x=RL(w,v),A=PL(y.getBoundingClientRect()),O=NL([...x,...A]);a(O),h(!0)},[h]);return E.useEffect(()=>()=>f(),[f]),E.useEffect(()=>{if(l&&d){const T=_=>m(_,d),y=_=>m(_,l);return l.addEventListener("pointerleave",T),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",T),d.removeEventListener("pointerleave",y)}}},[l,d,m,f]),E.useEffect(()=>{if(o){const T=y=>{const _=y.target,w={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(_))||(d==null?void 0:d.contains(_)),x=!kL(w,o);v?f():x&&(f(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,d,o,u,f]),C.jsx(mI,{...t,ref:s})}),[SL,IL]=Bh(fI,{isInside:!1}),CL=tS("TooltipContent"),mI=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=zh(ga,n),u=My(n),{onClose:d}=l;return E.useEffect(()=>(document.addEventListener(f_,d),()=>document.removeEventListener(f_,d)),[d]),E.useEffect(()=>{if(l.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),C.jsx(Mh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:C.jsxs(gL,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(CL,{children:r}),C.jsx(SL,{scope:n,isInside:!0,children:C.jsx(JN,{id:l.contentId,role:"tooltip",children:i||r})})]})})});pI.displayName=ga;var gI="TooltipArrow",bL=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=My(n);return IL(gI,n).isInside?null:C.jsx(yL,{...i,...r,ref:e})});bL.displayName=gI;function AL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function PL(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function kL(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(i=!i)}return i}function NL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),DL(e)}function DL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var OL=hI,yI=pI;const LL=OL,ML=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(yI,{ref:r,sideOffset:e,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));ML.displayName=yI.displayName;var Wh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hh=typeof window>"u"||"Deno"in globalThis;function Pn(){}function VL(t,e){return typeof t=="function"?t(e):t}function FL(t){return typeof t=="number"&&t>=0&&t!==1/0}function jL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wm(t,e){return typeof t=="function"?t(e):t}function UL(t,e){return typeof t=="function"?t(e):t}function p_(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Vy(o,e.options))return!1}else if(!oc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function m_(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(sc(e.options.mutationKey)!==sc(s))return!1}else if(!oc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Vy(t,e){return((e==null?void 0:e.queryKeyHashFn)||sc)(t)}function sc(t){return JSON.stringify(t,(e,n)=>Hm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function oc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>oc(t[n],e[n])):!1}function vI(t,e){if(t===e)return t;const n=g_(t)&&g_(e);if(n||Hm(t)&&Hm(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:s[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=vI(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function g_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hm(t){if(!y_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!y_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y_(t){return Object.prototype.toString.call(t)==="[object Object]"}function $L(t){return new Promise(e=>{setTimeout(e,t)})}function BL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vI(t,e):e}function zL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function WL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Fy=Symbol();function wI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Fy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Rs,Ii,ea,P1,HL=(P1=class extends Wh{constructor(){super();xe(this,Rs);xe(this,Ii);xe(this,ea);ue(this,ea,e=>{if(!Hh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Ii)||this.setEventListener(j(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Ii))==null||e.call(this),ue(this,Ii,void 0))}setEventListener(e){var n;ue(this,ea,e),(n=j(this,Ii))==null||n.call(this),ue(this,Ii,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Rs)!==e&&(ue(this,Rs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Rs)=="boolean"?j(this,Rs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Rs=new WeakMap,Ii=new WeakMap,ea=new WeakMap,P1),_I=new HL,ta,Ci,na,k1,qL=(k1=class extends Wh{constructor(){super();xe(this,ta,!0);xe(this,Ci);xe(this,na);ue(this,na,e=>{if(!Hh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Ci)||this.setEventListener(j(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Ci))==null||e.call(this),ue(this,Ci,void 0))}setEventListener(e){var n;ue(this,na,e),(n=j(this,Ci))==null||n.call(this),ue(this,Ci,e(this.setOnline.bind(this)))}setOnline(e){j(this,ta)!==e&&(ue(this,ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,ta)}},ta=new WeakMap,Ci=new WeakMap,na=new WeakMap,k1),Wd=new qL;function KL(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function GL(t){return Math.min(1e3*2**t,3e4)}function EI(t){return(t??"online")==="online"?Wd.isOnline():!0}var TI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vp(t){return t instanceof TI}function xI(t){let e=!1,n=0,r=!1,i;const s=KL(),o=y=>{var _;r||(f(new TI(y)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>_I.isFocused()&&(t.networkMode==="always"||Wd.isOnline())&&t.canRun(),d=()=>EI(t.networkMode)&&t.canRun(),h=y=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,y),i==null||i(),s.resolve(y))},f=y=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,y),i==null||i(),s.reject(y))},m=()=>new Promise(y=>{var _;i=w=>{(r||u())&&y(w)},(_=t.onPause)==null||_.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),T=()=>{if(r)return;let y;const _=n===0?t.initialPromise:void 0;try{y=_??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(h).catch(w=>{var D;if(r)return;const v=t.retry??(Hh?0:3),x=t.retryDelay??GL,A=typeof x=="function"?x(n,w):x,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!O){f(w);return}n++,(D=t.onFail)==null||D.call(t,n,w),$L(A).then(()=>u()?void 0:m()).then(()=>{e?f(w):T()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?T():m().then(T),s)}}var QL=t=>setTimeout(t,0);function YL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=QL;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ft=YL(),Ps,N1,SI=(N1=class{constructor(){xe(this,Ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FL(this.gcTime)&&ue(this,Ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hh?1/0:5*60*1e3))}clearGcTimeout(){j(this,Ps)&&(clearTimeout(j(this,Ps)),ue(this,Ps,void 0))}},Ps=new WeakMap,N1),ra,ks,pn,Ns,Rt,Tc,Ds,kn,Nr,D1,XL=(D1=class extends SI{constructor(n){super();xe(this,kn);xe(this,ra);xe(this,ks);xe(this,pn);xe(this,Ns);xe(this,Rt);xe(this,Tc);xe(this,Ds);ue(this,Ds,!1),ue(this,Tc,n.defaultOptions),this.setOptions(n.options),this.observers=[],ue(this,Ns,n.client),ue(this,pn,j(this,Ns).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ue(this,ra,ZL(this.options)),this.state=n.state??j(this,ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=j(this,Rt))==null?void 0:n.promise}setOptions(n){this.options={...j(this,Tc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,pn).remove(this)}setData(n,r){const i=BL(this.state.data,n,this.options);return It(this,kn,Nr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){It(this,kn,Nr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=j(this,Rt))==null?void 0:i.promise;return(s=j(this,Rt))==null||s.cancel(n),r?r.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,ra))}isActive(){return this.observers.some(n=>UL(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Wm(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!jL(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,Rt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,Rt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),j(this,pn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(j(this,Rt)&&(j(this,Ds)?j(this,Rt).cancel({revert:!0}):j(this,Rt).cancelRetry()),this.scheduleGc()),j(this,pn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,kn,Nr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,Rt))return j(this,Rt).continueRetry(),j(this,Rt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(T=>T.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ue(this,Ds,!0),i.signal)})},o=()=>{const m=wI(this.options,r),y=(()=>{const _={client:j(this,Ns),queryKey:this.queryKey,meta:this.meta};return s(_),_})();return ue(this,Ds,!1),this.options.persister?this.options.persister(m,y,this):m(y)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:j(this,Ns),state:this.state,fetchFn:o};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),ue(this,ks,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&It(this,kn,Nr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const u=m=>{var T,y,_,w;vp(m)&&m.silent||It(this,kn,Nr).call(this,{type:"error",error:m}),vp(m)||((y=(T=j(this,pn).config).onError)==null||y.call(T,m,this),(w=(_=j(this,pn).config).onSettled)==null||w.call(_,this.state.data,m,this)),this.scheduleGc()};return ue(this,Rt,xI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var T,y,_,w;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){u(v);return}(y=(T=j(this,pn).config).onSuccess)==null||y.call(T,m,this),(w=(_=j(this,pn).config).onSettled)==null||w.call(_,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,T)=>{It(this,kn,Nr).call(this,{type:"failed",failureCount:m,error:T})},onPause:()=>{It(this,kn,Nr).call(this,{type:"pause"})},onContinue:()=>{It(this,kn,Nr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),j(this,Rt).start()}},ra=new WeakMap,ks=new WeakMap,pn=new WeakMap,Ns=new WeakMap,Rt=new WeakMap,Tc=new WeakMap,Ds=new WeakMap,kn=new WeakSet,Nr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...JL(i.data,this.options),fetchMeta:n.meta??null};case"success":return ue(this,ks,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return vp(s)&&s.revert&&j(this,ks)?{...j(this,ks),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ft.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),j(this,pn).notify({query:this,type:"updated",action:n})})},D1);function JL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ZL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rr,O1,eM=(O1=class extends Wh{constructor(e={}){super();xe(this,rr);this.config=e,ue(this,rr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Vy(i,n);let o=this.get(s);return o||(o=new XL({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){j(this,rr).has(e.queryHash)||(j(this,rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,rr).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ft.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,rr).get(e)}getAll(){return[...j(this,rr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>p_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>p_(e,r)):n}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ft.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rr=new WeakMap,O1),ir,Mt,Os,sr,mi,L1,tM=(L1=class extends SI{constructor(n){super();xe(this,sr);xe(this,ir);xe(this,Mt);xe(this,Os);this.mutationId=n.mutationId,ue(this,Mt,n.mutationCache),ue(this,ir,[]),this.state=n.state||nM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){j(this,ir).includes(n)||(j(this,ir).push(n),this.clearGcTimeout(),j(this,Mt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ue(this,ir,j(this,ir).filter(r=>r!==n)),this.scheduleGc(),j(this,Mt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){j(this,ir).length||(this.state.status==="pending"?this.scheduleGc():j(this,Mt).remove(this))}continue(){var n;return((n=j(this,Os))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,u,d,h,f,m,T,y,_,w,v,x,A,O,D,I,S,R;const r=()=>{It(this,sr,mi).call(this,{type:"continue"})};ue(this,Os,xI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{It(this,sr,mi).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{It(this,sr,mi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Mt).canRun(this)}));const i=this.state.status==="pending",s=!j(this,Os).canStart();try{if(i)r();else{It(this,sr,mi).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(o=j(this,Mt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));N!==this.state.context&&It(this,sr,mi).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const P=await j(this,Os).start();return await((h=(d=j(this,Mt).config).onSuccess)==null?void 0:h.call(d,P,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,P,n,this.state.context)),await((y=(T=j(this,Mt).config).onSettled)==null?void 0:y.call(T,P,null,this.state.variables,this.state.context,this)),await((w=(_=this.options).onSettled)==null?void 0:w.call(_,P,null,n,this.state.context)),It(this,sr,mi).call(this,{type:"success",data:P}),P}catch(P){try{throw await((x=(v=j(this,Mt).config).onError)==null?void 0:x.call(v,P,n,this.state.context,this)),await((O=(A=this.options).onError)==null?void 0:O.call(A,P,n,this.state.context)),await((I=(D=j(this,Mt).config).onSettled)==null?void 0:I.call(D,void 0,P,this.state.variables,this.state.context,this)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,void 0,P,n,this.state.context)),P}finally{It(this,sr,mi).call(this,{type:"error",error:P})}}finally{j(this,Mt).runNext(this)}}},ir=new WeakMap,Mt=new WeakMap,Os=new WeakMap,sr=new WeakSet,mi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ft.batch(()=>{j(this,ir).forEach(i=>{i.onMutationUpdate(n)}),j(this,Mt).notify({mutation:this,type:"updated",action:n})})},L1);function nM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lr,Nn,xc,M1,rM=(M1=class extends Wh{constructor(e={}){super();xe(this,Lr);xe(this,Nn);xe(this,xc);this.config=e,ue(this,Lr,new Set),ue(this,Nn,new Map),ue(this,xc,0)}build(e,n,r){const i=new tM({mutationCache:this,mutationId:++ru(this,xc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){j(this,Lr).add(e);const n=Iu(e);if(typeof n=="string"){const r=j(this,Nn).get(n);r?r.push(e):j(this,Nn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,Lr).delete(e)){const n=Iu(e);if(typeof n=="string"){const r=j(this,Nn).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&j(this,Nn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Iu(e);if(typeof n=="string"){const r=j(this,Nn).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Iu(e);if(typeof n=="string"){const i=(r=j(this,Nn).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ft.batch(()=>{j(this,Lr).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,Lr).clear(),j(this,Nn).clear()})}getAll(){return Array.from(j(this,Lr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>m_(n,r))}findAll(e={}){return this.getAll().filter(n=>m_(e,n))}notify(e){Ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ft.batch(()=>Promise.all(e.map(n=>n.continue().catch(Pn))))}},Lr=new WeakMap,Nn=new WeakMap,xc=new WeakMap,M1);function Iu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function v_(t){return{onFetch:(e,n)=>{var d,h,f,m,T;const r=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=wI(e.options,e.fetchOptions),v=async(x,A,O)=>{if(y)return Promise.reject();if(A==null&&x.pages.length)return Promise.resolve(x);const I=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:A,direction:O?"backward":"forward",meta:e.options.meta};return _(N),N})(),S=await w(I),{maxPages:R}=e.options,P=O?WL:zL;return{pages:P(x.pages,S,R),pageParams:P(x.pageParams,A,R)}};if(i&&s.length){const x=i==="backward",A=x?iM:w_,O={pages:s,pageParams:o},D=A(r,O);a=await v(O,D,x)}else{const x=t??s.length;do{const A=l===0?o[0]??r.initialPageParam:w_(r,a);if(l>0&&A==null)break;a=await v(a,A),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var y,_;return(_=(y=e.options).persister)==null?void 0:_.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function w_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function iM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qe,bi,Ai,ia,sa,Ri,oa,aa,V1,sM=(V1=class{constructor(t={}){xe(this,qe);xe(this,bi);xe(this,Ai);xe(this,ia);xe(this,sa);xe(this,Ri);xe(this,oa);xe(this,aa);ue(this,qe,t.queryCache||new eM),ue(this,bi,t.mutationCache||new rM),ue(this,Ai,t.defaultOptions||{}),ue(this,ia,new Map),ue(this,sa,new Map),ue(this,Ri,0)}mount(){ru(this,Ri)._++,j(this,Ri)===1&&(ue(this,oa,_I.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,qe).onFocus())})),ue(this,aa,Wd.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,qe).onOnline())})))}unmount(){var t,e;ru(this,Ri)._--,j(this,Ri)===0&&((t=j(this,oa))==null||t.call(this),ue(this,oa,void 0),(e=j(this,aa))==null||e.call(this),ue(this,aa,void 0))}isFetching(t){return j(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,bi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=j(this,qe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return j(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=j(this,qe).get(r.queryHash),s=i==null?void 0:i.state.data,o=VL(e,s);if(o!==void 0)return j(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ft.batch(()=>j(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,qe);Ft.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,qe);return Ft.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ft.batch(()=>j(this,qe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Pn).catch(Pn)}invalidateQueries(t,e={}){return Ft.batch(()=>(j(this,qe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ft.batch(()=>j(this,qe).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Pn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Pn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,qe).build(this,e);return n.isStaleByTime(Wm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Pn).catch(Pn)}fetchInfiniteQuery(t){return t.behavior=v_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Pn).catch(Pn)}ensureInfiniteQueryData(t){return t.behavior=v_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Wd.isOnline()?j(this,bi).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,qe)}getMutationCache(){return j(this,bi)}getDefaultOptions(){return j(this,Ai)}setDefaultOptions(t){ue(this,Ai,t)}setQueryDefaults(t,e){j(this,ia).set(sc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,ia).values()],n={};return e.forEach(r=>{oc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){j(this,sa).set(sc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,sa).values()],n={};return e.forEach(r=>{oc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,Ai).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,Ai).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,qe).clear(),j(this,bi).clear()}},qe=new WeakMap,bi=new WeakMap,Ai=new WeakMap,ia=new WeakMap,sa=new WeakMap,Ri=new WeakMap,oa=new WeakMap,aa=new WeakMap,V1),oM=E.createContext(void 0),aM=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(oM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}var Ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ni||(Ni={}));const __="popstate";function lM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return qm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hd(i)}return uM(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function II(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cM(){return Math.random().toString(36).substr(2,8)}function E_(t,e){return{usr:t.state,key:t.key,idx:e}}function qm(t,e,n,r){return n===void 0&&(n=null),ac({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Na(e):e,{state:n,key:e&&e.key||r||cM()})}function Hd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ni.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ac({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Ni.Pop;let _=d(),w=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:w})}function f(_,w){a=Ni.Push;let v=qm(y.location,_,w);u=d()+1;let x=E_(v,u),A=y.createHref(v);try{o.pushState(x,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(A)}s&&l&&l({action:a,location:y.location,delta:1})}function m(_,w){a=Ni.Replace;let v=qm(y.location,_,w);u=d();let x=E_(v,u),A=y.createHref(v);o.replaceState(x,"",A),s&&l&&l({action:a,location:y.location,delta:0})}function T(_){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof _=="string"?_:Hd(_);return v=v.replace(/ $/,"%20"),Be(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let y={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(__,h),l=_,()=>{i.removeEventListener(__,h),l=null}},createHref(_){return e(i,_)},createURL:T,encodeLocation(_){let w=T(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:m,go(_){return o.go(_)}};return y}var T_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T_||(T_={}));function dM(t,e,n){return n===void 0&&(n="/"),hM(t,e,n,!1)}function hM(t,e,n,r){let i=typeof e=="string"?Na(e):e,s=ya(i.pathname||"/",n);if(s==null)return null;let o=CI(t);fM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=SM(s);a=TM(o[l],u,r)}return a}function CI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),CI(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:_M(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of bI(s.path))i(s,o,l)}),e}function bI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pM=/^:[\w-]+$/,mM=3,gM=2,yM=1,vM=10,wM=-2,x_=t=>t==="*";function _M(t,e){let n=t.split("/"),r=n.length;return n.some(x_)&&(r+=wM),e&&(r+=gM),n.filter(i=>!x_(i)).reduce((i,s)=>i+(pM.test(s)?mM:s===""?yM:vM),r)}function EM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TM(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:zi([s,h.pathname]),pathnameBase:AM(zi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=zi([s,h.pathnameBase]))}return o}function qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const T=a[h];return m&&!T?u[f]=void 0:u[f]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function xM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),II(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function SM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return II(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ya(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Na(t):t;return{pathname:n?n.startsWith("/")?n:CM(n,e):e,search:RM(r),hash:PM(i)}}function CM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jy(t,e){let n=bM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Na(t):(i=ac({},t),Be(!i.pathname||!i.pathname.includes("?"),wp("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),wp("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),wp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=IM(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const zi=t=>t.join("/").replace(/\/\/+/g,"/"),AM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AI=["post","put","patch","delete"];new Set(AI);const NM=["get",...AI];new Set(NM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}const qh=E.createContext(null),RI=E.createContext(null),Zr=E.createContext(null),Kh=E.createContext(null),ei=E.createContext({outlet:null,matches:[],isDataRoute:!1}),PI=E.createContext(null);function DM(t,e){let{relative:n}=e===void 0?{}:e;Da()||Be(!1);let{basename:r,navigator:i}=E.useContext(Zr),{hash:s,pathname:o,search:a}=Gh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Da(){return E.useContext(Kh)!=null}function cs(){return Da()||Be(!1),E.useContext(Kh).location}function kI(t){E.useContext(Zr).static||E.useLayoutEffect(t)}function Nc(){let{isDataRoute:t}=E.useContext(ei);return t?qM():OM()}function OM(){Da()||Be(!1);let t=E.useContext(qh),{basename:e,future:n,navigator:r}=E.useContext(Zr),{matches:i}=E.useContext(ei),{pathname:s}=cs(),o=JSON.stringify(jy(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return kI(()=>{a.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Uy(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function PB(){let{matches:t}=E.useContext(ei),e=t[t.length-1];return e?e.params:{}}function Gh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(Zr),{matches:i}=E.useContext(ei),{pathname:s}=cs(),o=JSON.stringify(jy(i,r.v7_relativeSplatPath));return E.useMemo(()=>Uy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function LM(t,e){return MM(t,e)}function MM(t,e,n,r){Da()||Be(!1);let{navigator:i}=E.useContext(Zr),{matches:s}=E.useContext(ei),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=cs(),d;if(e){var h;let _=typeof e=="string"?Na(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||Be(!1),d=_}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=dM(t,{pathname:m}),y=$M(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:zi([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:zi([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&y?E.createElement(Kh.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ni.Pop}},y):y}function VM(){let t=HM(),e=kM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const FM=E.createElement(VM,null);class jM extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(ei.Provider,{value:this.props.routeContext},E.createElement(PI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UM(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(qh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(ei.Provider,{value:e},r)}function $M(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,T=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,T=!1,y=null,_=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||FM,l&&(u<0&&f===0?(T=!0,_=null):u===f&&(T=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),v=()=>{let x;return m?x=y:T?x=_:h.route.Component?x=E.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,E.createElement(UM,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(jM,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var NI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NI||{}),Kd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kd||{});function BM(t){let e=E.useContext(qh);return e||Be(!1),e}function zM(t){let e=E.useContext(RI);return e||Be(!1),e}function WM(t){let e=E.useContext(ei);return e||Be(!1),e}function DI(t){let e=WM(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function HM(){var t;let e=E.useContext(PI),n=zM(Kd.UseRouteError),r=DI(Kd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qM(){let{router:t}=BM(NI.UseNavigateStable),e=DI(Kd.UseNavigateStable),n=E.useRef(!1);return kI(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lc({fromRouteId:e},s)))},[t,e])}function KM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function GM(t){let{to:e,replace:n,state:r,relative:i}=t;Da()||Be(!1);let{future:s,static:o}=E.useContext(Zr),{matches:a}=E.useContext(ei),{pathname:l}=cs(),u=Nc(),d=Uy(e,jy(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return E.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function en(t){Be(!1)}function QM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ni.Pop,navigator:s,static:o=!1,future:a}=t;Da()&&Be(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:lc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Na(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:T="default"}=r,y=E.useMemo(()=>{let _=ya(d,l);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:T},navigationType:i}},[l,d,h,f,m,T,i]);return y==null?null:E.createElement(Zr.Provider,{value:u},E.createElement(Kh.Provider,{children:n,value:y}))}function S_(t){let{children:e,location:n}=t;return LM(Km(e),n)}new Promise(()=>{});function Km(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Km(r.props.children,s));return}r.type!==en&&Be(!1),!r.props.index||!r.props.children||Be(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Km(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gd.apply(this,arguments)}function OI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XM(t,e){return t.button===0&&(!e||e==="_self")&&!YM(t)}function Gm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function JM(t,e){let n=Gm(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const ZM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tV="6";try{window.__reactRouterVersion=tV}catch{}const nV=E.createContext({isTransitioning:!1}),rV="startTransition",I_=Ag[rV];function iV(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=lM({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=E.useCallback(h=>{u&&I_?I_(()=>l(h)):l(h)},[l,u]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.useEffect(()=>KM(r),[r]),E.createElement(QM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const sV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aV=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=OI(e,ZM),{basename:m}=E.useContext(Zr),T,y=!1;if(typeof u=="string"&&oV.test(u)&&(T=u,sV))try{let x=new URL(window.location.href),A=u.startsWith("//")?new URL(x.protocol+u):new URL(u),O=ya(A.pathname,m);A.origin===x.origin&&O!=null?u=O+A.search+A.hash:y=!0}catch{}let _=DM(u,{relative:i}),w=cV(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(x){r&&r(x),x.defaultPrevented||w(x)}return E.createElement("a",Gd({},f,{href:T||_,onClick:y||s?r:v,ref:n,target:l}))}),mo=E.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:d}=e,h=OI(e,eV),f=Gh(l,{relative:h.relative}),m=cs(),T=E.useContext(RI),{navigator:y,basename:_}=E.useContext(Zr),w=T!=null&&uV(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=m.pathname,A=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;i||(x=x.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&_&&(A=ya(A,_)||A);const O=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=x===v||!o&&x.startsWith(v)&&x.charAt(O)==="/",I=A!=null&&(A===v||!o&&A.startsWith(v)&&A.charAt(v.length)==="/"),S={isActive:D,isPending:I,isTransitioning:w},R=D?r:void 0,P;typeof s=="function"?P=s(S):P=[s,D?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(S):a;return E.createElement(aV,Gd({},h,{"aria-current":R,className:P,ref:n,style:N,to:l,viewTransition:u}),typeof d=="function"?d(S):d)});var Qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qm||(Qm={}));var C_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(C_||(C_={}));function lV(t){let e=E.useContext(qh);return e||Be(!1),e}function cV(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Nc(),u=cs(),d=Gh(t,{relative:o});return E.useCallback(h=>{if(XM(h,n)){h.preventDefault();let f=r!==void 0?r:Hd(u)===Hd(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function kB(t){let e=E.useRef(Gm(t)),n=E.useRef(!1),r=cs(),i=E.useMemo(()=>JM(r.search,n.current?null:e.current),[r.search]),s=Nc(),o=E.useCallback((a,l)=>{const u=Gm(typeof a=="function"?a(i):a);n.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function uV(t,e){e===void 0&&(e={});let n=E.useContext(nV);n==null&&Be(!1);let{basename:r}=lV(Qm.useViewTransitionState),i=Gh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ya(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ya(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qd(i.pathname,o)!=null||qd(i.pathname,s)!=null}function dV({children:t}){return C.jsx(mD,{attribute:"class",defaultTheme:"light",enableSystem:!1,children:t})}const b_="/BukzBrainv2/assets/LOGO_BUKZ-CnW6Hy2l.png",$y=xy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 [&_svg]:transition-transform [&_svg]:duration-200 active:scale-[0.97] active:duration-100",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:shadow-sm",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline active:scale-100"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Di=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?bN:"button";return C.jsx(o,{className:me($y({variant:e,size:n,className:t})),ref:s,...i})});Di.displayName="Button";function A_(){const{theme:t,setTheme:e}=$S();return C.jsxs(Di,{variant:"ghost",size:"icon",onClick:()=>e(t==="dark"?"light":"dark"),className:"h-9 w-9 rounded-lg",children:[C.jsx(R2,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),C.jsx(S2,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),C.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const LI=E.forwardRef(({className:t,type:e,...n},r)=>C.jsx("input",{type:e,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base transition-all duration-200 ease-out file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground hover:border-ring/50 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring/40 focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));LI.displayName="Input";const hV=[{title:"Dashboard",path:"/",category:"Mdulo",icon:T2},{title:"Operaciones",path:"/operations",category:"Mdulo",icon:td},{title:"Guas",path:"/instructions",category:"Mdulo",icon:RS},{title:"Solicitudes",path:"/requests",category:"Mdulo",icon:wo},{title:"Gestin de Tareas",path:"/operations",category:"Submdulo",icon:td},{title:"Subtareas y Notas",path:"/operations",category:"Submdulo",icon:td},{title:"Creacin de Productos",path:"/instructions/creacion-de-productos",category:"Gua",icon:_o},{title:"Facturacin POS",path:"/instructions/facturacion-pos",category:"Gua",icon:_o},{title:"Traslados",path:"/instructions/traslados",category:"Gua",icon:_o},{title:"Ingresos",path:"/instructions/ingresos",category:"Gua",icon:_o},{title:"Permisos y Vacaciones",path:"/instructions/permisos-y-vacaciones",category:"Gua",icon:_o},{title:"Solicitud de Vacaciones",path:"/requests",category:"Submdulo",icon:wo},{title:"Permiso Remunerado",path:"/requests",category:"Submdulo",icon:wo},{title:"Permiso No Remunerado",path:"/requests",category:"Submdulo",icon:wo},{title:"Da de Cumpleaos",path:"/requests",category:"Submdulo",icon:wo}];function fV(){const[t,e]=E.useState(""),[n,r]=E.useState(!1),i=Nc(),s=E.useRef(null),o=t.trim()?hV.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.category.toLowerCase().includes(t.toLowerCase())):[];return E.useEffect(()=>{const a=l=>{s.current&&!s.current.contains(l.target)&&r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),C.jsxs("div",{ref:s,className:"relative w-full max-w-sm",children:[C.jsx(C2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground transition-colors duration-200"}),C.jsx(LI,{placeholder:"Buscar mdulos, guas...",value:t,onChange:a=>{e(a.target.value),r(!0)},onFocus:()=>t.trim()&&r(!0),className:"pl-9 h-9 text-sm"}),n&&o.length>0&&C.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 z-50 rounded-xl border border-border bg-card shadow-lg overflow-hidden animate-slide-up-fade",children:o.map((a,l)=>C.jsxs("button",{onClick:()=>{i(a.path),e(""),r(!1)},className:"flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm hover:bg-muted/50 transition-all duration-150 ease-out hover:pl-5",children:[C.jsx(a.icon,{className:"h-4 w-4 text-muted-foreground shrink-0 transition-transform duration-200"}),C.jsx("div",{className:"flex-1 min-w-0",children:C.jsx("p",{className:"text-foreground truncate",children:a.title})}),C.jsx("span",{className:"text-[10px] font-medium text-muted-foreground bg-muted px-1.5 py-0.5 rounded-full border border-border transition-all duration-200",children:a.category})]},l))})]})}var _p="focusScope.autoFocusOnMount",Ep="focusScope.autoFocusOnUnmount",R_={bubbles:!1,cancelable:!0},pV="FocusScope",MI=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=E.useState(null),u=wr(i),d=wr(s),h=E.useRef(null),f=xt(e,y=>l(y)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let y=function(x){if(m.paused||!a)return;const A=x.target;a.contains(A)?h.current=A:gi(h.current,{select:!0})},_=function(x){if(m.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||gi(h.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const O of x)O.removedNodes.length>0&&gi(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),v.disconnect()}}},[r,a,m.paused]),E.useEffect(()=>{if(a){k_.add(m);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(_p,R_);a.addEventListener(_p,u),a.dispatchEvent(w),w.defaultPrevented||(mV(_V(VI(a)),{select:!0}),document.activeElement===y&&gi(a))}return()=>{a.removeEventListener(_p,u),setTimeout(()=>{const w=new CustomEvent(Ep,R_);a.addEventListener(Ep,d),a.dispatchEvent(w),w.defaultPrevented||gi(y??document.body,{select:!0}),a.removeEventListener(Ep,d),k_.remove(m)},0)}}},[a,u,d,m]);const T=E.useCallback(y=>{if(!n&&!r||m.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(_&&w){const v=y.currentTarget,[x,A]=gV(v);x&&A?!y.shiftKey&&w===A?(y.preventDefault(),n&&gi(x,{select:!0})):y.shiftKey&&w===x&&(y.preventDefault(),n&&gi(A,{select:!0})):w===v&&y.preventDefault()}},[n,r,m.paused]);return C.jsx(nt.div,{tabIndex:-1,...o,ref:f,onKeyDown:T})});MI.displayName=pV;function mV(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(gi(r,{select:e}),document.activeElement!==n)return}function gV(t){const e=VI(t),n=P_(e,t),r=P_(e.reverse(),t);return[n,r]}function VI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function P_(t,e){for(const n of t)if(!yV(n,{upTo:e}))return n}function yV(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vV(t){return t instanceof HTMLInputElement&&"select"in t}function gi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vV(t)&&e&&t.select()}}var k_=wV();function wV(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=N_(t,e),t.unshift(e)},remove(e){var n;t=N_(t,e),(n=t[0])==null||n.resume()}}}function N_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function _V(t){return t.filter(e=>e.tagName!=="A")}var Tp=0;function EV(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??D_()),document.body.insertAdjacentElement("beforeend",t[1]??D_()),Tp++,()=>{Tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tp--}},[])}function D_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ar=function(){return ar=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ar.apply(this,arguments)};function FI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TV(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var rd="right-scroll-bar-position",id="width-before-scroll-bar",xV="with-scroll-bars-hidden",SV="--removed-body-scroll-bar-size";function xp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IV(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var CV=typeof window<"u"?E.useLayoutEffect:E.useEffect,O_=new WeakMap;function bV(t,e){var n=IV(null,function(r){return t.forEach(function(i){return xp(i,r)})});return CV(function(){var r=O_.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||xp(a,null)}),s.forEach(function(a){i.has(a)||xp(a,o)})}O_.set(n,t)},[t]),n}function AV(t){return t}function RV(t,e){e===void 0&&(e=AV);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function PV(t){t===void 0&&(t={});var e=RV(null);return e.options=ar({async:!0,ssr:!1},t),e}var jI=function(t){var e=t.sideCar,n=FI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,ar({},n))};jI.isSideCarExport=!0;function kV(t,e){return t.useMedium(e),jI}var UI=PV(),Sp=function(){},Qh=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Sp,onWheelCapture:Sp,onTouchMoveCapture:Sp}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,m=t.noRelative,T=t.noIsolation,y=t.inert,_=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,x=t.gapMode,A=FI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=f,D=bV([n,e]),I=ar(ar({},A),i);return E.createElement(E.Fragment,null,d&&E.createElement(O,{sideCar:UI,removeScrollBar:u,shards:h,noRelative:m,noIsolation:T,inert:y,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:x}),o?E.cloneElement(E.Children.only(a),ar(ar({},I),{ref:D})):E.createElement(v,ar({},I,{className:l,ref:D}),a))});Qh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qh.classNames={fullWidth:id,zeroRight:rd};var NV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NV();return e&&t.setAttribute("nonce",e),t}function OV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var MV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=DV())&&(OV(e,n),LV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VV=function(){var t=MV();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$I=function(){var t=VV(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},FV={left:0,top:0,right:0,gap:0},Ip=function(t){return parseInt(t||"",10)||0},jV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ip(n),Ip(r),Ip(i)]},UV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FV;var e=jV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$V=$I(),qo="data-scroll-locked",BV=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(xV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(qo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qo,`] {
    `).concat(SV,": ").concat(a,`px;
  }
`)},L_=function(){var t=parseInt(document.body.getAttribute(qo)||"0",10);return isFinite(t)?t:0},zV=function(){E.useEffect(function(){return document.body.setAttribute(qo,(L_()+1).toString()),function(){var t=L_()-1;t<=0?document.body.removeAttribute(qo):document.body.setAttribute(qo,t.toString())}},[])},WV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;zV();var s=E.useMemo(function(){return UV(i)},[i]);return E.createElement($V,{styles:BV(s,!e,i,n?"":"!important")})},Ym=!1;if(typeof window<"u")try{var Cu=Object.defineProperty({},"passive",{get:function(){return Ym=!0,!0}});window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Ym=!1}var go=Ym?{passive:!1}:!1,HV=function(t){return t.tagName==="TEXTAREA"},BI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!HV(t)&&n[e]==="visible")},qV=function(t){return BI(t,"overflowY")},KV=function(t){return BI(t,"overflowX")},M_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=zI(t,r);if(i){var s=WI(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},GV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},QV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},zI=function(t,e){return t==="v"?qV(e):KV(e)},WI=function(t,e){return t==="v"?GV(e):QV(e)},YV=function(t,e){return t==="h"&&e==="rtl"?-1:1},XV=function(t,e,n,r,i){var s=YV(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,h=0,f=0;do{if(!a)break;var m=WI(t,a),T=m[0],y=m[1],_=m[2],w=y-_-s*T;(T||w)&&zI(t,a)&&(h+=w,f+=T);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},V_=function(t){return[t.deltaX,t.deltaY]},F_=function(t){return t&&"current"in t?t.current:t},JV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},e4=0,yo=[];function t4(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(e4++)[0],s=E.useState($I)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=TV([t.lockRef.current],(t.shards||[]).map(F_),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=bu(y),v=n.current,x="deltaX"in y?y.deltaX:v[0]-w[0],A="deltaY"in y?y.deltaY:v[1]-w[1],O,D=y.target,I=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in y&&I==="h"&&D.type==="range")return!1;var S=M_(I,D);if(!S)return!0;if(S?O=I:(O=I==="v"?"h":"v",S=M_(I,D)),!S)return!1;if(!r.current&&"changedTouches"in y&&(x||A)&&(r.current=O),!O)return!0;var R=r.current||O;return XV(R,_,y,R==="h"?x:A,!0)},[]),l=E.useCallback(function(y){var _=y;if(!(!yo.length||yo[yo.length-1]!==s)){var w="deltaY"in _?V_(_):bu(_),v=e.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&JV(O.delta,w)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(F_).filter(Boolean).filter(function(O){return O.contains(_.target)}),A=x.length>0?a(_,x[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=E.useCallback(function(y,_,w,v){var x={name:y,delta:_,target:w,should:v,shadowParent:n4(w)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),d=E.useCallback(function(y){n.current=bu(y),r.current=void 0},[]),h=E.useCallback(function(y){u(y.type,V_(y),y.target,a(y,t.lockRef.current))},[]),f=E.useCallback(function(y){u(y.type,bu(y),y.target,a(y,t.lockRef.current))},[]);E.useEffect(function(){return yo.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,go),document.addEventListener("touchmove",l,go),document.addEventListener("touchstart",d,go),function(){yo=yo.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,go),document.removeEventListener("touchmove",l,go),document.removeEventListener("touchstart",d,go)}},[]);var m=t.removeScrollBar,T=t.inert;return E.createElement(E.Fragment,null,T?E.createElement(s,{styles:ZV(i)}):null,m?E.createElement(WV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function n4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const r4=kV(UI,t4);var HI=E.forwardRef(function(t,e){return E.createElement(Qh,ar({},t,{ref:e,sideCar:r4}))});HI.classNames=Qh.classNames;var i4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vo=new WeakMap,Au=new WeakMap,Ru={},Cp=0,qI=function(t){return t&&(t.host||qI(t.parentNode))},s4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=qI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o4=function(t,e,n,r){var i=s4(e,Array.isArray(t)?t:[t]);Ru[n]||(Ru[n]=new WeakMap);var s=Ru[n],o=[],a=new Set,l=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var m=f.getAttribute(r),T=m!==null&&m!=="false",y=(vo.get(f)||0)+1,_=(s.get(f)||0)+1;vo.set(f,y),s.set(f,_),o.push(f),y===1&&T&&Au.set(f,!0),_===1&&f.setAttribute(n,"true"),T||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return d(e),a.clear(),Cp++,function(){o.forEach(function(h){var f=vo.get(h)-1,m=s.get(h)-1;vo.set(h,f),s.set(h,m),f||(Au.has(h)||h.removeAttribute(r),Au.delete(h)),m||h.removeAttribute(n)}),Cp--,Cp||(vo=new WeakMap,vo=new WeakMap,Au=new WeakMap,Ru={})}},a4=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=i4(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),o4(r,i,n,"aria-hidden")):function(){return null}},Yh="Dialog",[KI,GI]=ba(Yh),[l4,Hn]=KI(Yh),QI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=E.useRef(null),l=E.useRef(null),[u,d]=oS({prop:r,defaultProp:i??!1,onChange:s,caller:Yh});return C.jsx(l4,{scope:e,triggerRef:a,contentRef:l,contentId:mp(),titleId:mp(),descriptionId:mp(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};QI.displayName=Yh;var YI="DialogTrigger",XI=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hn(YI,n),s=xt(e,i.triggerRef);return C.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Wy(i.open),...r,ref:s,onClick:Oe(t.onClick,i.onOpenToggle)})});XI.displayName=YI;var By="DialogPortal",[c4,JI]=KI(By,{forceMount:void 0}),ZI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Hn(By,e);return C.jsx(c4,{scope:e,forceMount:n,children:E.Children.map(r,o=>C.jsx(Aa,{present:n||s.open,children:C.jsx(wy,{asChild:!0,container:i,children:o})}))})};ZI.displayName=By;var Qd="DialogOverlay",eC=E.forwardRef((t,e)=>{const n=JI(Qd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Hn(Qd,t.__scopeDialog);return s.modal?C.jsx(Aa,{present:r||s.open,children:C.jsx(d4,{...i,ref:e})}):null});eC.displayName=Qd;var u4=nc("DialogOverlay.RemoveScroll"),d4=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hn(Qd,n);return C.jsx(HI,{as:u4,allowPinchZoom:!0,shards:[i.contentRef],children:C.jsx(nt.div,{"data-state":Wy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qs="DialogContent",tC=E.forwardRef((t,e)=>{const n=JI(qs,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Hn(qs,t.__scopeDialog);return C.jsx(Aa,{present:r||s.open,children:s.modal?C.jsx(h4,{...i,ref:e}):C.jsx(f4,{...i,ref:e})})});tC.displayName=qs;var h4=E.forwardRef((t,e)=>{const n=Hn(qs,t.__scopeDialog),r=E.useRef(null),i=xt(e,n.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return a4(s)},[]),C.jsx(nC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault())})}),f4=E.forwardRef((t,e)=>{const n=Hn(qs,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return C.jsx(nC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),nC=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Hn(qs,n),l=E.useRef(null),u=xt(e,l);return EV(),C.jsxs(C.Fragment,{children:[C.jsx(MI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:C.jsx(Mh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Wy(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(m4,{titleId:a.titleId}),C.jsx(y4,{contentRef:l,descriptionId:a.descriptionId})]})]})}),zy="DialogTitle",rC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hn(zy,n);return C.jsx(nt.h2,{id:i.titleId,...r,ref:e})});rC.displayName=zy;var iC="DialogDescription",sC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hn(iC,n);return C.jsx(nt.p,{id:i.descriptionId,...r,ref:e})});sC.displayName=iC;var oC="DialogClose",aC=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Hn(oC,n);return C.jsx(nt.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});aC.displayName=oC;function Wy(t){return t?"open":"closed"}var lC="DialogTitleWarning",[p4,cC]=IN(lC,{contentName:qs,titleName:zy,docsSlug:"dialog"}),m4=({titleId:t})=>{const e=cC(lC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},g4="DialogDescriptionWarning",y4=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cC(g4).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},uC=QI,v4=XI,dC=ZI,Hy=eC,qy=tC,Ky=rC,Gy=sC,Qy=aC;const w4=uC,_4=dC,hC=E.forwardRef(({className:t,...e},n)=>C.jsx(Hy,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));hC.displayName=Hy.displayName;const E4=xy("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),fC=E.forwardRef(({side:t="right",className:e,children:n,...r},i)=>C.jsxs(_4,{children:[C.jsx(hC,{}),C.jsxs(qy,{ref:i,className:me(E4({side:t}),e),...r,children:[n,C.jsxs(Qy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[C.jsx(PS,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fC.displayName=qy.displayName;const T4=({className:t,...e})=>C.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});T4.displayName="SheetHeader";const x4=E.forwardRef(({className:t,...e},n)=>C.jsx(Ky,{ref:n,className:me("text-lg font-semibold text-foreground",t),...e}));x4.displayName=Ky.displayName;const S4=E.forwardRef(({className:t,...e},n)=>C.jsx(Gy,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));S4.displayName=Gy.displayName;var pC="AlertDialog",[I4,NB]=ba(pC,[GI]),ti=GI(),mC=t=>{const{__scopeAlertDialog:e,...n}=t,r=ti(e);return C.jsx(uC,{...r,...n,modal:!0})};mC.displayName=pC;var C4="AlertDialogTrigger",b4=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ti(n);return C.jsx(v4,{...i,...r,ref:e})});b4.displayName=C4;var A4="AlertDialogPortal",gC=t=>{const{__scopeAlertDialog:e,...n}=t,r=ti(e);return C.jsx(dC,{...r,...n})};gC.displayName=A4;var R4="AlertDialogOverlay",yC=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ti(n);return C.jsx(Hy,{...i,...r,ref:e})});yC.displayName=R4;var Ko="AlertDialogContent",[P4,k4]=I4(Ko),N4=tS("AlertDialogContent"),vC=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=ti(n),o=E.useRef(null),a=xt(e,o),l=E.useRef(null);return C.jsx(p4,{contentName:Ko,titleName:wC,docsSlug:"alert-dialog",children:C.jsx(P4,{scope:n,cancelRef:l,children:C.jsxs(qy,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Oe(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[C.jsx(N4,{children:r}),C.jsx(O4,{contentRef:o})]})})})});vC.displayName=Ko;var wC="AlertDialogTitle",_C=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ti(n);return C.jsx(Ky,{...i,...r,ref:e})});_C.displayName=wC;var EC="AlertDialogDescription",TC=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ti(n);return C.jsx(Gy,{...i,...r,ref:e})});TC.displayName=EC;var D4="AlertDialogAction",xC=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ti(n);return C.jsx(Qy,{...i,...r,ref:e})});xC.displayName=D4;var SC="AlertDialogCancel",IC=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=k4(SC,n),s=ti(n),o=xt(e,i);return C.jsx(Qy,{...s,...r,ref:o})});IC.displayName=SC;var O4=({contentRef:t})=>{const e=`\`${Ko}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ko}\` by passing a \`${EC}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ko}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},L4=mC,M4=gC,CC=yC,bC=vC,AC=xC,RC=IC,PC=_C,kC=TC;const V4=L4,F4=M4,NC=E.forwardRef(({className:t,...e},n)=>C.jsx(CC,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));NC.displayName=CC.displayName;const DC=E.forwardRef(({className:t,...e},n)=>C.jsxs(F4,{children:[C.jsx(NC,{}),C.jsx(bC,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));DC.displayName=bC.displayName;const OC=({className:t,...e})=>C.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});OC.displayName="AlertDialogHeader";const LC=({className:t,...e})=>C.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});LC.displayName="AlertDialogFooter";const MC=E.forwardRef(({className:t,...e},n)=>C.jsx(PC,{ref:n,className:me("text-lg font-semibold",t),...e}));MC.displayName=PC.displayName;const VC=E.forwardRef(({className:t,...e},n)=>C.jsx(kC,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));VC.displayName=kC.displayName;const FC=E.forwardRef(({className:t,...e},n)=>C.jsx(AC,{ref:n,className:me($y(),t),...e}));FC.displayName=AC.displayName;const jC=E.forwardRef(({className:t,...e},n)=>C.jsx(RC,{ref:n,className:me($y({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));jC.displayName=RC.displayName;const j4=()=>{};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new $4;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B4=function(t){const e=UC(t);return $C.encodeByteArray(e,!0)},Yd=function(t){return B4(t).replace(/\./g,"")},BC=function(t){try{return $C.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=()=>z4().__FIREBASE_DEFAULTS__,H4=()=>{if(typeof process>"u"||typeof j_>"u")return;const t=j_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BC(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return j4()||W4()||H4()||q4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zC=t=>{var e,n;return(n=(e=Xh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},WC=t=>{const e=zC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HC=()=>{var t;return(t=Xh())==null?void 0:t.config},qC=t=>{var e;return(e=Xh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yd(JSON.stringify(n)),Yd(JSON.stringify(o)),""].join(".")}const Dl={};function G4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?t.emulator.push(e):t.prod.push(e);return t}function Q4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let U_=!1;function Xy(t,e){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Dl[t]===e||Dl[t]||U_)return;Dl[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=G4().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{U_=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Q4(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),_=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const x=f.element;a(x),d(_,y);const A=u();l(v,w),x.append(v,T,_,A),document.body.appendChild(x)}s?(T.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function X4(){var e;const t=(e=Xh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tF(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nF(){return!X4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rF(){try{return typeof indexedDB=="object"}catch{return!1}}function iF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sF,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?oF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ir(i,a,r)}}function oF(t,e){return t.replace(aF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aF=/\{\$([^}]+)}/g;function lF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($_(s)&&$_(o)){if(!Ks(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cF(t,e){const n=new uF(t,e);return n.subscribe.bind(n)}class uF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bp),i.error===void 0&&(i.error=bp),i.complete===void 0&&(i.complete=bp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pF(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fF(t){return t===Ss?void 0:t}function pF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const gF={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},yF=ye.INFO,vF={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},wF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=yF,this._logHandler=wF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const _F=(t,e)=>e.some(n=>t instanceof n);let B_,z_;function EF(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TF(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GC=new WeakMap,Xm=new WeakMap,QC=new WeakMap,Ap=new WeakMap,Zy=new WeakMap;function xF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GC.set(n,t)}).catch(()=>{}),Zy.set(e,t),e}function SF(t){if(Xm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xm.set(t,e)}let Jm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IF(t){Jm=t(Jm)}function CF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rp(this),e,...n);return QC.set(r,e.sort?e.sort():[e]),Wi(r)}:TF().includes(t)?function(...e){return t.apply(Rp(this),e),Wi(GC.get(this))}:function(...e){return Wi(t.apply(Rp(this),e))}}function bF(t){return typeof t=="function"?CF(t):(t instanceof IDBTransaction&&SF(t),_F(t,EF())?new Proxy(t,Jm):t)}function Wi(t){if(t instanceof IDBRequest)return xF(t);if(Ap.has(t))return Ap.get(t);const e=bF(t);return e!==t&&(Ap.set(t,e),Zy.set(e,t)),e}const Rp=t=>Zy.get(t);function AF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RF=["get","getKey","getAll","getAllKeys","count"],PF=["put","add","delete","clear"],Pp=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pp.get(e))return Pp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=PF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Pp.set(e,s),s}IF(t=>({...t,get:(e,n,r)=>W_(e,n)||t.get(e,n,r),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",H_="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Jy("@firebase/app"),DF="@firebase/app-compat",OF="@firebase/analytics-compat",LF="@firebase/analytics",MF="@firebase/app-check-compat",VF="@firebase/app-check",FF="@firebase/auth",jF="@firebase/auth-compat",UF="@firebase/database",$F="@firebase/data-connect",BF="@firebase/database-compat",zF="@firebase/functions",WF="@firebase/functions-compat",HF="@firebase/installations",qF="@firebase/installations-compat",KF="@firebase/messaging",GF="@firebase/messaging-compat",QF="@firebase/performance",YF="@firebase/performance-compat",XF="@firebase/remote-config",JF="@firebase/remote-config-compat",ZF="@firebase/storage",e3="@firebase/storage-compat",t3="@firebase/firestore",n3="@firebase/ai",r3="@firebase/firestore-compat",i3="firebase",s3="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",o3={[Zm]:"fire-core",[DF]:"fire-core-compat",[LF]:"fire-analytics",[OF]:"fire-analytics-compat",[VF]:"fire-app-check",[MF]:"fire-app-check-compat",[FF]:"fire-auth",[jF]:"fire-auth-compat",[UF]:"fire-rtdb",[$F]:"fire-data-connect",[BF]:"fire-rtdb-compat",[zF]:"fire-fn",[WF]:"fire-fn-compat",[HF]:"fire-iid",[qF]:"fire-iid-compat",[KF]:"fire-fcm",[GF]:"fire-fcm-compat",[QF]:"fire-perf",[YF]:"fire-perf-compat",[XF]:"fire-rc",[JF]:"fire-rc-compat",[ZF]:"fire-gcs",[e3]:"fire-gcs-compat",[t3]:"fire-fst",[r3]:"fire-fst-compat",[n3]:"fire-vertex","fire-js":"fire-js",[i3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,a3=new Map,tg=new Map;function q_(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(tg.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const n of Xd.values())q_(n,t);for(const n of a3.values())q_(n,t);return!0}function Jh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new Dc("app","Firebase",l3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=s3;function YC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=HC()),!n)throw Hi.create("no-options");const s=Xd.get(i);if(s){if(Ks(n,s.options)&&Ks(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new mF(i);for(const l of tg.values())o.addComponent(l);const a=new c3(n,r,o);return Xd.set(i,a),a}function ev(t=eg){const e=Xd.get(t);if(!e&&t===eg&&HC())return YC();if(!e)throw Hi.create("no-app",{appName:t});return e}function hr(t,e,n){let r=o3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(o.join(" "));return}Gs(new Zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="firebase-heartbeat-database",d3=1,cc="firebase-heartbeat-store";let kp=null;function XC(){return kp||(kp=AF(u3,d3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),kp}async function h3(t){try{const n=(await XC()).transaction(cc),r=await n.objectStore(cc).get(JC(t));return await n.done,r}catch(e){if(e instanceof Ir)Gr.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function K_(t,e){try{const r=(await XC()).transaction(cc,"readwrite");await r.objectStore(cc).put(e,JC(t)),await r.done}catch(n){if(n instanceof Ir)Gr.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function JC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=1024,p3=30;class m3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=G_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>p3){const o=v3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G_(),{heartbeatsToSend:r,unsentEntries:i}=g3(this._heartbeatsCache.heartbeats),s=Yd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gr.warn(n),""}}}function G_(){return new Date().toISOString().substring(0,10)}function g3(t,e=f3){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Q_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rF()?iF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return K_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Q_(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}function v3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){Gs(new Zi("platform-logger",e=>new kF(e),"PRIVATE")),Gs(new Zi("heartbeat",e=>new m3(e),"PRIVATE")),hr(Zm,H_,t),hr(Zm,H_,"esm2020"),hr("fire-js","")}w3("");function ZC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _3=ZC,eb=new Dc("auth","Firebase",ZC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Jy("@firebase/auth");function E3(t,...e){Jd.logLevel<=ye.WARN&&Jd.warn(`Auth (${io}): ${t}`,...e)}function sd(t,...e){Jd.logLevel<=ye.ERROR&&Jd.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw tv(t,...e)}function fr(t,...e){return tv(t,...e)}function tb(t,e,n){const r={..._3(),[e]:n};return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function qi(t){return tb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eb.create(t,...e)}function re(t,e,...n){if(!t)throw tv(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function Qr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function T3(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T3()||Z4()||"connection"in navigator)?navigator.onLine:!0}function S3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=Y4()||eF()}get(){return x3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b3=new Lc(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function us(t,e,n,r,i={}){return rb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Oc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return J4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ro(t.emulatorConfig.host)&&(u.credentials="include"),nb.fetch()(await ib(t,t.config.apiHost,n,a),u)})}async function rb(t,e,n){t._canInitEmulator=!1;const r={...I3,...e};try{const i=new R3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tb(t,d,u);zn(t,d)}}catch(i){if(i instanceof Ir)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function Zh(t,e,n,r,i={}){const s=await us(t,e,n,r,i);return"mfaPendingCredential"in s&&zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function ib(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?nv(t.config,i):`${t.config.apiScheme}://${i}`;return C3.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function A3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),b3.get())})}}function Pu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fr(t,e,r);return i.customData._tokenResponse=n,i}function X_(t){return t!==void 0&&t.enterprise!==void 0}class P3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k3(t,e){return us(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function Zd(t,e){return us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D3(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=rv(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ol(Np(i.auth_time)),issuedAtTime:Ol(Np(i.iat)),expirationTime:Ol(Np(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Np(t){return Number(t)*1e3}function rv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const i=BC(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function J_(t){const e=rv(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&O3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await uc(t,Zd(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?sb(i.providerUserInfo):[],o=V3(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rg(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function M3(t){const e=ct(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(t,e){const n=await rb(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await ib(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ro(t.emulatorConfig.host)&&(l.credentials="include"),nb.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j3(t,e){return us(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=J_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await F3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Go;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ln{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new L3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D3(this,e)}reload(){return M3(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await uc(this,N3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:m,providerData:T,stsTokenManager:y}=n;re(h&&y,e,"internal-error");const _=Go.fromJSON(this.name,y);re(typeof h=="string",e,"internal-error"),pi(r,e.name),pi(i,e.name),re(typeof f=="boolean",e,"internal-error"),re(typeof m=="boolean",e,"internal-error"),pi(s,e.name),pi(o,e.name),pi(a,e.name),pi(l,e.name),pi(u,e.name),pi(d,e.name);const w=new Ln({uid:h,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:_,createdAt:u,lastLoginAt:d});return T&&Array.isArray(T)&&(w.providerData=T.map(v=>({...v}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Go;i.updateFromServerResponse(n);const s=new Ln({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Go;a.updateFromIdToken(r);const l=new Ln({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function jr(t){Qr(t instanceof Function,"Expected a class definition");let e=Z_.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ob.type="NONE";const eE=ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=od(this.userKey,i.apiKey,s),this.fullPersistenceKey=od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zd(this.auth,{idToken:e}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qo(jr(eE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||jr(eE);const o=od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Zd(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Ln._fromGetAccountInfoResponse(e,f,d)}else h=Ln._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(fb(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||cb(e))&&!e.includes("edge/"))return"Chrome";if(db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ab(t=Ot()){return/firefox\//i.test(t)}function lb(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cb(t=Ot()){return/crios\//i.test(t)}function ub(t=Ot()){return/iemobile/i.test(t)}function db(t=Ot()){return/android/i.test(t)}function hb(t=Ot()){return/blackberry/i.test(t)}function fb(t=Ot()){return/webos/i.test(t)}function iv(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U3(t=Ot()){var e;return iv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $3(){return tF()&&document.documentMode===10}function pb(t=Ot()){return iv(t)||db(t)||fb(t)||hb(t)||/windows phone/i.test(t)||ub(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e=[]){let n;switch(t){case"Browser":n=tE(Ot());break;case"Worker":n=`${tE(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e={}){return us(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=6;class H3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??W3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new B3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zd(this,{idToken:e}),r=await Ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(qi(this));const n=e?ct(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z3(this),n=new H3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await j3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&E3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Oa(t){return ct(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=cF(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K3(t){ef=t}function gb(t){return ef.loadJS(t)}function G3(){return ef.recaptchaEnterpriseScript}function Q3(){return ef.gapiScript}function Y3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class X3{constructor(){this.enterprise=new J3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class J3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Z3="recaptcha-enterprise",yb="NO_RECAPTCHA";class ej{constructor(e){this.type=Z3,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{k3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new P3(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;X_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(yb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new X3().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&X_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=G3();l.length!==0&&(l+=a),gb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function rE(t,e,n,r=!1,i=!1){const s=new ej(t);let o;if(i)o=yb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function iE(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await rE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await rE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){const n=Jh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ks(s,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function nj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rj(t,e,n){const r=Oa(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vb(e),{host:o,port:a}=ij(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ks(u,r.config.emulator)&&Ks(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ro(o)?(Yy(`${s}//${o}${l}`),Xy("Auth",!0)):sj()}function vb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ij(t){const e=vb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:sE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:sE(o)}}}function sE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function oj(t,e){return us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return Zh(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Zh(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function cj(t,e){return Zh(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends sv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,n,"signInWithPassword",aj);case"emailLink":return lj(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iE(e,r,"signUpPassword",oj);case"emailLink":return cj(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Zh(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="http://localhost";class Qs extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:uj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hj(t){const e=yl(vl(t)).link,n=e?yl(vl(e)).deep_link_id:null,r=yl(vl(t)).deep_link_id;return(r?yl(vl(r)).link:null)||r||n||e||t}class ov{constructor(e){const n=yl(vl(e)),r=n.apiKey??null,i=n.oobCode??null,s=dj(n.mode??null);re(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hj(e);try{return new ov(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.providerId=La.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ov.parseLink(n);return re(r,"argument-error"),dc._fromEmailAndCode(e,r.code,r.tenantId)}}La.PROVIDER_ID="password";La.EMAIL_PASSWORD_SIGN_IN_METHOD="password";La.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Mc{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Mc{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ln._fromIdTokenResponse(e,r,i),o=oE(r);return new va({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=oE(r);return new va({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function oE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Ir{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new th(e,n,r,i)}}function _b(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(t,s,e,r):s})}async function fj(t,e,n=!1){const r=await uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return va._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e,n=!1){const{auth:r}=t;if(yn(r.app))return Promise.reject(qi(r));const i="reauthenticate";try{const s=await uc(t,_b(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=rv(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),va._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(t,e,n=!1){if(yn(t.app))return Promise.reject(qi(t));const r="signIn",i=await _b(t,r,e),s=await va._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function mj(t,e){return Eb(Oa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function DB(t,e,n){return yn(t.app)?Promise.reject(qi(t)):mj(ct(t),La.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gj(t),r})}function yj(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function vj(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function wj(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=1e3,Ej=10;class xb extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);$3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ej):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xb.type="LOCAL";const Tj=xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sb.type="SESSION";const Ib=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await xj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=av("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function Ij(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function Cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Aj(){return Cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebaseLocalStorageDb",Rj=1,rh="firebaseLocalStorage",Ab="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nf(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function Pj(){const t=indexedDB.deleteDatabase(bb);return new Vc(t).toPromise()}function ig(){const t=indexedDB.open(bb,Rj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rh,{keyPath:Ab})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await Pj(),e(await ig()))})})}async function aE(t,e,n){const r=nf(t,!0).put({[Ab]:e,value:n});return new Vc(r).toPromise()}async function kj(t,e){const n=nf(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function lE(t,e){const n=nf(t,!0).delete(e);return new Vc(n).toPromise()}const Nj=800,Dj=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tf._getInstance(Aj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Cj(),!this.activeServiceWorker)return;this.sender=new Sj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ig();return await aE(e,nh,"1"),await lE(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nf(i,!1).getAll();return new Vc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const Oj=Rb;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e){return e?jr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mj(t){return Eb(t.auth,new lv(t),t.bypassAuthState)}function Vj(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),pj(n,new lv(t),t.bypassAuthState)}async function Fj(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),fj(n,new lv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mj;case"linkViaPopup":case"linkViaRedirect":return Fj;case"reauthViaPopup":case"reauthViaRedirect":return Vj;default:zn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Lc(2e3,1e4);class Vo extends Pb{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jj.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="pendingRedirect",ad=new Map;class $j extends Pb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const r=await Bj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bj(t,e){const n=Hj(e),r=Wj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zj(t,e){ad.set(t._key(),e)}function Wj(t){return jr(t._redirectPersistence)}function Hj(t){return od(Uj,t.config.apiKey,t.name)}async function qj(t,e,n=!1){if(yn(t.app))return Promise.reject(qi(t));const r=Oa(t),i=Lj(r,e),o=await new $j(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=10*60*1e3;class Gj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kb(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kj&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e={}){return us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jj=/^https?/;async function Zj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yj(t);for(const n of e)try{if(e5(n))return}catch{}zn(t,"unauthorized-domain")}function e5(t){const e=ng(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Jj.test(n))return!1;if(Xj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Lc(3e4,6e4);function uE(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n5(t){return new Promise((e,n)=>{var i,s,o;function r(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(fr(t,"network-request-failed"))},timeout:t5.get()})}if((s=(i=pr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=pr().gapi)!=null&&o.load)r();else{const a=Y3("iframefcb");return pr()[a]=()=>{gapi.load?r():n(fr(t,"network-request-failed"))},gb(`${Q3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function r5(t){return ld=ld||n5(t),ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Lc(5e3,15e3),s5="__/auth/iframe",o5="emulator/auth/iframe",a5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c5(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nv(e,o5):`https://${t.config.authDomain}/${s5}`,r={apiKey:e.apiKey,appName:t.name,v:io},i=l5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oc(r).slice(1)}`}async function u5(t){const e=await r5(t),n=pr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:c5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},i5.get());function l(){pr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h5=500,f5=600,p5="_blank",m5="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g5(t,e,n,r=h5,i=f5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...d5,width:r.toString(),height:i.toString(),top:s,left:o},u=Ot().toLowerCase();n&&(a=cb(u)?p5:n),ab(u)&&(e=e||m5,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,T])=>`${f}${m}=${T},`,"");if(U3(u)&&a!=="_self")return y5(e||"",a),new dE(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new dE(h)}function y5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="__/auth/handler",w5="emulator/auth/handler",_5=encodeURIComponent("fac");async function hE(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:i};if(e instanceof wb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Mc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${_5}=${encodeURIComponent(l)}`:"";return`${E5(t)}?${Oc(a).slice(1)}${u}`}function E5({config:t}){return t.emulator?nv(t,w5):`https://${t.authDomain}/${v5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="webStorageSupport";class T5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ib,this._completeRedirectFn=qj,this._overrideRedirectResult=zj}async _openPopup(e,n,r,i){var o;Qr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await hE(e,n,r,ng(),i);return g5(e,s,av())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hE(e,n,r,ng(),i);return Ij(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await u5(e),r=new Gj(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dp,{type:Dp},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Dp];s!==void 0&&n(!!s),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pb()||lb()||iv()}}const x5=T5;var fE="@firebase/auth",pE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C5(t){Gs(new Zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(t)},u=new q3(r,i,s,l);return nj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new Zi("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new S5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(fE,pE,I5(t)),hr(fE,pE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=5*60,A5=qC("authIdTokenMaxAge")||b5;let mE=null;const R5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>A5)return;const i=n==null?void 0:n.token;mE!==i&&(mE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function P5(t=ev()){const e=Jh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tj(t,{popupRedirectResolver:x5,persistence:[Oj,Tj,Ib]}),r=qC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=R5(s.toString());vj(n,o,()=>o(n.currentUser)),yj(n,a=>o(a))}}const i=zC("auth");return i&&rj(n,`http://${i}`),n}function k5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}K3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",k5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C5("Browser");var N5="firebase",D5="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(N5,D5,"app");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,Nb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function R(){}R.prototype=S.prototype,I.F=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(P,N,L){for(var k=Array(arguments.length-2),W=2;W<arguments.length;W++)k[W-2]=arguments[W];return S.prototype[N].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,S,R){R||(R=0);const P=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)P[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)P[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],N=I.g[2];let L=I.g[3],k;k=S+(L^R&(N^L))+P[0]+3614090360&4294967295,S=R+(k<<7&4294967295|k>>>25),k=L+(N^S&(R^N))+P[1]+3905402710&4294967295,L=S+(k<<12&4294967295|k>>>20),k=N+(R^L&(S^R))+P[2]+606105819&4294967295,N=L+(k<<17&4294967295|k>>>15),k=R+(S^N&(L^S))+P[3]+3250441966&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(L^R&(N^L))+P[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=L+(N^S&(R^N))+P[5]+1200080426&4294967295,L=S+(k<<12&4294967295|k>>>20),k=N+(R^L&(S^R))+P[6]+2821735955&4294967295,N=L+(k<<17&4294967295|k>>>15),k=R+(S^N&(L^S))+P[7]+4249261313&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(L^R&(N^L))+P[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=L+(N^S&(R^N))+P[9]+2336552879&4294967295,L=S+(k<<12&4294967295|k>>>20),k=N+(R^L&(S^R))+P[10]+4294925233&4294967295,N=L+(k<<17&4294967295|k>>>15),k=R+(S^N&(L^S))+P[11]+2304563134&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(L^R&(N^L))+P[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=L+(N^S&(R^N))+P[13]+4254626195&4294967295,L=S+(k<<12&4294967295|k>>>20),k=N+(R^L&(S^R))+P[14]+2792965006&4294967295,N=L+(k<<17&4294967295|k>>>15),k=R+(S^N&(L^S))+P[15]+1236535329&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(N^L&(R^N))+P[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^N&(S^R))+P[6]+3225465664&4294967295,L=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(L^S))+P[11]+643717713&4294967295,N=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(N^L))+P[0]+3921069994&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^L&(R^N))+P[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^N&(S^R))+P[10]+38016083&4294967295,L=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(L^S))+P[15]+3634488961&4294967295,N=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(N^L))+P[4]+3889429448&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^L&(R^N))+P[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^N&(S^R))+P[14]+3275163606&4294967295,L=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(L^S))+P[3]+4107603335&4294967295,N=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(N^L))+P[8]+1163531501&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^L&(R^N))+P[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=L+(R^N&(S^R))+P[2]+4243563512&4294967295,L=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(L^S))+P[7]+1735328473&4294967295,N=L+(k<<14&4294967295|k>>>18),k=R+(L^S&(N^L))+P[12]+2368359562&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(R^N^L)+P[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^N)+P[8]+2272392833&4294967295,L=S+(k<<11&4294967295|k>>>21),k=N+(L^S^R)+P[11]+1839030562&4294967295,N=L+(k<<16&4294967295|k>>>16),k=R+(N^L^S)+P[14]+4259657740&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^L)+P[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^N)+P[4]+1272893353&4294967295,L=S+(k<<11&4294967295|k>>>21),k=N+(L^S^R)+P[7]+4139469664&4294967295,N=L+(k<<16&4294967295|k>>>16),k=R+(N^L^S)+P[10]+3200236656&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^L)+P[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^N)+P[0]+3936430074&4294967295,L=S+(k<<11&4294967295|k>>>21),k=N+(L^S^R)+P[3]+3572445317&4294967295,N=L+(k<<16&4294967295|k>>>16),k=R+(N^L^S)+P[6]+76029189&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^L)+P[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=L+(S^R^N)+P[12]+3873151461&4294967295,L=S+(k<<11&4294967295|k>>>21),k=N+(L^S^R)+P[15]+530742520&4294967295,N=L+(k<<16&4294967295|k>>>16),k=R+(N^L^S)+P[2]+3299628645&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(N^(R|~L))+P[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~N))+P[7]+1126891415&4294967295,L=S+(k<<10&4294967295|k>>>22),k=N+(S^(L|~R))+P[14]+2878612391&4294967295,N=L+(k<<15&4294967295|k>>>17),k=R+(L^(N|~S))+P[5]+4237533241&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~L))+P[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~N))+P[3]+2399980690&4294967295,L=S+(k<<10&4294967295|k>>>22),k=N+(S^(L|~R))+P[10]+4293915773&4294967295,N=L+(k<<15&4294967295|k>>>17),k=R+(L^(N|~S))+P[1]+2240044497&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~L))+P[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~N))+P[15]+4264355552&4294967295,L=S+(k<<10&4294967295|k>>>22),k=N+(S^(L|~R))+P[6]+2734768916&4294967295,N=L+(k<<15&4294967295|k>>>17),k=R+(L^(N|~S))+P[13]+1309151649&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~L))+P[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=L+(R^(S|~N))+P[11]+3174756917&4294967295,L=S+(k<<10&4294967295|k>>>22),k=N+(S^(L|~R))+P[2]+718787259&4294967295,N=L+(k<<15&4294967295|k>>>17),k=R+(L^(N|~S))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const R=S-this.blockSize,P=this.C;let N=this.h,L=0;for(;L<S;){if(N==0)for(;L<=R;)i(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<S;)if(P[N++]=I.charCodeAt(L++),N==this.blockSize){i(this,P),N=0;break}}else for(;L<S;)if(P[N++]=I[L++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)I[S++]=this.g[R]>>>P&255;return I};function s(I,S){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function o(I,S){this.h=S;const R=[];let P=!0;for(let N=I.length-1;N>=0;N--){const L=I[N]|0;P&&L==S||(R[N]=L,P=!1)}this.g=R}var a={};function l(I){return-128<=I&&I<128?s(I,function(S){return new o([S|0],S<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return _(u(-I));const S=[];let R=1;for(let P=0;I>=R;P++)S[P]=I/R|0,R*=4294967296;return new o(S,0)}function d(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return _(d(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(S,8));let P=h;for(let L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L);const k=parseInt(I.substring(L,L+N),S);N<8?(N=u(Math.pow(S,N)),P=P.j(N).add(u(k))):(P=P.j(R),P=P.add(u(k)))}return P}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-_(this).m();let I=0,S=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);I+=(P>=0?P:4294967296+P)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(y(this))return"-"+_(this).toString(I);const S=u(Math.pow(I,6));var R=this;let P="";for(;;){const N=A(R,S).g;R=w(R,N.j(S));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,T(R))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=w(this,I),y(I)?-1:T(I)?0:1};function _(I){const S=I.g.length,R=[];for(let P=0;P<S;P++)R[P]=~I.g[P];return new o(R,~I.h).add(f)}t.abs=function(){return y(this)?_(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),R=[];let P=0;for(let N=0;N<=S;N++){let L=P+(this.i(N)&65535)+(I.i(N)&65535),k=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);P=k>>>16,L&=65535,k&=65535,R[N]=k<<16|L}return new o(R,R[R.length-1]&-2147483648?-1:0)};function w(I,S){return I.add(_(S))}t.j=function(I){if(T(this)||T(I))return h;if(y(this))return y(I)?_(this).j(_(I)):_(_(this).j(I));if(y(I))return _(this.j(_(I)));if(this.l(m)<0&&I.l(m)<0)return u(this.m()*I.m());const S=this.g.length+I.g.length,R=[];for(var P=0;P<2*S;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<I.g.length;N++){const L=this.i(P)>>>16,k=this.i(P)&65535,W=I.i(N)>>>16,se=I.i(N)&65535;R[2*P+2*N]+=k*se,v(R,2*P+2*N),R[2*P+2*N+1]+=L*se,v(R,2*P+2*N+1),R[2*P+2*N+1]+=k*W,v(R,2*P+2*N+1),R[2*P+2*N+2]+=L*W,v(R,2*P+2*N+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new o(R,0)};function v(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function x(I,S){this.g=I,this.h=S}function A(I,S){if(T(S))throw Error("division by zero");if(T(I))return new x(h,h);if(y(I))return S=A(_(I),S),new x(_(S.g),_(S.h));if(y(S))return S=A(I,_(S)),new x(_(S.g),S.h);if(I.g.length>30){if(y(I)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var R=f,P=S;P.l(I)<=0;)R=O(R),P=O(P);var N=D(R,1),L=D(P,1);for(P=D(P,2),R=D(R,2);!T(P);){var k=L.add(P);k.l(I)<=0&&(N=N.add(R),L=k),P=D(P,1),R=D(R,1)}return S=w(I,N.j(S)),new x(N,S)}for(N=h;I.l(S)>=0;){for(R=Math.max(1,Math.floor(I.m()/S.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=u(R),k=L.j(S);y(k)||k.l(I)>0;)R-=P,L=u(R),k=L.j(S);T(L)&&(L=f),N=N.add(L),I=w(I,k)}return new x(N,I)}t.B=function(I){return A(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)&I.i(P);return new o(R,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)|I.i(P);return new o(R,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)^I.i(P);return new o(R,this.h^I.h)};function O(I){const S=I.g.length+1,R=[];for(let P=0;P<S;P++)R[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(R,I.h)}function D(I,S){const R=S>>5;S%=32;const P=I.g.length-R,N=[];for(let L=0;L<P;L++)N[L]=S>0?I.i(L+R)>>>S|I.i(L+R+1)<<32-S:I.i(L+R);return new o(N,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Nb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ki=o}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Db,wl,Ob,cd,sg,Lb,Mb,Vb;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var p=0;p<c.length;++p){var g=c[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var g=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var M=c[b];if(!(M in g))break e;g=g[M]}c=c[c.length-1],b=g[c],p=p(b),p!=b&&p!=null&&e(g,c,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(p){var g=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&g.push([b,p[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,g){return c.call.apply(c.bind,arguments)}function u(c,p,g){return u=l,u.apply(null,arguments)}function d(c,p){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function h(c,p){function g(){}g.prototype=p.prototype,c.Z=p.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(b,M,V){for(var q=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)q[pe-2]=arguments[pe];return p.prototype[M].apply(b,q)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function m(c){const p=c.length;if(p>0){const g=Array(p);for(let b=0;b<p;b++)g[b]=c[b];return g}return[]}function T(c,p){for(let b=1;b<arguments.length;b++){const M=arguments[b];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=c.length||0;const V=M.length||0;c.length=g+V;for(let q=0;q<V;q++)c[g+q]=M[q]}else c.push(M)}}class y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(c){o.setTimeout(()=>{throw c},0)}function w(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class v{constructor(){this.h=this.g=null}add(p,g){const b=x.get();b.set(p,g),this.h?this.h.next=b:this.g=b,this.h=b}}var x=new y(()=>new A,c=>c.reset());class A{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let O,D=!1,I=new v,S=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(R)}};function R(){for(var c;c=w();){try{c.h.call(c.g)}catch(g){_(g)}var p=x;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}D=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return c}();function k(c){return/^[\s\xa0]*$/.test(c)}function W(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}h(W,N),W.prototype.init=function(c,p){const g=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(g=="mouseover"?p=c.fromElement:g=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),te=0;function oe(c,p,g,b,M){this.listener=c,this.proxy=null,this.src=p,this.type=g,this.capture=!!b,this.ha=M,this.key=++te,this.da=this.fa=!1}function F(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function B(c,p,g){for(const b in c)p.call(g,c[b],b,c)}function K(c,p){for(const g in c)p.call(void 0,c[g],g,c)}function ae(c){const p={};for(const g in c)p[g]=c[g];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(c,p){let g,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(g in b)c[g]=b[g];for(let V=0;V<Z.length;V++)g=Z[V],Object.prototype.hasOwnProperty.call(b,g)&&(c[g]=b[g])}}function de(c){this.src=c,this.g={},this.h=0}de.prototype.add=function(c,p,g,b,M){const V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);const q=Xe(c,p,b,M);return q>-1?(p=c[q],g||(p.fa=!1)):(p=new oe(p,this.src,V,!!b,M),p.fa=g,c.push(p)),p};function Ve(c,p){const g=p.type;if(g in c.g){var b=c.g[g],M=Array.prototype.indexOf.call(b,p,void 0),V;(V=M>=0)&&Array.prototype.splice.call(b,M,1),V&&(F(p),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Xe(c,p,g,b){for(let M=0;M<c.length;++M){const V=c[M];if(!V.da&&V.listener==p&&V.capture==!!g&&V.ha==b)return M}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),qn={};function Sn(c,p,g,b,M){if(Array.isArray(p)){for(let V=0;V<p.length;V++)Sn(c,p[V],g,b,M);return null}return g=ri(g),c&&c[se]?c.J(p,g,a(b)?!!b.capture:!!b,M):br(c,p,g,!1,b,M)}function br(c,p,g,b,M,V){if(!p)throw Error("Invalid event type");const q=a(M)?!!M.capture:!!M;let pe=ni(c);if(pe||(c[_e]=pe=new de(c)),g=pe.add(p,g,b,q,V),g.proxy)return g;if(b=Kn(),g.proxy=b,b.src=c,b.listener=g,c.addEventListener)L||(M=q),M===void 0&&(M=!1),c.addEventListener(p.toString(),b,M);else if(c.attachEvent)c.attachEvent(ps(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Kn(){function c(g){return p.call(c.src,c.listener,g)}const p=$a;return c}function Ar(c,p,g,b,M){if(Array.isArray(p))for(var V=0;V<p.length;V++)Ar(c,p[V],g,b,M);else b=a(b)?!!b.capture:!!b,g=ri(g),c&&c[se]?(c=c.i,V=String(p).toString(),V in c.g&&(p=c.g[V],g=Xe(p,g,b,M),g>-1&&(F(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete c.g[V],c.h--)))):c&&(c=ni(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Xe(p,g,b,M)),(g=c>-1?p[c]:null)&&hn(g))}function hn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[se])Ve(p.i,c);else{var g=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(g,b,c.capture):p.detachEvent?p.detachEvent(ps(g),b):p.addListener&&p.removeListener&&p.removeListener(b),(g=ni(p))?(Ve(g,c),g.h==0&&(g.src=null,p[_e]=null)):F(c)}}}function ps(c){return c in qn?qn[c]:qn[c]="on"+c}function $a(c,p){if(c.da)c=!0;else{p=new W(p,this);const g=c.listener,b=c.ha||c.src;c.fa&&hn(c),c=g.call(b,p)}return c}function ni(c){return c=c[_e],c instanceof de?c:null}var ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function ri(c){return typeof c=="function"?c:(c[ms]||(c[ms]=function(p){return c.handleEvent(p)}),c[ms])}function je(){P.call(this),this.i=new de(this),this.M=this,this.G=null}h(je,P),je.prototype[se]=!0,je.prototype.removeEventListener=function(c,p,g,b){Ar(this,c,p,g,b)};function ut(c,p){var g,b=c.G;if(b)for(g=[];b;b=b.G)g.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var M=p;p=new N(b,c),fe(p,M)}M=!0;let V,q;if(g)for(q=g.length-1;q>=0;q--)V=p.g=g[q],M=Gn(V,b,!0,p)&&M;if(V=p.g=c,M=Gn(V,b,!0,p)&&M,M=Gn(V,b,!1,p)&&M,g)for(q=0;q<g.length;q++)V=p.g=g[q],M=Gn(V,b,!1,p)&&M}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const g=c.g[p];for(let b=0;b<g.length;b++)F(g[b]);delete c.g[p],c.h--}}this.G=null},je.prototype.J=function(c,p,g,b){return this.i.add(String(c),p,!1,g,b)},je.prototype.K=function(c,p,g,b){return this.i.add(String(c),p,!0,g,b)};function Gn(c,p,g,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let V=0;V<p.length;++V){const q=p[V];if(q&&!q.da&&q.capture==g){const pe=q.listener,st=q.ha||q.src;q.fa&&Ve(c.i,q),M=pe.call(st,b)!==!1&&M}}return M&&!b.defaultPrevented}function Wc(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=u(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(c,p||0)}function Qn(c){c.g=Wc(()=>{c.g=null,c.i&&(c.i=!1,Qn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Tf extends P{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){P.call(this),this.h=c,this.g={}}h(gs,P);var Lt=[];function Rr(c){B(c.g,function(p,g){this.g.hasOwnProperty(g)&&hn(p)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),Rr(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ba=o.JSON.stringify,xf=o.JSON.parse,lo=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Hc(){}function za(){}var Pr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yn(){N.call(this,"d")}h(Yn,N);function co(){N.call(this,"c")}h(co,N);var Bt={},qc=null;function uo(){return qc=qc||new je}Bt.Ia="serverreachability";function Wa(c){N.call(this,Bt.Ia,c)}h(Wa,N);function ii(c){const p=uo();ut(p,new Wa(p))}Bt.STAT_EVENT="statevent";function Kc(c,p){N.call(this,Bt.STAT_EVENT,c),this.stat=p}h(Kc,N);function it(c){const p=uo();ut(p,new Kc(p,c))}Bt.Ja="timingevent";function In(c,p){N.call(this,Bt.Ja,c),this.size=p}h(In,N);function ys(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function Se(c,p,g,b,M,V){c.info(function(){if(c.g)if(V){var q="",pe=V.split("&");for(let be=0;be<pe.length;be++){var st=pe[be].split("=");if(st.length>1){const ht=st[0];st=st[1];const Zn=ht.split("_");q=Zn.length>=2&&Zn[1]=="type"?q+(ht+"="+st+"&"):q+(ht+"=redacted&")}}}else q=null;else q=V;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+p+`
`+g+`
`+q})}function Ae(c,p,g,b,M,V,q){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+p+`
`+g+`
`+V+" "+q})}function dt(c,p,g,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Xn(c,g)+(b?" "+b:"")})}function Jt(c,p){c.info(function(){return"TIMEOUT: "+p})}ne.prototype.info=function(){};function Xn(c,p){if(!c.g)return p;if(!p)return null;try{const V=JSON.parse(p);if(V){for(c=0;c<V.length;c++)if(Array.isArray(V[c])){var g=V[c];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(let q=1;q<b.length;q++)b[q]=""}}}}return Ba(V)}catch{return p}}var fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cn;function Sf(){}h(Sf,Hc),Sf.prototype.g=function(){return new XMLHttpRequest},Cn=new Sf;function Ha(c){return encodeURIComponent(String(c))}function IR(c){var p=1;c=c.split(":");const g=[];for(;p>0&&c.length;)g.push(c.shift()),p--;return c.length&&g.push(c.join(":")),g}function si(c,p,g,b){this.j=c,this.i=p,this.l=g,this.S=b||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hv}function Hv(){this.i=null,this.g="",this.h=!1}var qv={},If={};function Cf(c,p,g){c.M=1,c.A=Qc(Jn(p)),c.u=g,c.R=!0,Kv(c,null)}function Kv(c,p){c.F=Date.now(),Gc(c),c.B=Jn(c.A);var g=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),o0(g.i,"t",b),c.C=0,g=c.j.L,c.h=new Hv,c.g=S0(c.j,g?p:null,!c.u),c.P>0&&(c.O=new Tf(u(c.Y,c,c.g),c.P)),p=c.V,g=c.g,b=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(Lt[0]=M.toString()),M=Lt);for(let V=0;V<M.length;V++){const q=Sn(g,M[V],b||p.handleEvent,!1,p.h||p);if(!q)break;p.g[q.key]=q}p=c.J?ae(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ii(),Se(c.i,c.v,c.B,c.l,c.S,c.u)}si.prototype.ba=function(c){c=c.target;const p=this.O;p&&li(c)==3?p.j():this.Y(c)},si.prototype.Y=function(c){try{if(c==this.g)e:{const pe=li(this.g),st=this.g.ya(),be=this.g.ca();if(!(pe<3)&&(pe!=3||this.g&&(this.h.h||this.g.la()||f0(this.g)))){this.K||pe!=4||st==7||(st==8||be<=0?ii(3):ii(2)),bf(this);var p=this.g.ca();this.X=p;var g=CR(this);if(this.o=p==200,Ae(this.i,this.v,this.B,this.l,this.S,pe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,M=this.g;if((b=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(b)){var V=b;break t}}V=null}if(c=V)dt(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Af(this,c);else{this.o=!1,this.m=3,it(12),vs(this),qa(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<g.length;)if(ht=bR(this,g),ht==If){pe==4&&(this.m=4,it(14),c=!1),dt(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==qv){this.m=4,it(15),dt(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else dt(this.i,this.l,ht,null),Af(this,ht);if(Gv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pe!=4||g.length!=0||this.h.h||(this.m=1,it(16),c=!1),this.o=this.o&&c,!c)dt(this.i,this.l,g,"[Invalid Chunked Response]"),vs(this),qa(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Mf(q),q.P=!0,it(11))}}else dt(this.i,this.l,g,null),Af(this,g);pe==4&&vs(this),this.o&&!this.K&&(pe==4?_0(this.j,this):(this.o=!1,Gc(this)))}else $R(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,it(12)):(this.m=0,it(13)),vs(this),qa(this)}}}catch{}finally{}};function CR(c){if(!Gv(c))return c.g.la();const p=f0(c.g);if(p==="")return"";let g="";const b=p.length,M=li(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vs(c),qa(c),"";c.h.i=new o.TextDecoder}for(let V=0;V<b;V++)c.h.h=!0,g+=c.h.i.decode(p[V],{stream:!(M&&V==b-1)});return p.length=0,c.h.g+=g,c.C=0,c.h.g}function Gv(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bR(c,p){var g=c.C,b=p.indexOf(`
`,g);return b==-1?If:(g=Number(p.substring(g,b)),isNaN(g)?qv:(b+=1,b+g>p.length?If:(p=p.slice(b,b+g),c.C=b+g,p)))}si.prototype.cancel=function(){this.K=!0,vs(this)};function Gc(c){c.T=Date.now()+c.H,Qv(c,c.H)}function Qv(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ys(u(c.aa,c),p)}function bf(c){c.D&&(o.clearTimeout(c.D),c.D=null)}si.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Jt(this.i,this.B),this.M!=2&&(ii(),it(17)),vs(this),this.m=2,qa(this)):Qv(this,this.T-c)};function qa(c){c.j.I==0||c.K||_0(c.j,c)}function vs(c){bf(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Rr(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function Af(c,p){try{var g=c.j;if(g.I!=0&&(g.g==c||Rf(g.h,c))){if(!c.L&&Rf(g.h,c)&&g.I==3){try{var b=g.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)eu(g),Jc(g);else break e;Lf(g),it(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ys(u(g.Va,g),6e3));Jv(g.h)<=1&&g.ta&&(g.ta=void 0)}else _s(g,11)}else if((c.L||g.g==c)&&eu(g),!k(p))for(M=g.Ba.g.parse(p),p=0;p<M.length;p++){let be=M[p];const ht=be[0];if(!(ht<=g.K))if(g.K=ht,be=be[1],g.I==2)if(be[0]=="c"){g.M=be[1],g.ba=be[2];const Zn=be[3];Zn!=null&&(g.ka=Zn,g.j.info("VER="+g.ka));const Es=be[4];Es!=null&&(g.za=Es,g.j.info("SVER="+g.za));const ci=be[5];ci!=null&&typeof ci=="number"&&ci>0&&(b=1.5*ci,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const ui=c.g;if(ui){const nu=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nu){var V=b.h;V.g||nu.indexOf("spdy")==-1&&nu.indexOf("quic")==-1&&nu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Pf(V,V.h),V.h=null))}if(b.G){const Vf=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Vf&&(b.wa=Vf,ke(b.J,b.G,Vf))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var q=c;if(b.na=x0(b,b.L?b.ba:null,b.W),q.L){Zv(b.h,q);var pe=q,st=b.O;st&&(pe.H=st),pe.D&&(bf(pe),Gc(pe)),b.g=q}else v0(b);g.i.length>0&&Zc(g)}else be[0]!="stop"&&be[0]!="close"||_s(g,7);else g.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?_s(g,7):Of(g):be[0]!="noop"&&g.l&&g.l.qa(be),g.A=0)}}ii(4)}catch{}}var AR=class{constructor(c,p){this.g=c,this.map=p}};function Yv(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jv(c){return c.h?1:c.g?c.g.size:0}function Rf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Pf(c,p){c.g?c.g.add(p):c.h=p}function Zv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Yv.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function e0(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const g of c.g.values())p=p.concat(g.G);return p}return m(c.i)}var t0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RR(c,p){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const b=c[g].indexOf("=");let M,V=null;b>=0?(M=c[g].substring(0,b),V=c[g].substring(b+1)):M=c[g],p(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function oi(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof oi?(this.l=c.l,Ka(this,c.j),this.o=c.o,this.g=c.g,Ga(this,c.u),this.h=c.h,kf(this,a0(c.i)),this.m=c.m):c&&(p=String(c).match(t0))?(this.l=!1,Ka(this,p[1]||"",!0),this.o=Qa(p[2]||""),this.g=Qa(p[3]||"",!0),Ga(this,p[4]),this.h=Qa(p[5]||"",!0),kf(this,p[6]||"",!0),this.m=Qa(p[7]||"")):(this.l=!1,this.i=new Xa(null,this.l))}oi.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Ya(p,n0,!0),":");var g=this.g;return(g||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ya(p,n0,!0),"@"),c.push(Ha(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Ya(g,g.charAt(0)=="/"?NR:kR,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Ya(g,OR)),c.join("")},oi.prototype.resolve=function(c){const p=Jn(this);let g=!!c.j;g?Ka(p,c.j):g=!!c.o,g?p.o=c.o:g=!!c.g,g?p.g=c.g:g=c.u!=null;var b=c.h;if(g)Ga(p,c.u);else if(g=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var M=p.h.lastIndexOf("/");M!=-1&&(b=p.h.slice(0,M+1)+b)}if(M=b,M==".."||M==".")b="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){b=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let q=0;q<M.length;){const pe=M[q++];pe=="."?b&&q==M.length&&V.push(""):pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),b&&q==M.length&&V.push("")):(V.push(pe),b=!0)}b=V.join("/")}else b=M}return g?p.h=b:g=c.i.toString()!=="",g?kf(p,a0(c.i)):g=!!c.m,g&&(p.m=c.m),p};function Jn(c){return new oi(c)}function Ka(c,p,g){c.j=g?Qa(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ga(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function kf(c,p,g){p instanceof Xa?(c.i=p,LR(c.i,c.l)):(g||(p=Ya(p,DR)),c.i=new Xa(p,c.l))}function ke(c,p,g){c.i.set(p,g)}function Qc(c){return ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Qa(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ya(c,p,g){return typeof c=="string"?(c=encodeURI(c).replace(p,PR),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function PR(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var n0=/[#\/\?@]/g,kR=/[#\?:]/g,NR=/[#\?]/g,DR=/[#\?@]/g,OR=/#/g;function Xa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ws(c){c.g||(c.g=new Map,c.h=0,c.i&&RR(c.i,function(p,g){c.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Xa.prototype,t.add=function(c,p){ws(this),this.i=null,c=ho(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(p),this.h+=1,this};function r0(c,p){ws(c),p=ho(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function i0(c,p){return ws(c),p=ho(c,p),c.g.has(p)}t.forEach=function(c,p){ws(this),this.g.forEach(function(g,b){g.forEach(function(M){c.call(p,M,b,this)},this)},this)};function s0(c,p){ws(c);let g=[];if(typeof p=="string")i0(c,p)&&(g=g.concat(c.g.get(ho(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)g=g.concat(c[p]);return g}t.set=function(c,p){return ws(this),this.i=null,c=ho(this,c),i0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=s0(this,c),c.length>0?String(c[0]):p):p};function o0(c,p,g){r0(c,p),g.length>0&&(c.i=null,c.g.set(ho(c,p),m(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var g=p[b];const M=Ha(g);g=s0(this,g);for(let V=0;V<g.length;V++){let q=M;g[V]!==""&&(q+="="+Ha(g[V])),c.push(q)}}return this.i=c.join("&")};function a0(c){const p=new Xa;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ho(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function LR(c,p){p&&!c.j&&(ws(c),c.i=null,c.g.forEach(function(g,b){const M=b.toLowerCase();b!=M&&(r0(this,b),o0(this,M,g))},c)),c.j=p}function MR(c,p){const g=new ne;if(o.Image){const b=new Image;b.onload=d(ai,g,"TestLoadImage: loaded",!0,p,b),b.onerror=d(ai,g,"TestLoadImage: error",!1,p,b),b.onabort=d(ai,g,"TestLoadImage: abort",!1,p,b),b.ontimeout=d(ai,g,"TestLoadImage: timeout",!1,p,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function VR(c,p){const g=new ne,b=new AbortController,M=setTimeout(()=>{b.abort(),ai(g,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(V=>{clearTimeout(M),V.ok?ai(g,"TestPingServer: ok",!0,p):ai(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),ai(g,"TestPingServer: error",!1,p)})}function ai(c,p,g,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(g)}catch{}}function FR(){this.g=new lo}function Nf(c){this.i=c.Sb||null,this.h=c.ab||!1}h(Nf,Hc),Nf.prototype.g=function(){return new Yc(this.i,this.h)};function Yc(c,p){je.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Yc,je),t=Yc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Za(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;l0(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function l0(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ja(this):Za(this),this.readyState==3&&l0(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Ja(this))},t.Na=function(c){this.g&&(this.response=c,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Za(c)}t.setRequestHeader=function(c,p){this.A.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=p.next();return c.join(`\r
`)};function Za(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function c0(c){let p="";return B(c,function(g,b){p+=b,p+=":",p+=g,p+=`\r
`}),p}function Df(c,p,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=c0(g),typeof c=="string"?g!=null&&Ha(g):ke(c,p,g))}function He(c){je.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(He,je);var jR=/^https?$/i,UR=["POST","PUT"];t=He.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,p,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cn.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(V){u0(this,V);return}if(c=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)g.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())g.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(UR,p,void 0)>=0)||b||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of g)this.g.setRequestHeader(V,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(V){u0(this,V)}};function u0(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,d0(c),Xc(c)}function d0(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ut(this,"complete"),ut(this,"abort"),Xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),He.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?h0(this):this.Xa())},t.Xa=function(){h0(this)};function h0(c){if(c.h&&typeof s<"u"){if(c.v&&li(c)==4)setTimeout(c.Ca.bind(c),0);else if(ut(c,"readystatechange"),li(c)==4){c.h=!1;try{const V=c.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var b;if(b=V===0){let q=String(c.D).match(t0)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),b=!jR.test(q?q.toLowerCase():"")}g=b}if(g)ut(c,"complete"),ut(c,"success");else{c.o=6;try{var M=li(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",d0(c)}}finally{Xc(c)}}}}function Xc(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,p||ut(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function li(c){return c.g?c.g.readyState:0}t.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),xf(p)}};function f0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $R(c){const p={};c=(c.g&&li(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(k(c[b]))continue;var g=IR(c[b]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=p[M]||[];p[M]=V,V.push(g)}K(p,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function el(c,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||p}function p0(c){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=el("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=el("baseRetryDelayMs",5e3,c),this.Za=el("retryDelaySeedMs",1e4,c),this.Ta=el("forwardChannelMaxRetries",2,c),this.va=el("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yv(c&&c.concurrentRequestLimit),this.Ba=new FR,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=p0.prototype,t.ka=8,t.I=1,t.connect=function(c,p,g,b){it(0),this.W=c,this.H=p||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=x0(this,null,this.W),Zc(this)};function Of(c){if(m0(c),c.I==3){var p=c.V++,g=Jn(c.J);if(ke(g,"SID",c.M),ke(g,"RID",p),ke(g,"TYPE","terminate"),tl(c,g),p=new si(c,c.j,p),p.M=2,p.A=Qc(Jn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=S0(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Gc(p)}T0(c)}function Jc(c){c.g&&(Mf(c),c.g.cancel(),c.g=null)}function m0(c){Jc(c),c.v&&(o.clearTimeout(c.v),c.v=null),eu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Zc(c){if(!Xv(c.h)&&!c.m){c.m=!0;var p=c.Ea;O||S(),D||(O(),D=!0),I.add(p,c),c.D=0}}function BR(c,p){return Jv(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ys(u(c.Ea,c,p),E0(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new si(this,this.j,c);let V=this.o;if(this.U&&(V?(V=ae(V),fe(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=y0(this,M,p),g=Jn(this.J),ke(g,"RID",c),ke(g,"CVER",22),this.G&&ke(g,"X-HTTP-Session-Id",this.G),tl(this,g),V&&(this.R?p="headers="+Ha(c0(V))+"&"+p:this.u&&Df(g,this.u,V)),Pf(this.h,M),this.Ra&&ke(g,"TYPE","init"),this.S?(ke(g,"$req",p),ke(g,"SID","null"),M.U=!0,Cf(M,g,null)):Cf(M,g,p),this.I=2}}else this.I==3&&(c?g0(this,c):this.i.length==0||Xv(this.h)||g0(this))};function g0(c,p){var g;p?g=p.l:g=c.V++;const b=Jn(c.J);ke(b,"SID",c.M),ke(b,"RID",g),ke(b,"AID",c.K),tl(c,b),c.u&&c.o&&Df(b,c.u,c.o),g=new si(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),p&&(c.i=p.G.concat(c.i)),p=y0(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Pf(c.h,g),Cf(g,b,p)}function tl(c,p){c.H&&B(c.H,function(g,b){ke(p,b,g)}),c.l&&B({},function(g,b){ke(p,b,g)})}function y0(c,p,g){g=Math.min(c.i.length,g);const b=c.l?u(c.l.Ka,c.l,c):null;e:{var M=c.i;let pe=-1;for(;;){const st=["count="+g];pe==-1?g>0?(pe=M[0].g,st.push("ofs="+pe)):pe=0:st.push("ofs="+pe);let be=!0;for(let ht=0;ht<g;ht++){var V=M[ht].g;const Zn=M[ht].map;if(V-=pe,V<0)pe=Math.max(0,M[ht].g-100),be=!1;else try{V="req"+V+"_"||"";try{var q=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Es,ci]of q){let ui=ci;a(ci)&&(ui=Ba(ci)),st.push(V+Es+"="+encodeURIComponent(ui))}}catch(Es){throw st.push(V+"type="+encodeURIComponent("_badmap")),Es}}catch{b&&b(Zn)}}if(be){q=st.join("&");break e}}q=void 0}return c=c.i.splice(0,g),p.G=c,q}function v0(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;O||S(),D||(O(),D=!0),I.add(p,c),c.A=0}}function Lf(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ys(u(c.Da,c),E0(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,w0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ys(u(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,it(10),Jc(this),w0(this))};function Mf(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function w0(c){c.g=new si(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Jn(c.na);ke(p,"RID","rpc"),ke(p,"SID",c.M),ke(p,"AID",c.K),ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&ke(p,"TO",c.ia),ke(p,"TYPE","xmlhttp"),tl(c,p),c.u&&c.o&&Df(p,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=Qc(Jn(p)),g.u=null,g.R=!0,Kv(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Jc(this),Lf(this),it(19))};function eu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function _0(c,p){var g=null;if(c.g==p){eu(c),Mf(c),c.g=null;var b=2}else if(Rf(c.h,p))g=p.G,Zv(c.h,p),b=1;else return;if(c.I!=0){if(p.o)if(b==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var M=c.D;b=uo(),ut(b,new In(b,g)),Zc(c)}else v0(c);else if(M=p.m,M==3||M==0&&p.X>0||!(b==1&&BR(c,p)||b==2&&Lf(c)))switch(g&&g.length>0&&(p=c.h,p.i=p.i.concat(g)),M){case 1:_s(c,5);break;case 4:_s(c,10);break;case 3:_s(c,6);break;default:_s(c,2)}}}function E0(c,p){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*p}function _s(c,p){if(c.j.info("Error code "+p),p==2){var g=u(c.bb,c),b=c.Ua;const M=!b;b=new oi(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ka(b,"https"),Qc(b),M?MR(b.toString(),g):VR(b.toString(),g)}else it(2);c.I=0,c.l&&c.l.pa(p),T0(c),m0(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function T0(c){if(c.I=0,c.ja=[],c.l){const p=e0(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ja,p),T(c.ja,c.i),c.h.i.length=0,m(c.i),c.i.length=0),c.l.oa()}}function x0(c,p,g){var b=g instanceof oi?Jn(g):new oi(g);if(b.g!="")p&&(b.g=p+"."+b.g),Ga(b,b.u);else{var M=o.location;b=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const V=new oi(null);b&&Ka(V,b),p&&(V.g=p),M&&Ga(V,M),g&&(V.h=g),b=V}return g=c.G,p=c.wa,g&&p&&ke(b,g,p),ke(b,"VER",c.ka),tl(c,b),b}function S0(c,p,g){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new He(new Nf({ab:g})):new He(c.ma),p.Fa(c.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function I0(){}t=I0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function tu(){}tu.prototype.g=function(c,p){return new Zt(c,p)};function Zt(c,p){je.call(this),this.g=new p0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!k(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!k(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new fo(this)}h(Zt,je),Zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Of(this.g)},Zt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=Ba(c),c=g);p.i.push(new AR(p.Ya++,c)),p.I==3&&Zc(p)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,Zt.Z.N.call(this)};function C0(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const g in p){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}h(C0,Yn);function b0(){co.call(this),this.status=1}h(b0,co);function fo(c){this.g=c}h(fo,I0),fo.prototype.ra=function(){ut(this.g,"a")},fo.prototype.qa=function(c){ut(this.g,new C0(c))},fo.prototype.pa=function(c){ut(this.g,new b0)},fo.prototype.oa=function(){ut(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Vb=function(){return new tu},Mb=function(){return uo()},Lb=Bt,sg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,cd=fn,zt.COMPLETE="complete",Ob=zt,za.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",je.prototype.listen=je.prototype.J,wl=za,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,Db=He}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="12.9.0";function O5(t){Ma=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Jy("@firebase/firestore");function Eo(){return Ys.logLevel}function Q(t,...e){if(Ys.logLevel<=ye.DEBUG){const n=e.map(cv);Ys.debug(`Firestore (${Ma}): ${t}`,...n)}}function Yr(t,...e){if(Ys.logLevel<=ye.ERROR){const n=e.map(cv);Ys.error(`Firestore (${Ma}): ${t}`,...n)}}function Xs(t,...e){if(Ys.logLevel<=ye.WARN){const n=e.map(cv);Ys.warn(`Firestore (${Ma}): ${t}`,...n)}}function cv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Fb(t,r,n)}function Fb(t,e,n){let r=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yr(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Fb(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class M5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V5{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new jb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class F5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class j5{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function og(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Op(i)===Op(s)?ve(i,s):Op(i)?1:-1}return ve(t.length,e.length)}const B5=55296,z5=57343;function Op(t){const e=t.charCodeAt(0);return e>=B5&&e<=z5}function wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__name__";class nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=nr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ve(e.length,n.length)}static compareSegments(e,n){const r=nr.isNumericId(e),i=nr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?nr.extractNumericId(e).compare(nr.extractNumericId(n)):og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Re extends nr{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const W5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends nr{construct(e,n,r){return new _t(e,n,r)}static isValidIdentifier(e){return W5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vE}static keyField(){return new _t([vE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(n)}static emptyPath(){return new _t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Re.fromString(e))}static fromName(e){return new ee(Re.fromString(e).popFirst(5))}static empty(){return new ee(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H5(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wE(t){if(!ee.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _E(t){if(ee.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $b(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fc(t,e){if(!$b(t))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=-62135596800,TE=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*TE);return new Le(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EE)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TE}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fc(e,Le._jsonSchema))return new Le(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Le._jsonSchemaVersion="firestore/timestamp/1.0",Le._jsonSchema={type:tt("string",Le._jsonSchemaVersion),seconds:tt("number"),nanoseconds:tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Le(0,0))}static max(){return new le(new Le(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function q5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new es(i,ee.empty(),e)}function K5(t){return new es(t.readTime,t.key,hc)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(le.min(),ee.empty(),hc)}static max(){return new es(le.max(),ee.empty(),hc)}}function G5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==Q5)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function X5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-1;function of(t){return t==null}function ih(t){return t===0&&1/t==-1/0}function J5(t){return typeof t=="number"&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="";function Z5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xE(e)),e=e6(t.get(n),e);return xE(e)}function e6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Bb:n+="";break;default:n+=s}}return n}function xE(t){return t+Bb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nu(this.root,e,this.comparator,!0)}}class Nu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new on([])}unionWith(e){let n=new lt(_t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Wb("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const t6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=t6.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ns(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="server_timestamp",qb="__type__",Kb="__previous_value__",Gb="__local_write_time__";function hv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qb])==null?void 0:r.stringValue)===Hb}function af(t){const e=t.mapValue.fields[Kb];return hv(e)?af(e):e}function fc(t){const e=ts(t.mapValue.fields[Gb].timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,r,i,s,o,a,l,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=h}}const sh="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}function r6(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__type__",Yb="__max__",Du={mapValue:{fields:{__type__:{stringValue:Yb}}}},Xb="__vector__",oh="value";function rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hv(t)?4:s6(t)?9007199254740991:i6(t)?10:11:ie(28295,{value:t})}function Er(t,e){if(t===e)return!0;const n=rs(t);if(n!==rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ts(i.timestampValue),a=ts(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ns(i.bytesValue).isEqual(ns(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?ih(o)===ih(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wa(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(SE(o)!==SE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Er(o[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function mc(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function _a(t,e){if(t===e)return 0;const n=rs(t),r=rs(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ge(s.integerValue||s.doubleValue),l=Ge(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return CE(t.timestampValue,e.timestampValue);case 4:return CE(fc(t),fc(e));case 5:return og(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ns(s),l=ns(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ve(a[u],l[u]);if(d!==0)return d}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ve(Ge(s.latitude),Ge(o.latitude));return a!==0?a:ve(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,m,T,y;const a=s.fields||{},l=o.fields||{},u=(f=a[oh])==null?void 0:f.arrayValue,d=(m=l[oh])==null?void 0:m.arrayValue,h=ve(((T=u==null?void 0:u.values)==null?void 0:T.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return h!==0?h:bE(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Du.mapValue&&o===Du.mapValue)return 0;if(s===Du.mapValue)return 1;if(o===Du.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=og(l[h],d[h]);if(f!==0)return f;const m=_a(a[l[h]],u[d[h]]);if(m!==0)return m}return ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function CE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=ts(t),r=ts(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function bE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=_a(n[i],r[i]);if(s)return s}return ve(n.length,r.length)}function Ea(t){return ag(t)}function ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ns(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ag(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ag(n.fields[o])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function ud(t){switch(rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+ud(e):16;case 5:return 2*t.stringValue.length;case 6:return ns(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ud(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ds(r.fields,(s,o)=>{i+=s.length+ud(o)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function AE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lg(t){return!!t&&"integerValue"in t}function fv(t){return!!t&&"arrayValue"in t}function RE(t){return!!t&&"nullValue"in t}function PE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dd(t){return!!t&&"mapValue"in t}function i6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Qb])==null?void 0:r.stringValue)===Xb}function Ll(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(t.arrayValue.values[n]);return e}return{...t}}function s6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Yb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=_t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ll(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(Ll(this.value))}}function Jb(t){const e=[];return ds(t.fields,(n,r)=>{const i=new _t([n]);if(dd(r)){const s=Jb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,le.min(),le.min(),le.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,le.min(),le.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,le.min(),le.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function kE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=_a(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function NE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function o6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{}class et extends Zb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l6(e,n,r):n==="array-contains"?new d6(e,r):n==="in"?new h6(e,r):n==="not-in"?new f6(e,r):n==="array-contains-any"?new p6(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c6(e,r):new u6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_a(n,this.value)):n!==null&&rs(this.value)===rs(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Zb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return eA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eA(t){return t.op==="and"}function tA(t){return a6(t)&&eA(t)}function a6(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function cg(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(tA(t))return t.filters.map(e=>cg(e)).join(",");{const e=t.filters.map(n=>cg(n)).join(",");return`${t.op}(${e})`}}function nA(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&nA(o,i.filters[a]),!0):!1}(t,e):void ie(19439)}function rA(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(rA).join(" ,")+"}"}(t):"Filter"}class l6 extends et{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class c6 extends et{constructor(e,n){super(e,"in",n),this.keys=iA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u6 extends et{constructor(e,n){super(e,"not-in",n),this.keys=iA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class d6 extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fv(n)&&mc(n.arrayValue,this.value)}}class h6 extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class f6 extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class p6 extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function DE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new m6(t,e,n,r,i,s,o)}function pv(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.Te=n}return e.Te}function mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NE(t.startAt,e.startAt)&&NE(t.endAt,e.endAt)}function ug(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function g6(t,e,n,r,i,s,o,a){return new ja(t,e,n,r,i,s,o,a)}function gv(t){return new ja(t)}function OE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y6(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function sA(t){return t.collectionGroup!==null}function Ml(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(_t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new gc(s,r))}),n.has(_t.keyField().canonicalString())||e.Ie.push(new gc(_t.keyField(),r))}return e.Ie}function gr(t){const e=ce(t);return e.Ee||(e.Ee=v6(e,Ml(t))),e.Ee}function v6(t,e){if(t.limitType==="F")return DE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new gc(i.field,s)});const n=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;return DE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dg(t,e){const n=t.filters.concat([e]);return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function w6(t,e){const n=t.explicitOrderBy.concat([e]);return new ja(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function lh(t,e,n){return new ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return mv(gr(t),gr(e))&&t.limitType===e.limitType}function oA(t){return`${pv(gr(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rA(i)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ea(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ml(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=kE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ml(r),i)||r.endAt&&!function(o,a,l){const u=kE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ml(r),i))}(t,e)}function _6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aA(t){return(e,n)=>{let r=!1;for(const i of Ml(t)){const s=E6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function E6(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?_a(l,u):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new We(ee.comparator);function Xr(){return T6}const lA=new We(ee.comparator);function _l(...t){let e=lA;for(const n of t)e=e.insert(n.key,n);return e}function cA(t){let e=lA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function As(){return Vl()}function uA(){return Vl()}function Vl(){return new oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const x6=new We(ee.comparator),S6=new lt(ee.comparator);function we(...t){let e=S6;for(const n of t)e=e.add(n);return e}const I6=new lt(ve);function C6(){return I6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function dA(t){return{integerValue:""+t}}function b6(t,e){return J5(e)?dA(e):yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function A6(t,e,n){return t instanceof yc?function(i,s){const o={fields:{[qb]:{stringValue:Hb},[Gb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hv(s)&&(s=af(s)),s&&(o.fields[Kb]=s),{mapValue:o}}(n,e):t instanceof vc?fA(t,e):t instanceof wc?pA(t,e):function(i,s){const o=hA(i,s),a=LE(o)+LE(i.Ae);return lg(o)&&lg(i.Ae)?dA(a):yv(i.serializer,a)}(t,e)}function R6(t,e,n){return t instanceof vc?fA(t,e):t instanceof wc?pA(t,e):n}function hA(t,e){return t instanceof ch?function(r){return lg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yc extends uf{}class vc extends uf{constructor(e){super(),this.elements=e}}function fA(t,e){const n=mA(e);for(const r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class wc extends uf{constructor(e){super(),this.elements=e}}function pA(t,e){let n=mA(e);for(const r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class ch extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LE(t){return Ge(t.integerValue||t.doubleValue)}function mA(t){return fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.field=e,this.transform=n}}function k6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vc&&i instanceof vc||r instanceof wc&&i instanceof wc?wa(r.elements,i.elements,Er):r instanceof ch&&i instanceof ch?Er(r.Ae,i.Ae):r instanceof yc&&i instanceof yc}(t.transform,e.transform)}class N6{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function gA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vv(t.key,En.none()):new jc(t.key,t.data,En.none());{const n=t.data,r=Kt.empty();let i=new lt(_t.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new hs(t.key,r,new on(i.toArray()),En.none())}}function D6(t,e,n){t instanceof jc?function(i,s,o){const a=i.value.clone(),l=VE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(i,s,o){if(!hd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=VE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(yA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof jc?function(s,o,a,l){if(!hd(s.precondition,o))return a;const u=s.value.clone(),d=FE(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof hs?function(s,o,a,l){if(!hd(s.precondition,o))return a;const u=FE(s.fieldTransforms,l,o),d=o.data;return d.setAll(yA(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return hd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function O6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=hA(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function ME(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wa(r,i,(s,o)=>k6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends df{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hs extends df{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VE(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,R6(o,a,n[i]))}return r}function FE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,A6(s,o,e))}return r}class vv extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L6 extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&D6(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=gA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(n,r)=>ME(n,r))&&wa(this.baseMutations,e.baseMutations,(n,r)=>ME(n,r))}}class wv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return x6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,Ee;function j6(t){switch(t){case U.OK:return ie(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function vA(t){if(t===void 0)return Yr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Je.OK:return U.OK;case Je.CANCELLED:return U.CANCELLED;case Je.UNKNOWN:return U.UNKNOWN;case Je.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Je.INTERNAL:return U.INTERNAL;case Je.UNAVAILABLE:return U.UNAVAILABLE;case Je.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Je.NOT_FOUND:return U.NOT_FOUND;case Je.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Je.ABORTED:return U.ABORTED;case Je.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Je.DATA_LOSS:return U.DATA_LOSS;default:return ie(39323,{code:t})}}(Ee=Je||(Je={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new Ki([4294967295,4294967295],0);function jE(t){const e=U6().encode(t),n=new Nb;return n.update(e),new Uint8Array(n.digest())}function UE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ki([n,r],0),new Ki([i,s],0)]}class _v{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ki.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ki.fromNumber(r)));return i.compare($6)===1&&(i=new Ki([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jE(e),[r,i]=UE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _v(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=jE(e),[r,i]=UE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(le.min(),i,new We(ve),Xr(),we())}}class Uc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uc(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class wA{constructor(e,n){this.targetId=e,this.Ce=n}}class _A{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $E{constructor(){this.ve=0,this.Fe=BE(),this.Me=St.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:s})}}),new Uc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=BE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class B6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.He=Ou(),this.Je=Ou(),this.Ze=new We(ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ug(s))if(r===0){const o=new ee(s.path);this.et(n,o,Nt.newNoDocument(o,le.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ns(r).toUint8Array()}catch(l){if(l instanceof Wb)return Xs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _v(o,i,s)}catch(l){return Xs(l instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&ug(a.target)){const l=new ee(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Nt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}});let r=we();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new hf(e,n,this.Ze,this.je,r);return this.je=Xr(),this.He=Ou(),this.Je=Ou(),this.Ze=new We(ve),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $E,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new lt(ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new lt(ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $E),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ou(){return new We(ee.comparator)}function BE(){return new We(ee.comparator)}const z6={asc:"ASCENDING",desc:"DESCENDING"},W6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H6={and:"AND",or:"OR"};class q6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hg(t,e){return t.useProto3Json||of(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K6(t,e){return uh(t,e.toTimestamp())}function yr(t){return Ie(!!t,49232),le.fromTimestamp(function(n){const r=ts(n);return new Le(r.seconds,r.nanos)}(t))}function Ev(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TA(t){const e=Re.fromString(t);return Ie(bA(e),10190,{key:e.toString()}),e}function pg(t,e){return Ev(t.databaseId,e.path)}function Lp(t,e){const n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(SA(n))}function xA(t,e){return Ev(t.databaseId,e)}function G6(t){const e=TA(t);return e.length===4?Re.emptyPath():SA(e)}function mg(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SA(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zE(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function Q6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ie(d===void 0||typeof d=="string",58123),St.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),St.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:vA(u.code);return new G(d,u.message||"")}(o);n=new _A(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lp(t,r.document.name),s=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):le.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new fd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Lp(t,r.document),s=r.readTime?yr(r.readTime):le.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Lp(t,r.document),s=r.removedTargetIds||[];n=new fd([],s,i,null)}else{if(!("filter"in e))return ie(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new F6(i,s),a=r.targetId;n=new wA(a,o)}}return n}function Y6(t,e){let n;if(e instanceof jc)n={update:zE(t,e.key,e.value)};else if(e instanceof vv)n={delete:pg(t,e.key)};else if(e instanceof hs)n={update:zE(t,e.key,e.data),updateMask:sU(e.fieldMask)};else{if(!(e instanceof L6))return ie(16599,{dt:e.type});n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ch)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:K6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie(27497)}(t,e.precondition)),n}function X6(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?yr(i.updateTime):yr(s);return o.isEqual(le.min())&&(o=yr(s)),new N6(o,i.transformResults||[])}(n,e))):[]}function J6(t,e){return{documents:[xA(t,e.path)]}}function Z6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xA(t,i);const s=function(u){if(u.length!==0)return CA(Wn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:xo(f.field),direction:nU(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function eU(t){let e=G6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=IA(h);return f instanceof Wn&&tA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(T){return new gc(So(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,of(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new ah(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new ah(m,f)}(n.endAt)),g6(e,i,o,s,a,"F",l,u)}function tU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=So(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=So(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=So(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(So(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>IA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function nU(t){return z6[t]}function rU(t){return W6[t]}function iU(t){return H6[t]}function xo(t){return{fieldPath:t.canonicalString()}}function So(t){return _t.fromServerFormat(t.fieldPath)}function CA(t){return t instanceof et?function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(RE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(RE(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:rU(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>CA(i));return r.length===1?r[0]:{compositeFilter:{op:iU(n.op),filters:r}}}(t):ie(54877,{filter:t})}function sU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function AA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,s=le.min(),o=le.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.yt=e}}function aU(t){const e=eU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.Sn=new cU}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(es.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class cU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Re.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RA=41943040;class Ht{static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(RA,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ta(0)}static ar(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="LruGarbageCollector",uU=1048576;function qE([t,e],[n,r]){const i=ve(t,n);return i===0?ve(e,r):i}class dU{constructor(e){this.Pr=e,this.buffer=new lt(qE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Q(HE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fa(n)?Q(HE,"Ignoring IndexedDB error during garbage collection: ",n):await Va(n)}await this.Ar(3e5)})}}class fU{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(sf.ce);const r=new dU(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(WE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Eo()<=ye.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function pU(t,e){return new fU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.changes=new oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fl(r.mutation,i,on.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=As();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_l();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=As();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xr();const o=Vl(),a=function(){return Vl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof hs)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Fl(d.mutation,u,d.mutation.getFieldMask(),Le.now())):o.set(u.key,on.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new gU(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Vl();let i=new We((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||on.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||we()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=uA();d.forEach(f=>{if(!s.has(f)){const m=gA(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return y6(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(As());let a=hc,l=s;return o.next(u=>$.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,we())).next(d=>({batchId:a,changes:cA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=_l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=_l();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(h,f){return new ja(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=_l();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Fl(d.mutation,u,on.empty(),Le.now()),cf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:aU(i.bundledQuery),readTime:yr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.overlays=new We(ee.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=As();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=As(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=As(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=As(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new V6(n,r));let s=this.Lr.get(n);s===void 0&&(s=we(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.kr=new lt(pt.Kr),this.qr=new lt(pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new pt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new pt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new ee(new Re([])),r=new pt(n,e),i=new pt(n,e+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ee(new Re([])),r=new pt(n,e),i=new pt(n,e+1);let s=we();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ee.comparator(e.key,n.key)||ve(e.Hr,n.Hr)}static Ur(e,n){return ve(e.Hr,n.Hr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new lt(pt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new M6(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Jr=this.Jr.add(new pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?dv:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),i=new pt(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(ve);return n.forEach(i=>{const s=new pt(i,0),o=new pt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new pt(new ee(s),0);let a=new lt(ve);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),$.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,i=>{const s=new pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new pt(n,0),i=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.ti=e,this.docs=function(){return new We(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||G5(K5(d),r)<=0||(i.has(d.key)||cf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}ni(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xU(this)}getSize(e){return $.resolve(this.size)}}class xU extends mU{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.persistence=e,this.ri=new oo(n=>pv(n),mv),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ii=0,this.si=new Tv,this.targetCount=0,this.oi=Ta._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this._i={},this.overlays={},this.ai=new sf(0),this.ui=!1,this.ui=!0,this.ci=new _U,this.referenceDelegate=e(this),this.li=new SU(this),this.indexManager=new lU,this.remoteDocumentCache=function(i){return new TU(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new oU(n),this.Pi=new vU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new EU(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const i=new IU(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return $.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class IU extends Y5{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Ri=new Tv,this.Ai=null}static Vi(e){return new xv(e)}get di(){if(this.Ai)return this.Ai;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,r=>{const i=ee.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.fi=new oo(r=>Z5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pU(this,n)}static Vi(e,n){return new dh(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return $.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ud(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return nF()?8:X5(Ot())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new CU;return this.ys(e,n,o).next(a=>{if(s.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Eo()<=ye.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Eo()<=ye.DEBUG&&Q("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Eo()<=ye.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):$.resolve())}gs(e,n){if(OE(n))return $.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lh(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ss(n,u,o,l.readTime)?this.gs(e,lh(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return OE(n)||i.isEqual(le.min())?$.resolve(null):this.fs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?$.resolve(null):(Eo()<=ye.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),To(n)),this.Ds(e,o,n,q5(i,hc)).next(a=>a))})}bs(e,n){let r=new lt(aA(e));return n.forEach((i,s)=>{cf(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Eo()<=ye.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",To(n)),this.fs.getDocumentsMatchingQuery(e,n,es.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LocalStore",AU=3e8;class RU{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new We(ve),this.Fs=new oo(s=>pv(s),mv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yU(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function PU(t,e,n,r){return new RU(t,e,n,r)}async function kA(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=we();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function kU(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=$.resolve();return f.forEach(T=>{m=m.next(()=>d.getEntry(l,T)).next(y=>{const _=u.docVersions.get(T);Ie(_!==null,48541),y.version.compareTo(_)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NA(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function NU(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.li.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.li.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(St.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(y,_,w){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=AU?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,d)&&a.push(n.li.updateTargetData(s,m))});let l=Xr(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(DU(s,o,e.documentUpdates).next(d=>{l=d.Bs,u=d.Ls})),!r.isEqual(le.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next(h=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.vs=i,s))}function DU(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(Iv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:i}})}function OU(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LU(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new Oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function gg(t,e,n){const r=ce(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fa(o))throw o;Q(Iv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function KE(t,e,n){const r=ce(t);let i=le.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=ce(l),f=h.Fs.get(d);return f!==void 0?$.resolve(h.vs.get(f)):h.li.getTargetData(u,d)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:we())).next(a=>(MU(r,_6(e),a),{documents:a,ks:s})))}function MU(t,e,n){let r=t.Ms.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}class GE{constructor(){this.activeTargetIds=C6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VU{constructor(){this.vo=new GE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new GE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="ConnectivityMonitor";class YE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Q(QE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Q(QE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function yg(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RestConnection",jU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=yg(),a=this.Qo(e,n.toUriEncodedString());Q(Mp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,s);const{host:u}=new URL(a),d=ro(u);return this.zo(e,a,l,r,d).then(h=>(Q(Mp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Xs(Mp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=jU[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection",hl=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Xo extends UU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Xo.c_){const e=Mb();hl(e,Lb.STAT_EVENT,n=>{n.stat===sg.PROXY?Q(At,"STAT_EVENT: detected buffering proxy"):n.stat===sg.NOPROXY&&Q(At,"STAT_EVENT: detected no buffering proxy")}),Xo.c_=!0}}zo(e,n,r,i,s){const o=yg();return new Promise((a,l)=>{const u=new Db;u.setWithCredentials(!0),u.listenOnce(Ob.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cd.NO_ERROR:const h=u.getResponseJson();Q(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case cd.TIMEOUT:Q(At,`RPC '${e}' ${o} timed out`),l(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const f=u.getStatus();if(Q(At,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const y=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(T.status);l(new G(y,T.message))}else l(new G(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new G(U.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(At,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Q(At,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=yg(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=s.join("");Q(At,`Creating RPC '${e}' stream ${i}: ${u}`,a);const d=o.createWebChannel(u,a);this.I_(d);let h=!1,f=!1;const m=new $U({Ho:T=>{f?Q(At,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(h||(Q(At,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Q(At,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},Jo:()=>d.close()});return hl(d,wl.EventType.OPEN,()=>{f||(Q(At,`RPC '${e}' stream ${i} transport opened.`),m.i_())}),hl(d,wl.EventType.CLOSE,()=>{f||(f=!0,Q(At,`RPC '${e}' stream ${i} transport closed`),m.o_(),this.E_(d))}),hl(d,wl.EventType.ERROR,T=>{f||(f=!0,Xs(At,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),m.o_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),hl(d,wl.EventType.MESSAGE,T=>{var y;if(!f){const _=T.data[0];Ie(!!_,16349);const w=_,v=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(v){Q(At,`RPC '${e}' stream ${i} received error:`,v);const x=v.status;let A=function(I){const S=Je[I];if(S!==void 0)return vA(S)}(x),O=v.message;x==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&Xs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),A===void 0&&(A=U.INTERNAL,O="Unknown error status: "+x+" with message "+v.message),f=!0,m.o_(new G(A,O)),d.close()}else Q(At,`RPC '${e}' stream ${i} received:`,_),m.__(_)}}),Xo.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Vb()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){return new Xo(t)}function Vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new q6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo.c_=!1;class DA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="PersistentStream";class OA{constructor(e,n,r,i,s,o,a,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(XE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Q(XE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zU extends OA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Q6(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?yr(o.readTime):le.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=mg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ug(l)?{documents:J6(s,l)}:{query:Z6(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EA(s,o.resumeToken);const u=hg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=uh(s,o.snapshotVersion.toTimestamp());const u=hg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=tU(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.K_(n)}}class WU extends OA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=X6(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y6(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{}class qU extends HU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,fg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,fg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function KU(t,e,n,r){return new qU(t,e,n,r)}class GU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class QU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{ao(this)&&(Q(Js,"Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.Ea.add(4),await $c(u),u.Va.set("Unknown"),u.Ea.delete(4),await pf(u)}(this))})}),this.Va=new GU(r,i)}}async function pf(t){if(ao(t))for(const e of t.Ra)await e(!0)}async function $c(t){for(const e of t.Ra)await e(!1)}function LA(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rv(n)?Av(n):Ua(n).O_()&&bv(n,e))}function Cv(t,e){const n=ce(t),r=Ua(n);n.Ia.delete(e),r.O_()&&MA(n,e),n.Ia.size===0&&(r.O_()?r.L_():ao(n)&&n.Va.set("Unknown"))}function bv(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ua(t).Z_(e)}function MA(t,e){t.da.$e(e),Ua(t).X_(e)}function Av(t){t.da=new B6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ua(t).start(),t.Va.ua()}function Rv(t){return ao(t)&&!Ua(t).x_()&&t.Ia.size>0}function ao(t){return ce(t).Ea.size===0}function VA(t){t.da=void 0}async function YU(t){t.Va.set("Online")}async function XU(t){t.Ia.forEach((e,n)=>{bv(t,e)})}async function JU(t,e){VA(t),Rv(t)?(t.Va.ha(e),Av(t)):t.Va.set("Unknown")}async function ZU(t,e,n){if(t.Va.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.da.removeTarget(a))}(t,e)}catch(r){Q(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof fd?t.da.Xe(e):e instanceof wA?t.da.st(e):t.da.tt(e),!n.isEqual(le.min()))try{const r=await NA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.da.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(St.EMPTY_BYTE_STRING,d.snapshotVersion)),MA(s,l);const h=new Oi(d.target,l,u,d.sequenceNumber);bv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(Js,"Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!Fa(e))throw e;t.Ea.add(1),await $c(t),t.Va.set("Offline"),n||(n=()=>NA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Js,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pf(t)})}function FA(t,e){return e().catch(n=>hh(t,n,e))}async function mf(t){const e=ce(t),n=is(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dv;for(;e9(e);)try{const i=await OU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,t9(e,i)}catch(i){await hh(e,i)}jA(e)&&UA(e)}function e9(t){return ao(t)&&t.Ta.length<10}function t9(t,e){t.Ta.push(e);const n=is(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function jA(t){return ao(t)&&!is(t).x_()&&t.Ta.length>0}function UA(t){is(t).start()}async function n9(t){is(t).ra()}async function r9(t){const e=is(t);for(const n of t.Ta)e.ea(n.mutations)}async function i9(t,e,n){const r=t.Ta.shift(),i=wv.from(r,e,n);await FA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mf(t)}async function s9(t,e){e&&is(t).Y_&&await async function(r,i){if(function(o){return j6(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();is(r).B_(),await FA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mf(r)}}(t,e),jA(t)&&UA(t)}async function JE(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Q(Js,"RemoteStore received new credentials");const r=ao(n);n.Ea.add(3),await $c(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function o9(t,e){const n=ce(t);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await $c(n),n.Va.set("Unknown"))}function Ua(t){return t.ma||(t.ma=function(n,r,i){const s=ce(n);return s.sa(),new zU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:YU.bind(null,t),Yo:XU.bind(null,t),t_:JU.bind(null,t),J_:ZU.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Rv(t)?Av(t):t.Va.set("Unknown")):(await t.ma.stop(),VA(t))})),t.ma}function is(t){return t.fa||(t.fa=function(n,r,i){const s=ce(n);return s.sa(),new WU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:n9.bind(null,t),t_:s9.bind(null,t),ta:r9.bind(null,t),na:i9.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await mf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Js,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Pv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Fa(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.ga=new We(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class xa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new xa(e,n,Jo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class l9{constructor(){this.queries=e1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=e1(),s.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function e1(){return new oo(t=>oA(t),lf)}async function c9(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new a9,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=kv(o,`Initialization of query '${To(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Nv(n)}async function u9(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function d9(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ba)a.Fa(i)&&(r=!0);o.wa=i}}r&&Nv(n)}function h9(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Nv(t){t.Ca.forEach(e=>{e.next()})}var vg,t1;(t1=vg||(vg={})).Ma="default",t1.Cache="cache";class f9{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.key=e}}class BA{constructor(e){this.key=e}}class p9{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.eu=aA(e),this.tu=new Jo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new ZE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=cf(this.query,h)?h:null,T=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;f&&m?f.data.isEqual(m.data)?T!==y&&(r.track({type:3,doc:m}),_=!0):this.su(f,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),_=!0):f&&!m&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(m?(o=o.add(m),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Ss:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(m,T){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Vt:_})}};return y(m)-y(T)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new xa(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new BA(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new $A(r))}),n}cu(e){this.Za=e.ks,this.Ya=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dv="SyncEngine";class m9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g9{constructor(e){this.key=e,this.hu=!1}}class y9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new oo(a=>oA(a),lf),this.Iu=new Map,this.Eu=new Set,this.Ru=new We(ee.comparator),this.Au=new Map,this.Vu=new Tv,this.du={},this.mu=new Map,this.fu=Ta.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v9(t,e,n=!0){const r=GA(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await zA(r,e,n,!0),i}async function w9(t,e){const n=GA(t);await zA(n,e,!0,!1)}async function zA(t,e,n,r){const i=await LU(t.localStore,gr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await _9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LA(t.remoteStore,i),a}async function _9(t,e,n,r,i){t.pu=(h,f,m)=>async function(y,_,w,v){let x=_.view.ru(w);x.Ss&&(x=await KE(y.localStore,_.query,!1).then(({documents:I})=>_.view.ru(I,x)));const A=v&&v.targetChanges.get(_.targetId),O=v&&v.targetMismatches.get(_.targetId)!=null,D=_.view.applyChanges(x,y.isPrimaryClient,A,O);return r1(y,_.targetId,D.au),D.snapshot}(t,h,f,m);const s=await KE(t.localStore,e,!0),o=new p9(e,s.ks),a=o.ru(s.documents),l=Uc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);r1(t,n,u.au);const d=new m9(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function E9(t,e,n){const r=ce(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!lf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cv(r.remoteStore,i.targetId),wg(r,i.targetId)}).catch(Va)):(wg(r,i.targetId),await gg(r.localStore,i.targetId,!0))}async function T9(t,e){const n=ce(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cv(n.remoteStore,r.targetId))}async function x9(t,e,n){const r=P9(t);try{const i=await function(o,a){const l=ce(o),u=Le.now(),d=a.reduce((m,T)=>m.add(T.key),we());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=Xr(),y=we();return l.xs.getEntries(m,d).next(_=>{T=_,T.forEach((w,v)=>{v.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,T)).next(_=>{h=_;const w=[];for(const v of a){const x=O6(v,h.get(v.key).overlayedDocument);x!=null&&w.push(new hs(v.key,x,Jb(x.value.mapValue),En.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,w,a)}).next(_=>{f=_;const w=_.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,_.batchId,w)})}).then(()=>({batchId:f.batchId,changes:cA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.du[o.currentUser.toKey()];u||(u=new We(ve)),u=u.insert(a,l),o.du[o.currentUser.toKey()]=u}(r,i.batchId,n),await Bc(r,i.changes),await mf(r.remoteStore)}catch(i){const s=kv(i,"Failed to persist write");n.reject(s)}}async function WA(t,e){const n=ce(t);try{const r=await NU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ie(o.hu,14607):i.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))}),await Bc(n,r,e)}catch(r){await Va(r)}}function n1(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.ba)f.va(a)&&(u=!0)}),u&&Nv(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S9(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new We(ee.comparator);o=o.insert(s,Nt.newNoDocument(s,le.min()));const a=we().add(s),l=new hf(le.min(),new Map,new We(ve),o,a);await WA(r,l),r.Ru=r.Ru.remove(s),r.Au.delete(e),Ov(r)}else await gg(r.localStore,e,!1).then(()=>wg(r,e,n)).catch(Va)}async function I9(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await kU(n.localStore,e);qA(n,r,null),HA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,i)}catch(i){await Va(i)}}async function C9(t,e,n){const r=ce(t);try{const i=await function(o,a){const l=ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ie(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);qA(r,e,n),HA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,i)}catch(i){await Va(i)}}function HA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function qA(t,e,n){const r=ce(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||KA(t,r)})}function KA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Cv(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Ov(t))}function r1(t,e,n){for(const r of n)r instanceof $A?(t.Vu.addReference(r.key,e),b9(t,r)):r instanceof BA?(Q(Dv,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||KA(t,r.key)):ie(19791,{wu:r})}function b9(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Q(Dv,"New document in limbo: "+n),t.Eu.add(r),Ov(t))}function Ov(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Re.fromString(e)),r=t.fu.next();t.Au.set(r,new g9(n)),t.Ru=t.Ru.insert(n,r),LA(t.remoteStore,new Oi(gr(gv(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function Bc(t,e,n){const r=ce(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Sv.Es(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(l,u){const d=ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,f=>$.forEach(f.Ts,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>$.forEach(f.Is,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Fa(h))throw h;Q(Iv,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.vs.get(f),T=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(T);d.vs=d.vs.insert(f,y)}}}(r.localStore,s))}async function A9(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Q(Dv,"User change. New user:",e.toKey());const r=await kA(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new G(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(n,r.Ns)}}function R9(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let i=we();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function GA(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S9.bind(null,e),e.Pu.J_=d9.bind(null,e.eventManager),e.Pu.yu=h9.bind(null,e.eventManager),e}function P9(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C9.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PU(this.persistence,new bU,e.initialUser,this.serializer)}Cu(e){return new PA(xv.Vi,this.serializer)}Du(e){return new VU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class k9 extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new PA(r=>dh.Vi(r,n),this.serializer)}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=A9.bind(null,this.syncEngine),await o9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l9}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=BU(e.databaseInfo);return KU(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new QU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>n1(this.syncEngine,n,0),function(){return YE.v()?new YE:new FU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new y9(i,s,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);Q(Js,"RemoteStore shutting down."),s.Ea.add(5),await $c(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class D9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Q(ss,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(ss,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function i1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O9(t);Q(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JE(e.remoteStore,i)),t._onlineComponents=e}async function O9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(ss,"Using user provided OfflineComponentProvider");try{await Fp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await Fp(t,new fh)}}else Q(ss,"Using default OfflineComponentProvider"),await Fp(t,new k9(void 0));return t._offlineComponents}async function QA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(ss,"Using user provided OnlineComponentProvider"),await i1(t,t._uninitializedComponentsProvider._online)):(Q(ss,"Using default OnlineComponentProvider"),await i1(t,new _g))),t._onlineComponents}function L9(t){return QA(t).then(e=>e.syncEngine)}async function s1(t){const e=await QA(t),n=e.eventManager;return n.onListen=v9.bind(null,e.syncEngine),n.onUnlisten=E9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=w9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T9.bind(null,e.syncEngine),n}function M9(t,e,n,r){const i=new N9(r),s=new f9(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>c9(await s1(t),s)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>u9(await s1(t),s))}}function V9(t,e){const n=new Vs;return t.asyncQueue.enqueueAndForget(async()=>x9(await L9(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="ComponentProvider",o1=new Map;function j9(t,e,n,r,i){return new n6(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,YA(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firestore.googleapis.com",a1=!0;class l1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XA,this.ssl=a1}else this.host=e.host,this.ssl=e.ssl??a1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uU)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L5;switch(r.type){case"firstParty":return new j5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o1.get(n);r&&(Q(F9,"Removing Datastore"),o1.delete(n),r.terminate())}(this),Promise.resolve()}}function U9(t,e,n,r={}){var u;t=mr(t,gf);const i=ro(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Yy(`https://${a}`),Xy("Firestore",!0)),s.host!==XA&&s.host!==a&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Ks(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Pt.MOCK_USER;else{d=KC(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pt(f)}t._authCredentials=new M5(new jb(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fc(n,Ye._jsonSchema))return new Ye(e,r||null,new ee(Re.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:tt("string",Ye._jsonSchemaVersion),referencePath:tt("string")};class Gi extends fs{constructor(e,n,r){super(e,n,gv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new ee(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function LB(t,e,...n){if(t=ct(t),Ub("collection","path",e),t instanceof gf){const r=Re.fromString(e,...n);return _E(r),new Gi(t,null,r)}{if(!(t instanceof Ye||t instanceof Gi))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return _E(r),new Gi(t.firestore,null,r)}}function _c(t,e,...n){if(t=ct(t),arguments.length===1&&(e=uv.newId()),Ub("doc","path",e),t instanceof gf){const r=Re.fromString(e,...n);return wE(r),new Ye(t,null,new ee(r))}{if(!(t instanceof Ye||t instanceof Gi))throw new G(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return wE(r),new Ye(t.firestore,t instanceof Gi?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="AsyncQueue";class u1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DA(this,"async_queue_retry"),this._c=()=>{const r=Vp();r&&Q(c1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fa(e))throw e;Q(c1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",d1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Pv.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ie(47125,{Pc:d1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Zs extends gf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new u1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u1(e),this._firestoreClient=void 0,await e}}}function $9(t,e){const n=typeof t=="object"?t:ev(),r=typeof t=="string"?t:sh,i=Jh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=WC("firestore");s&&U9(i,...s)}return i}function JA(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B9(t),t._firestoreClient}function B9(t){var r,i,s,o;const e=t._freezeSettings(),n=j9(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new D9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vn(St.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vn(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fc(e,vn._jsonSchema))return vn.fromBase64String(e.bytes)}}vn._jsonSchemaVersion="firestore/bytes/1.0",vn._jsonSchema={type:tt("string",vn._jsonSchemaVersion),bytes:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Fc(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:tt("string",vr._jsonSchemaVersion),latitude:tt("number"),longitude:tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fc(e,jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new jn(e.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jn._jsonSchemaVersion="firestore/vectorValue/1.0",jn._jsonSchema={type:tt("string",jn._jsonSchemaVersion),vectorValues:tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^__.*__$/;class W9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class ZA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{dataSource:t})}}class Mv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ph(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(eR(this.dataSource)&&z9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class H9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}createContext(e,n,r,i=!1){return new Mv({dataSource:e,methodName:n,targetDoc:r,path:_t.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new H9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tR(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);Fv("Data must be an object, but it was:",o,r);const a=nR(r,o);let l,u;if(s.merge)l=new on(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=eo(e,h,n);if(!o.contains(f))throw new G(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);sR(d,f)||d.push(f)}l=new on(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new W9(new Kt(a),l,u)}class wf extends yf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}class Vv extends yf{_toFieldTransform(e){return new P6(e.path,new yc)}isEqual(e){return e instanceof Vv}}function q9(t,e,n,r){const i=t.createContext(1,e,n);Fv("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();ds(r,(l,u)=>{const d=iR(e,l,n);u=ct(u);const h=i.childContextForFieldPath(d);if(u instanceof wf)s.push(d);else{const f=zc(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new on(s);return new ZA(o,a,i.fieldTransforms)}function K9(t,e,n,r,i,s){const o=t.createContext(1,e,n),a=[eo(e,r,n)],l=[i];if(s.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(eo(e,s[f])),l.push(s[f+1]);const u=[],d=Kt.empty();for(let f=a.length-1;f>=0;--f)if(!sR(u,a[f])){const m=a[f];let T=l[f];T=ct(T);const y=o.childContextForFieldPath(m);if(T instanceof wf)u.push(m);else{const _=zc(T,y);_!=null&&(u.push(m),d.set(m,_))}}const h=new on(u);return new ZA(d,h,o.fieldTransforms)}function G9(t,e,n,r=!1){return zc(n,t.createContext(r?4:3,e))}function zc(t,e){if(rR(t=ct(t)))return Fv("Unsupported field value:",e,t),nR(t,e);if(t instanceof yf)return function(r,i){if(!eR(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=zc(a,i.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Le.fromDate(r);return{timestampValue:uh(i.serializer,s)}}if(r instanceof Le){const s=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(i.serializer,s)}}if(r instanceof vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vn)return{bytesValue:EA(i.serializer,r._byteString)};if(r instanceof Ye){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ev(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jn)return function(o,a){const l=o instanceof jn?o.toArray():o;return{mapValue:{fields:{[Qb]:{stringValue:Xb},[oh]:{arrayValue:{values:l.map(d=>{if(typeof d!="number")throw a.createError("VectorValues must only contain numeric values.");return yv(a.serializer,d)})}}}}}}(r,i);if(AA(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${rf(r)}`)}(t,e)}function nR(t,e){const n={};return zb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,i)=>{const s=zc(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function rR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof vr||t instanceof vn||t instanceof Ye||t instanceof yf||t instanceof jn||AA(t))}function Fv(t,e,n){if(!rR(n)||!$b(n)){const r=rf(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function eo(t,e,n){if((e=ct(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return iR(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q9=new RegExp("[~\\*/\\[\\]]");function iR(t,e,n){if(e.search(Q9)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Lv(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(U.INVALID_ARGUMENT,a+t+l)}function sR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{convertValue(e,n="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[oh].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ge(o.doubleValue));return new jn(n)}convertGeoPoint(e){return new vr(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Ie(bA(r),9688,{name:e});const i=new pc(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends Y9{constructor(e){super(),this.firestore=e}convertBytes(e){return new vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function X9(){return new Vv("serverTimestamp")}const h1="@firebase/firestore",f1="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(eo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J9 extends aR{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jv{}class Uv extends jv{}function MB(t,e,...n){let r=[];e instanceof jv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof $v).length,a=s.filter(l=>l instanceof _f).length;if(o>1||o>0&&a>0)throw new G(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _f extends Uv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return lR(e._query,n),new fs(e.firestore,e.converter,dg(e._query,n))}_parse(e){const n=vf(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){g1(h,d);const T=[];for(const y of h)T.push(m1(l,s,y));f={arrayValue:{values:T}}}else f=m1(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||g1(h,d),f=G9(a,o,h,d==="in"||d==="not-in");return et.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VB(t,e,n){const r=e,i=eo("where",t);return _f._create(i,r,n)}class $v extends jv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $v(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)lR(o,l),o=dg(o,l)}(e._query,n),new fs(e.firestore,e.converter,dg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bv extends Uv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bv(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(s,o)}(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,w6(e._query,n))}}function FB(t,e="asc"){const n=e,r=eo("orderBy",t);return Bv._create(r,n)}class zv extends Uv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zv(e,n,r)}_apply(e){return new fs(e.firestore,e.converter,lh(e._query,this._limit,this._limitType))}}function jB(t){return zv._create("limit",t,"F")}function m1(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sA(e)&&n.indexOf("/")!==-1)throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!ee.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AE(t,new ee(r))}if(n instanceof Ye)return AE(t,n._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function g1(t,e){if(!Array.isArray(t)||t.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lR(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function cR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fs extends aR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(eo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:tt("string",Fs._jsonSchemaVersion),bundleSource:tt("string","DocumentSnapshot"),bundleName:tt("string"),bundle:tt("string")};class pd extends Fs{data(e={}){return super.data(e)}}class Zo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pd(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new pd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new pd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:e$(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:tt("string",Zo._jsonSchemaVersion),bundleSource:tt("string","QuerySnapshot"),bundleName:tt("string"),bundle:tt("string")};function t$(t,e,n){t=mr(t,Ye);const r=mr(t.firestore,Zs),i=cR(t.converter,e,n),s=vf(r);return Ef(r,[tR(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,En.none())])}function UB(t,e,n,...r){t=mr(t,Ye);const i=mr(t.firestore,Zs),s=vf(i);let o;return o=typeof(e=ct(e))=="string"||e instanceof Lv?K9(s,"updateDoc",t._key,e,n,r):q9(s,"updateDoc",t._key,e),Ef(i,[o.toMutation(t._key,En.exists(!0))])}function $B(t){return Ef(mr(t.firestore,Zs),[new vv(t._key,En.none())])}function BB(t,e){const n=mr(t.firestore,Zs),r=_c(t),i=cR(t.converter,e),s=vf(t.firestore);return Ef(n,[tR(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function Eg(t,...e){var u,d,h;t=ct(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||p1(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(p1(e[r])){const f=e[r];e[r]=(u=f.next)==null?void 0:u.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let s,o,a;if(t instanceof Ye)o=mr(t.firestore,Zs),a=gv(t._key.path),s={next:f=>{e[r]&&e[r](n$(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=mr(t,fs);o=mr(f.firestore,Zs),a=f._query;const m=new oR(o);s={next:T=>{e[r]&&e[r](new Zo(o,m,f,T))},error:e[r+1],complete:e[r+2]},Z9(t._query)}const l=JA(o);return M9(l,a,i,s)}function Ef(t,e){const n=JA(t);return V9(n,e)}function n$(t,e,n){const r=n.docs.get(e._key),i=new oR(t);return new Fs(t,i,e._key,r,new Tl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){O5(io),Gs(new Zi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Zs(new V5(r.getProvider("auth-internal")),new U5(o,r.getProvider("app-check-internal")),r6(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),hr(h1,f1,e),hr(h1,f1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebasestorage.googleapis.com",r$="storageBucket",i$=2*60*1e3,s$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ir{constructor(e,n,r=0){super(jp(e),`Firebase Storage: ${n} (${jp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function jp(t){return"storage/"+t}function o$(){const t="An unknown error occurred, please check the error payload for server response.";return new Cr(Tr.UNKNOWN,t)}function a$(){return new Cr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l$(){return new Cr(Tr.CANCELED,"User canceled the upload/download.")}function c$(t){return new Cr(Tr.INVALID_URL,"Invalid URL '"+t+"'.")}function u$(t){return new Cr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y1(t){return new Cr(Tr.INVALID_ARGUMENT,t)}function dR(){return new Cr(Tr.APP_DELETED,"The Firebase app was deleted.")}function d$(t){return new Cr(Tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(r.path==="")return r;throw u$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),T={bucket:1,path:3},y=n===uR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${y}/${i}/${_}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:m,indices:T,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<x.length;A++){const O=x[A],D=O.regex.exec(e);if(D){const I=D[O.indices.bucket];let S=D[O.indices.path];S||(S=""),r=new Mn(I,S),O.postModify(r);break}}if(r==null)throw c$(e);return r}}class h${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function f(){s&&clearTimeout(s)}function m(_,...w){if(u){f();return}if(_){f(),d.call(null,_,...w);return}if(l()||o){f(),d.call(null,_,...w);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,h(x)}let T=!1;function y(_){T||(T=!0,f(),!u&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function p$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){return t!==void 0}function v1(t,e,n,r){if(r<e)throw y1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw y1(`Invalid value for '${t}'. Expected ${n} or less.`)}function g$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var mh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mh||(mh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n,r,i,s,o,a,l,u,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,y)=>{this.resolve_=T,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mh.NO_ERROR,l=s.getStatus();if(!a||y$(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===mh.ABORT;r(!1,new Mu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Mu(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());m$(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=o$();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?dR():l$();o(l)}else{const l=a$();o(l)}};this.canceled_?n(!1,new Mu(!1,null,!0)):this.backoffId_=f$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function w$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function x$(t,e,n,r,i,s,o=!0,a=!1){const l=g$(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return E$(d,e),w$(d,n),_$(d,s),T$(d,r),new v$(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function I$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gh(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I$(this._location.path)}get storage(){return this._service}get parent(){const e=S$(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new gh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d$(e)}}function w1(t,e){const n=e==null?void 0:e[r$];return n==null?null:Mn.makeFromBucketSpec(n,t)}function C$(t,e,n,r={}){t.host=`${e}:${n}`;const i=ro(e);i&&(Yy(`https://${t.host}/b`),Xy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:KC(s,t.app.options.projectId))}class b${constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=uR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i$,this._maxUploadRetryTime=s$,this._requests=new Set,i!=null?this._bucket=Mn.makeFromBucketSpec(i,this._host):this._bucket=w1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=w1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){v1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){v1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new h$(dR());{const o=x$(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const _1="@firebase/storage",E1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="storage";function A$(t=ev(),e){t=ct(t);const r=Jh(t,hR).getImmediate({identifier:e}),i=WC("storage");return i&&R$(r,...i),r}function R$(t,e,n,r={}){C$(t,e,n,r)}function P$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new b$(n,r,i,e,io)}function k$(){Gs(new Zi(hR,P$,"PUBLIC").setMultipleInstances(!0)),hr(_1,E1,""),hr(_1,E1,"esm2020")}k$();const N$={apiKey:"AIzaSyCalpf0MzPa2C0NOwawKcgbcXkqzfRcSkc",authDomain:"bukzbrain-v2-glow-bright.firebaseapp.com",projectId:"bukzbrain-v2-glow-bright",storageBucket:"bukzbrain-v2-glow-bright.firebasestorage.app",messagingSenderId:"968115218436",appId:"1:968115218436:web:f0be01c002d1f59ed96d51"},Wv=YC(N$),Tg=P5(Wv),yh=$9(Wv);A$(Wv);const fR=E.createContext({user:null,loading:!0,role:null,roleLoading:!0,isAdmin:!1}),pR=()=>E.useContext(fR),D$=({children:t})=>{const[e,n]=E.useState(null),[r,i]=E.useState(!0),[s,o]=E.useState(null),[a,l]=E.useState(!0);E.useEffect(()=>wj(Tg,async h=>{if(h){const f=`last_login_${h.uid}`,m=localStorage.getItem(f),T=30*24*60*60*1e3,y=Date.now();if(m){if(y-parseInt(m)>T)try{await Tg.signOut(),localStorage.removeItem(f),n(null),o(null),l(!1),i(!1);return}catch(w){console.error("Error signing out expired session:",w)}}else localStorage.setItem(f,y.toString());h.email&&t$(_c(yh,"users",h.email),{email:h.email,displayName:h.displayName||h.email.split("@")[0],lastLogin:X9(),uid:h.uid},{merge:!0}).catch(()=>{})}else o(null),l(!1);n(h),i(!1)}),[]),E.useEffect(()=>{if(!(e!=null&&e.email)){o(null),l(!1);return}l(!0);const d=Eg(_c(yh,"users",e.email),h=>{var f;h.exists()?o(((f=h.data())==null?void 0:f.role)||null):o(null),l(!1)},h=>{console.error("Error listening to user role:",h),o(null),l(!1)});return()=>d()},[e==null?void 0:e.email]);const u=s==="admin";return C.jsx(fR.Provider,{value:{user:e,loading:r,role:s,roleLoading:a,isAdmin:u},children:!r&&t})},Up=768;function O$(){const[t,e]=E.useState(void 0);return E.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Up-1}px)`),r=()=>{e(window.innerWidth<Up)};return n.addEventListener("change",r),e(window.innerWidth<Up),()=>n.removeEventListener("change",r)},[]),!!t}const Vu=["/dashboard","/operations","/tasks","/instructions","/requests","/bookstore-requests"];function L$(){const{user:t}=pR(),[e,n]=E.useState(new Set(Vu));return E.useEffect(()=>{if(!(t!=null&&t.email)){n(new Set(Vu));return}let r=null,i=null;const s=()=>{const l=r??i;n(l?new Set(Vu.filter(u=>l[u]!==!1)):new Set(Vu))},o=Eg(_c(yh,"navigation_permissions",t.email),l=>{var u;r=l.exists()?((u=l.data())==null?void 0:u.pages)??null:null,s()}),a=Eg(_c(yh,"navigation_permissions","_default"),l=>{var u;i=l.exists()?((u=l.data())==null?void 0:u.pages)??null:null,s()});return()=>{o(),a()}},[t==null?void 0:t.email]),{allowedPages:e}}let xg={},mR;function $p(t={}){xg={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...t}}function X(t){return t?xg[t]:xg}function M$(t){mR=t}function rn(){return mR}let vh={};function Fu(t,e){vh[t]=e}function js(t){var e;(e=vh[t])==null||e.call(vh)}function V$(){vh={}}function ju(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function gR(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return t.flatMap(n=>{const r=n.matches(e),i=Array.from(n.querySelectorAll(e));return[...r?[n]:[],...i]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&U$(n))}function yR(t){if(!t||j$(t))return;const e=X("smoothScroll"),n=t.offsetHeight>window.innerHeight;t.scrollIntoView({behavior:!e||F$(t)?"auto":"smooth",inline:"center",block:n?"start":"center"})}function F$(t){if(!t||!t.parentElement)return;const e=t.parentElement;return e.scrollHeight>e.clientHeight}function j$(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function U$(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}let wh={};function ft(t,e){wh[t]=e}function J(t){return t?wh[t]:wh}function T1(){wh={}}function $$(t,e,n,r){let i=J("__activeStagePosition");const s=i||n.getBoundingClientRect(),o=r.getBoundingClientRect(),a=ju(t,s.x,o.x-s.x,e),l=ju(t,s.y,o.y-s.y,e),u=ju(t,s.width,o.width-s.width,e),d=ju(t,s.height,o.height-s.height,e);i={x:a,y:l,width:u,height:d},wR(i),ft("__activeStagePosition",i)}function vR(t){if(!t)return;const e=t.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height};ft("__activeStagePosition",n),wR(n)}function B$(){const t=J("__activeStagePosition"),e=J("__overlaySvg");if(!t)return;if(!e){console.warn("No stage svg found.");return}const n=window.innerWidth,r=window.innerHeight;e.setAttribute("viewBox",`0 0 ${n} ${r}`)}function z$(t){const e=W$(t);document.body.appendChild(e),TR(e,n=>{n.target.tagName==="path"&&js("overlayClick")}),ft("__overlaySvg",e)}function wR(t){const e=J("__overlaySvg");if(!e){z$(t);return}const n=e.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",_R(t))}function W$(t){const e=window.innerWidth,n=window.innerHeight,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList.add("driver-overlay","driver-overlay-animated"),r.setAttribute("viewBox",`0 0 ${e} ${n}`),r.setAttribute("xmlSpace","preserve"),r.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1"),r.setAttribute("preserveAspectRatio","xMinYMin slice"),r.style.fillRule="evenodd",r.style.clipRule="evenodd",r.style.strokeLinejoin="round",r.style.strokeMiterlimit="2",r.style.zIndex="10000",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%";const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",_R(t)),i.style.fill=X("overlayColor")||"rgb(0,0,0)",i.style.opacity=`${X("overlayOpacity")}`,i.style.pointerEvents="auto",i.style.cursor="auto",r.appendChild(i),r}function _R(t){const e=window.innerWidth,n=window.innerHeight,r=X("stagePadding")||0,i=X("stageRadius")||0,s=t.width+r*2,o=t.height+r*2,a=Math.min(i,s/2,o/2),l=Math.floor(Math.max(a,0)),u=t.x-r+l,d=t.y-r,h=s-l*2,f=o-l*2;return`M${e},0L0,0L0,${n}L${e},${n}L${e},0Z
    M${u},${d} h${h} a${l},${l} 0 0 1 ${l},${l} v${f} a${l},${l} 0 0 1 -${l},${l} h-${h} a${l},${l} 0 0 1 -${l},-${l} v-${f} a${l},${l} 0 0 1 ${l},-${l} z`}function H$(){const t=J("__overlaySvg");t&&t.remove()}function q$(){const t=document.getElementById("driver-dummy-element");if(t)return t;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function x1(t){const{element:e}=t;let n=typeof e=="function"?e():typeof e=="string"?document.querySelector(e):e;n||(n=q$()),G$(n,t)}function K$(){const t=J("__activeElement"),e=J("__activeStep");t&&(vR(t),B$(),SR(t,e))}function G$(t,e){var n;const r=Date.now(),i=J("__activeStep"),s=J("__activeElement")||t,o=!s||s===t,a=t.id==="driver-dummy-element",l=s.id==="driver-dummy-element",u=X("animate"),d=e.onHighlightStarted||X("onHighlightStarted"),h=(e==null?void 0:e.onHighlighted)||X("onHighlighted"),f=(i==null?void 0:i.onDeselected)||X("onDeselected"),m=X(),T=J();!o&&f&&f(l?void 0:s,i,{config:m,state:T,driver:rn()}),d&&d(a?void 0:t,e,{config:m,state:T,driver:rn()});const y=!o&&u;let _=!1;Z$(),ft("previousStep",i),ft("previousElement",s),ft("activeStep",e),ft("activeElement",t);const w=()=>{if(J("__transitionCallback")!==w)return;const v=Date.now()-r,x=400-v<=400/2;e.popover&&x&&!_&&y&&(S1(t,e),_=!0),X("animate")&&v<400?$$(v,400,s,t):(vR(t),h&&h(a?void 0:t,e,{config:X(),state:J(),driver:rn()}),ft("__transitionCallback",void 0),ft("__previousStep",i),ft("__previousElement",s),ft("__activeStep",e),ft("__activeElement",t)),window.requestAnimationFrame(w)};ft("__transitionCallback",w),window.requestAnimationFrame(w),yR(t),!y&&e.popover&&S1(t,e),s.classList.remove("driver-active-element","driver-no-interaction"),s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-expanded"),s.removeAttribute("aria-controls"),((n=e.disableActiveInteraction)!=null?n:X("disableActiveInteraction"))&&t.classList.add("driver-no-interaction"),t.classList.add("driver-active-element"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-controls","driver-popover-content")}function Q$(){var t;(t=document.getElementById("driver-dummy-element"))==null||t.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function Ec(){const t=J("__resizeTimeout");t&&window.cancelAnimationFrame(t),ft("__resizeTimeout",window.requestAnimationFrame(K$))}function Y$(t){var e;if(!J("isInitialized")||!(t.key==="Tab"||t.keyCode===9))return;const n=J("__activeElement"),r=(e=J("popover"))==null?void 0:e.wrapper,i=gR([...r?[r]:[],...n?[n]:[]]),s=i[0],o=i[i.length-1];if(t.preventDefault(),t.shiftKey){const a=i[i.indexOf(document.activeElement)-1]||o;a==null||a.focus()}else{const a=i[i.indexOf(document.activeElement)+1]||s;a==null||a.focus()}}function ER(t){var e;((e=X("allowKeyboardControl"))==null||e)&&(t.key==="Escape"?js("escapePress"):t.key==="ArrowRight"?js("arrowRightPress"):t.key==="ArrowLeft"&&js("arrowLeftPress"))}function TR(t,e,n){const r=(i,s)=>{const o=i.target;t.contains(o)&&((!n||n(o))&&(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation()),s==null||s(i))};document.addEventListener("pointerdown",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("pointerup",r,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",i=>{r(i,e)},!0)}function X$(){window.addEventListener("keyup",ER,!1),window.addEventListener("keydown",Y$,!1),window.addEventListener("resize",Ec),window.addEventListener("scroll",Ec)}function J$(){window.removeEventListener("keyup",ER),window.removeEventListener("resize",Ec),window.removeEventListener("scroll",Ec)}function Z$(){const t=J("popover");t&&(t.wrapper.style.display="none")}function S1(t,e){var n,r;let i=J("popover");i&&document.body.removeChild(i.wrapper),i=tB(),document.body.appendChild(i.wrapper);const{title:s,description:o,showButtons:a,disableButtons:l,showProgress:u,nextBtnText:d=X("nextBtnText")||"Next &rarr;",prevBtnText:h=X("prevBtnText")||"&larr; Previous",progressText:f=X("progressText")||"{current} of {total}"}=e.popover||{};i.nextButton.innerHTML=d,i.previousButton.innerHTML=h,i.progress.innerHTML=f,s?(i.title.innerHTML=s,i.title.style.display="block"):i.title.style.display="none",o?(i.description.innerHTML=o,i.description.style.display="block"):i.description.style.display="none";const m=a||X("showButtons"),T=u||X("showProgress")||!1,y=(m==null?void 0:m.includes("next"))||(m==null?void 0:m.includes("previous"))||T;i.closeButton.style.display=m.includes("close")?"block":"none",y?(i.footer.style.display="flex",i.progress.style.display=T?"block":"none",i.nextButton.style.display=m.includes("next")?"block":"none",i.previousButton.style.display=m.includes("previous")?"block":"none"):i.footer.style.display="none";const _=l||X("disableButtons")||[];_!=null&&_.includes("next")&&(i.nextButton.disabled=!0,i.nextButton.classList.add("driver-popover-btn-disabled")),_!=null&&_.includes("previous")&&(i.previousButton.disabled=!0,i.previousButton.classList.add("driver-popover-btn-disabled")),_!=null&&_.includes("close")&&(i.closeButton.disabled=!0,i.closeButton.classList.add("driver-popover-btn-disabled"));const w=i.wrapper;w.style.display="block",w.style.left="",w.style.top="",w.style.bottom="",w.style.right="",w.id="driver-popover-content",w.setAttribute("role","dialog"),w.setAttribute("aria-labelledby","driver-popover-title"),w.setAttribute("aria-describedby","driver-popover-description");const v=i.arrow;v.className="driver-popover-arrow";const x=((n=e.popover)==null?void 0:n.popoverClass)||X("popoverClass")||"";w.className=`driver-popover ${x}`.trim(),TR(i.wrapper,I=>{var S,R,P;const N=I.target,L=((S=e.popover)==null?void 0:S.onNextClick)||X("onNextClick"),k=((R=e.popover)==null?void 0:R.onPrevClick)||X("onPrevClick"),W=((P=e.popover)==null?void 0:P.onCloseClick)||X("onCloseClick");if(N.closest(".driver-popover-next-btn"))return L?L(t,e,{config:X(),state:J(),driver:rn()}):js("nextClick");if(N.closest(".driver-popover-prev-btn"))return k?k(t,e,{config:X(),state:J(),driver:rn()}):js("prevClick");if(N.closest(".driver-popover-close-btn"))return W?W(t,e,{config:X(),state:J(),driver:rn()}):js("closeClick")},I=>!(i!=null&&i.description.contains(I))&&!(i!=null&&i.title.contains(I))&&typeof I.className=="string"&&I.className.includes("driver-popover")),ft("popover",i);const A=((r=e.popover)==null?void 0:r.onPopoverRender)||X("onPopoverRender");A&&A(i,{config:X(),state:J(),driver:rn()}),SR(t,e),yR(w);const O=t.classList.contains("driver-dummy-element"),D=gR([w,...O?[]:[t]]);D.length>0&&D[0].focus()}function xR(){const t=J("popover");if(!(t!=null&&t.wrapper))return;const e=t.wrapper.getBoundingClientRect(),n=X("stagePadding")||0,r=X("popoverOffset")||0;return{width:e.width+n+r,height:e.height+n+r,realWidth:e.width,realHeight:e.height}}function I1(t,e){const{elementDimensions:n,popoverDimensions:r,popoverPadding:i,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(n.top-i,window.innerHeight-r.realHeight-s.width),s.width):t==="end"?Math.max(Math.min(n.top-(r==null?void 0:r.realHeight)+n.height+i,window.innerHeight-(r==null?void 0:r.realHeight)-s.width),s.width):t==="center"?Math.max(Math.min(n.top+n.height/2-(r==null?void 0:r.realHeight)/2,window.innerHeight-(r==null?void 0:r.realHeight)-s.width),s.width):0}function C1(t,e){const{elementDimensions:n,popoverDimensions:r,popoverPadding:i,popoverArrowDimensions:s}=e;return t==="start"?Math.max(Math.min(n.left-i,window.innerWidth-r.realWidth-s.width),s.width):t==="end"?Math.max(Math.min(n.left-(r==null?void 0:r.realWidth)+n.width+i,window.innerWidth-(r==null?void 0:r.realWidth)-s.width),s.width):t==="center"?Math.max(Math.min(n.left+n.width/2-(r==null?void 0:r.realWidth)/2,window.innerWidth-(r==null?void 0:r.realWidth)-s.width),s.width):0}function SR(t,e){const n=J("popover");if(!n)return;const{align:r="start",side:i="left"}=(e==null?void 0:e.popover)||{},s=r,o=t.id==="driver-dummy-element"?"over":i,a=X("stagePadding")||0,l=xR(),u=n.arrow.getBoundingClientRect(),d=t.getBoundingClientRect(),h=d.top-l.height;let f=h>=0;const m=window.innerHeight-(d.bottom+l.height);let T=m>=0;const y=d.left-l.width;let _=y>=0;const w=window.innerWidth-(d.right+l.width);let v=w>=0;const x=!f&&!T&&!_&&!v;let A=o;if(o==="top"&&f?v=_=T=!1:o==="bottom"&&T?v=_=f=!1:o==="left"&&_?v=f=T=!1:o==="right"&&v&&(_=f=T=!1),o==="over"){const O=window.innerWidth/2-l.realWidth/2,D=window.innerHeight/2-l.realHeight/2;n.wrapper.style.left=`${O}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${D}px`,n.wrapper.style.bottom="auto"}else if(x){const O=window.innerWidth/2-(l==null?void 0:l.realWidth)/2,D=10;n.wrapper.style.left=`${O}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${D}px`,n.wrapper.style.top="auto"}else if(_){const O=Math.min(y,window.innerWidth-(l==null?void 0:l.realWidth)-u.width),D=I1(s,{elementDimensions:d,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:u});n.wrapper.style.left=`${O}px`,n.wrapper.style.top=`${D}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",A="left"}else if(v){const O=Math.min(w,window.innerWidth-(l==null?void 0:l.realWidth)-u.width),D=I1(s,{elementDimensions:d,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:u});n.wrapper.style.right=`${O}px`,n.wrapper.style.top=`${D}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",A="right"}else if(f){const O=Math.min(h,window.innerHeight-l.realHeight-u.width);let D=C1(s,{elementDimensions:d,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:u});n.wrapper.style.top=`${O}px`,n.wrapper.style.left=`${D}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",A="top"}else if(T){const O=Math.min(m,window.innerHeight-(l==null?void 0:l.realHeight)-u.width);let D=C1(s,{elementDimensions:d,popoverDimensions:l,popoverPadding:a,popoverArrowDimensions:u});n.wrapper.style.left=`${D}px`,n.wrapper.style.bottom=`${O}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",A="bottom"}x?n.arrow.classList.add("driver-popover-arrow-none"):eB(s,A,t)}function eB(t,e,n){const r=J("popover");if(!r)return;const i=n.getBoundingClientRect(),s=xR(),o=r.arrow,a=s.width,l=window.innerWidth,u=i.width,d=i.left,h=s.height,f=window.innerHeight,m=i.top,T=i.height;o.className="driver-popover-arrow";let y=e,_=t;if(e==="top"?(d+u<=0?(y="right",_="end"):d+u-a<=0&&(y="top",_="start"),d>=l?(y="left",_="end"):d+a>=l&&(y="top",_="end")):e==="bottom"?(d+u<=0?(y="right",_="start"):d+u-a<=0&&(y="bottom",_="start"),d>=l?(y="left",_="start"):d+a>=l&&(y="bottom",_="end")):e==="left"?(m+T<=0?(y="bottom",_="end"):m+T-h<=0&&(y="left",_="start"),m>=f?(y="top",_="end"):m+h>=f&&(y="left",_="end")):e==="right"&&(m+T<=0?(y="bottom",_="start"):m+T-h<=0&&(y="right",_="start"),m>=f?(y="top",_="start"):m+h>=f&&(y="right",_="end")),!y)o.classList.add("driver-popover-arrow-none");else{o.classList.add(`driver-popover-arrow-side-${y}`),o.classList.add(`driver-popover-arrow-align-${_}`);const w=n.getBoundingClientRect(),v=o.getBoundingClientRect(),x=X("stagePadding")||0,A=w.left-x<window.innerWidth&&w.right+x>0&&w.top-x<window.innerHeight&&w.bottom+x>0;e==="bottom"&&A&&(v.x>w.x&&v.x+v.width<w.x+w.width?r.wrapper.style.transform="translateY(0)":(o.classList.remove(`driver-popover-arrow-align-${_}`),o.classList.add("driver-popover-arrow-none"),r.wrapper.style.transform=`translateY(-${x/2}px)`))}}function tB(){const t=document.createElement("div");t.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const r=document.createElement("div");r.id="driver-popover-description",r.classList.add("driver-popover-description"),r.style.display="none",r.innerText="Popover description is here";const i=document.createElement("button");i.type="button",i.classList.add("driver-popover-close-btn"),i.setAttribute("aria-label","Close"),i.innerHTML="&times;";const s=document.createElement("footer");s.classList.add("driver-popover-footer");const o=document.createElement("span");o.classList.add("driver-popover-progress-text"),o.innerText="";const a=document.createElement("span");a.classList.add("driver-popover-navigation-btns");const l=document.createElement("button");l.type="button",l.classList.add("driver-popover-prev-btn"),l.innerHTML="&larr; Previous";const u=document.createElement("button");return u.type="button",u.classList.add("driver-popover-next-btn"),u.innerHTML="Next &rarr;",a.appendChild(l),a.appendChild(u),s.appendChild(o),s.appendChild(a),t.appendChild(i),t.appendChild(e),t.appendChild(n),t.appendChild(r),t.appendChild(s),{wrapper:t,arrow:e,title:n,description:r,footer:s,previousButton:l,nextButton:u,closeButton:i,footerButtons:a,progress:o}}function nB(){var t;const e=J("popover");e&&((t=e.wrapper.parentElement)==null||t.removeChild(e.wrapper))}function rB(t={}){$p(t);function e(){X("allowClose")&&d()}function n(){const f=X("overlayClickBehavior");if(X("allowClose")&&f==="close"){d();return}if(typeof f=="function"){const m=J("__activeStep"),T=J("__activeElement");f(T,m,{config:X(),state:J(),driver:rn()});return}f==="nextStep"&&r()}function r(){const f=J("activeIndex"),m=X("steps")||[];if(typeof f>"u")return;const T=f+1;m[T]?u(T):d()}function i(){const f=J("activeIndex"),m=X("steps")||[];if(typeof f>"u")return;const T=f-1;m[T]?u(T):d()}function s(f){(X("steps")||[])[f]?u(f):d()}function o(){var f;if(J("__transitionCallback"))return;const m=J("activeIndex"),T=J("__activeStep"),y=J("__activeElement");if(typeof m>"u"||typeof T>"u"||typeof J("activeIndex")>"u")return;const _=((f=T.popover)==null?void 0:f.onPrevClick)||X("onPrevClick");if(_)return _(y,T,{config:X(),state:J(),driver:rn()});i()}function a(){var f;if(J("__transitionCallback"))return;const m=J("activeIndex"),T=J("__activeStep"),y=J("__activeElement");if(typeof m>"u"||typeof T>"u")return;const _=((f=T.popover)==null?void 0:f.onNextClick)||X("onNextClick");if(_)return _(y,T,{config:X(),state:J(),driver:rn()});r()}function l(){J("isInitialized")||(ft("isInitialized",!0),document.body.classList.add("driver-active",X("animate")?"driver-fade":"driver-simple"),X$(),Fu("overlayClick",n),Fu("escapePress",e),Fu("arrowLeftPress",o),Fu("arrowRightPress",a))}function u(f=0){var m,T,y,_,w,v,x,A;const O=X("steps");if(!O){console.error("No steps to drive through"),d();return}if(!O[f]){d();return}ft("__activeOnDestroyed",document.activeElement),ft("activeIndex",f);const D=O[f],I=O[f+1],S=O[f-1],R=((m=D.popover)==null?void 0:m.doneBtnText)||X("doneBtnText")||"Done",P=X("allowClose"),N=typeof((T=D.popover)==null?void 0:T.showProgress)<"u"?(y=D.popover)==null?void 0:y.showProgress:X("showProgress"),L=(((_=D.popover)==null?void 0:_.progressText)||X("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${f+1}`).replace("{{total}}",`${O.length}`),k=((w=D.popover)==null?void 0:w.showButtons)||X("showButtons"),W=["next","previous",...P?["close"]:[]].filter(F=>!(k!=null&&k.length)||k.includes(F)),se=((v=D.popover)==null?void 0:v.onNextClick)||X("onNextClick"),te=((x=D.popover)==null?void 0:x.onPrevClick)||X("onPrevClick"),oe=((A=D.popover)==null?void 0:A.onCloseClick)||X("onCloseClick");x1({...D,popover:{showButtons:W,nextBtnText:I?void 0:R,disableButtons:[...S?[]:["previous"]],showProgress:N,progressText:L,onNextClick:se||(()=>{I?u(f+1):d()}),onPrevClick:te||(()=>{u(f-1)}),onCloseClick:oe||(()=>{d()}),...(D==null?void 0:D.popover)||{}}})}function d(f=!0){const m=J("__activeElement"),T=J("__activeStep"),y=J("__activeOnDestroyed"),_=X("onDestroyStarted");if(f&&_){const x=!m||(m==null?void 0:m.id)==="driver-dummy-element";_(x?void 0:m,T,{config:X(),state:J(),driver:rn()});return}const w=(T==null?void 0:T.onDeselected)||X("onDeselected"),v=X("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),J$(),nB(),Q$(),H$(),V$(),T1(),m&&T){const x=m.id==="driver-dummy-element";w&&w(x?void 0:m,T,{config:X(),state:J(),driver:rn()}),v&&v(x?void 0:m,T,{config:X(),state:J(),driver:rn()})}y&&y.focus()}const h={isActive:()=>J("isInitialized")||!1,refresh:Ec,drive:(f=0)=>{l(),u(f)},setConfig:$p,setSteps:f=>{T1(),$p({...X(),steps:f})},getConfig:X,getState:J,getActiveIndex:()=>J("activeIndex"),isFirstStep:()=>J("activeIndex")===0,isLastStep:()=>{const f=X("steps")||[],m=J("activeIndex");return m!==void 0&&m===f.length-1},getActiveStep:()=>J("activeStep"),getActiveElement:()=>J("activeElement"),getPreviousElement:()=>J("previousElement"),getPreviousStep:()=>J("previousStep"),moveNext:r,movePrevious:i,moveTo:s,hasNextStep:()=>{const f=X("steps")||[],m=J("activeIndex");return m!==void 0&&!!f[m+1]},hasPreviousStep:()=>{const f=X("steps")||[],m=J("activeIndex");return m!==void 0&&!!f[m-1]},highlight:f=>{l(),x1({...f,popover:f.popover?{showButtons:[],showProgress:!1,progressText:"",...f.popover}:void 0})},destroy:()=>{d(!1)}};return M$(h),h}const b1="bukzbrain-tour-completed",iB=[{path:"/dashboard",step:{element:"#nav-dashboard",popover:{title:"Dashboard",description:"Tu panel principal. Muestra un resumen en tiempo real de tus tareas personales activas y las devoluciones a proveedores en curso, para que tengas todo bajo control de un vistazo.",side:"right",align:"start"}}},{path:"/operations",step:{element:"#nav-operations",popover:{title:"Operaciones",description:"Centro de coordinacin entre reas. Crea y gestiona tareas compartidas organizadas por departamento (General, Devolucin, SAC, Operaciones), comparte archivos y da seguimiento al progreso de cada tarea con subtareas y notas.",side:"right",align:"start"}}},{path:"/tasks",step:{element:"#nav-tasks",popover:{title:"Tareas",description:"Tu tablero personal de productividad. Crea tareas con prioridades (Baja, Media, Alta, Urgente), asigna tareas a otros miembros del equipo, establece fechas de inicio y vencimiento, agrega subtareas y notas, y reorganiza todo con arrastrar y soltar.",side:"right",align:"start"}}},{path:"/instructions",step:{element:"#nav-instructions",popover:{title:"Guas",description:"Base de conocimiento del equipo. Consulta instrucciones detalladas sobre productos, procesos operativos, uso de punto de venta, manejo de inventario, transferencias y ms. Filtra por categora para encontrar lo que necesitas.",side:"right",align:"start"}}},{path:"/requests",step:{element:"#nav-requests",popover:{title:"Solicitudes",description:"Gestiona tus solicitudes de permisos: vacaciones, licencias remuneradas, licencias no remuneradas y das de cumpleaos. Crea solicitudes, selecciona fechas y sigue el estado de aprobacin en un solo lugar.",side:"right",align:"start"}}},{path:"/bookstore-requests",step:{element:"#nav-bookstore",popover:{title:"Solicitud Libreras",description:"Realiza pedidos de materiales y productos para las libreras. Especifica cantidades, selecciona categoras y da seguimiento al estado de cada solicitud hasta su aprobacin y entrega.",side:"right",align:"start"}}}],sB=[{element:"#header-search",popover:{title:"Bsqueda Rpida",description:"Busca cualquier cosa dentro de la aplicacin de forma rpida. Accede a pginas, guas y ms con solo escribir.",side:"bottom",align:"center"}},{element:"#sidebar-theme",popover:{title:"Cambiar Tema",description:"Alterna entre modo claro y oscuro segn tu preferencia. Encontrars este botn aqu en la parte inferior del men. Tu eleccin se guarda automticamente.",side:"right",align:"end"}},{element:"#header-user",popover:{title:"Tu Perfil",description:"Aqu puedes ver tu usuario actual y cerrar sesin cuando lo necesites.",side:"bottom",align:"end"}},{element:"#btn-help-tour",popover:{title:"Botn de Ayuda",description:"Ese soy yo! Puedes iniciar este recorrido en cualquier momento haciendo clic aqu. Disfruta BukzBrain!",side:"bottom",align:"end"}}];function oB(t){const e=localStorage.getItem(b1)==="true";return{startTour:E.useCallback(()=>{const r=iB.filter(a=>t.has(a.path)).map(a=>a.step),i=sB.filter(a=>!a.element||document.querySelector(a.element)),s=[{popover:{title:" Bienvenido a BukzBrain!",description:"Esta es tu plataforma de gestin operativa. Te haremos un recorrido rpido por los mdulos disponibles para ti.",side:"over",align:"center"}},...r,...i];rB({showProgress:!0,animate:!0,smoothScroll:!0,stagePadding:8,stageRadius:8,popoverClass:"bukzbrain-tour",nextBtnText:"Siguiente ",prevBtnText:" Anterior",doneBtnText:"Entendido!",progressText:"{{current}} de {{total}}",steps:s,onDestroyed:()=>{localStorage.setItem(b1,"true")}}).drive()},[t]),hasCompletedTour:e}}const aB=[{title:"Dashboard",path:"/dashboard",icon:E2,tourId:"nav-dashboard"},{title:"Operaciones",path:"/operations",icon:td,tourId:"nav-operations",subItems:[{title:"Tareas entre reas",path:"/operations?tab=tasks",icon:Gw},{title:"Archivos",path:"/operations?tab=files",icon:_o}]},{title:"Tareas",path:"/tasks",icon:Gw,tourId:"nav-tasks"},{title:"Guas",path:"/instructions",icon:RS,tourId:"nav-instructions"},{title:"Solicitudes",path:"/requests",icon:wo,tourId:"nav-requests"},{title:"Solicitud Libreras",path:"/bookstore-requests",icon:A2,tourId:"nav-bookstore"}],Uu=[{title:"Permisos Nav",path:"/nav-admin",icon:b2}];function lB({children:t}){var O;const[e,n]=E.useState(()=>window.innerWidth<768),[r,i]=E.useState(!1),[s,o]=E.useState(()=>window.location.pathname.startsWith("/nav-admin")),a=O$(),l=cs(),u=Nc(),{user:d,loading:h,isAdmin:f}=pR(),{allowedPages:m}=L$(),{startTour:T}=oB(m),[y,_]=E.useState(!1),w=aB.filter(D=>m.has(D.path));E.useEffect(()=>{const D=()=>{window.innerWidth<768&&n(!0)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),E.useEffect(()=>{!h&&!d&&u("/login")},[d,h,u]);const v=async()=>{try{await Tg.signOut(),u("/login")}catch(D){console.error("Error signing out:",D)}},x=(d==null?void 0:d.displayName)||((O=d==null?void 0:d.email)==null?void 0:O.split("@")[0])||"Usuario",A=x.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2);return C.jsxs("div",{className:"flex min-h-screen w-full",children:[C.jsxs("aside",{className:me("fixed top-0 bottom-0 left-0 z-30 flex flex-col bg-sidebar transition-all duration-300",a?"hidden":e?"w-16":"w-60"),children:[C.jsx("div",{className:"h-14 shrink-0"}),C.jsxs("nav",{className:"flex-1 space-y-1 p-2 pt-4",children:[w.map(D=>{const I=l.pathname===D.path,R=D.path==="/operations"&&l.pathname.startsWith("/operations")&&!e;return C.jsxs("div",{className:"space-y-1",children:[C.jsxs(mo,{to:D.path,id:D.tourId,className:me("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 ease-out",I?"bg-primary/15 text-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground hover:translate-x-0.5"),children:[C.jsx(D.icon,{className:me("h-4 w-4 shrink-0 transition-transform duration-200",I&&"text-foreground")}),!e&&C.jsx("span",{children:D.title})]}),R&&D.subItems&&C.jsx("div",{className:"ml-9 space-y-1 animate-in fade-in slide-in-from-top-1 duration-200",children:D.subItems.map(P=>{const N=l.pathname+l.search===P.path||P.path==="/operations?tab=tasks"&&l.pathname==="/operations"&&!l.search;return C.jsxs(mo,{to:P.path,className:me("flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium transition-all duration-200 ease-out",N?"text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50 hover:translate-x-0.5"),children:[C.jsx(P.icon,{className:"h-3.5 w-3.5 transition-transform duration-200"}),C.jsx("span",{children:P.title})]},P.path)})})]},D.path)}),f&&C.jsxs("div",{className:"mt-2 border-t border-border/40 pt-3",children:[C.jsxs("button",{onClick:()=>o(!s),className:me("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 ease-out",Uu.some(D=>l.pathname===D.path)?"bg-primary/15 text-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[C.jsx(Yw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"}),!e&&C.jsxs(C.Fragment,{children:[C.jsx("span",{className:"flex-1 text-left",children:"Admin"}),C.jsx(Kw,{className:me("h-3.5 w-3.5 shrink-0 transition-transform duration-200",s&&"rotate-180")})]})]}),s&&!e&&C.jsx("div",{className:"ml-9 space-y-1 mt-1 animate-in fade-in slide-in-from-top-1 duration-200",children:Uu.map(D=>C.jsxs(mo,{to:D.path,className:me("flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium transition-all duration-200 ease-out",l.pathname===D.path?"text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50 hover:translate-x-0.5"),children:[C.jsx(D.icon,{className:"h-3.5 w-3.5 transition-transform duration-200"}),C.jsx("span",{children:D.title})]},D.path))})]})]}),C.jsx("div",{className:"p-2",children:C.jsxs("div",{id:"sidebar-theme",className:"flex items-center justify-between px-2",children:[!e&&C.jsx(A_,{}),C.jsx(Di,{variant:"ghost",size:"icon",onClick:()=>n(!e),className:"h-9 w-9 rounded-lg",children:C.jsx(Qw,{className:"h-4 w-4"})})]})})]}),a&&C.jsx(w4,{open:r,onOpenChange:i,children:C.jsx(fC,{side:"left",className:"w-72 p-0 bg-sidebar",style:{paddingTop:"env(safe-area-inset-top)"},children:C.jsxs("div",{className:"flex flex-col h-full bg-sidebar",children:[C.jsxs("div",{className:"flex items-baseline px-4 border-b border-border/40",style:{height:"calc(3.5rem + env(safe-area-inset-top))",paddingTop:"env(safe-area-inset-top)"},children:[C.jsx("img",{src:b_,alt:"BUKZ",className:"h-7 object-contain dark:invert"}),C.jsx("span",{className:"ml-2 text-lg font-bold tracking-tight -mb-0.5",children:C.jsx("span",{className:"text-primary italic",children:"Brain"})})]}),C.jsxs("nav",{className:"flex-1 space-y-1 p-2 pt-4 overflow-y-auto",children:[w.map(D=>{const I=l.pathname===D.path;return C.jsxs("div",{className:"space-y-1",children:[C.jsxs(mo,{to:D.path,onClick:()=>i(!1),className:me("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 ease-out",I?"bg-primary/15 text-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground hover:translate-x-0.5"),children:[C.jsx(D.icon,{className:"h-4 w-4 shrink-0 transition-transform duration-200"}),C.jsx("span",{children:D.title})]}),D.subItems&&l.pathname.startsWith(D.path)&&C.jsx("div",{className:"ml-9 space-y-1 animate-in fade-in slide-in-from-top-1 duration-200",children:D.subItems.map(S=>{const R=l.pathname+l.search===S.path||S.path==="/operations?tab=tasks"&&l.pathname==="/operations"&&!l.search;return C.jsxs(mo,{to:S.path,onClick:()=>i(!1),className:me("flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium transition-all duration-200 ease-out",R?"text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50 hover:translate-x-0.5"),children:[C.jsx(S.icon,{className:"h-3.5 w-3.5 transition-transform duration-200"}),C.jsx("span",{children:S.title})]},S.path)})})]},D.path)}),f&&C.jsxs("div",{className:"mt-2 border-t border-border/40 pt-3",children:[C.jsxs("button",{onClick:()=>o(!s),className:me("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 ease-out",Uu.some(D=>l.pathname===D.path)?"bg-primary/15 text-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[C.jsx(Yw,{className:"h-4 w-4 shrink-0 transition-transform duration-200"}),C.jsx("span",{className:"flex-1 text-left",children:"Admin"}),C.jsx(Kw,{className:me("h-3.5 w-3.5 shrink-0 transition-transform duration-200",s&&"rotate-180")})]}),s&&C.jsx("div",{className:"ml-9 space-y-1 mt-1 animate-in fade-in slide-in-from-top-1 duration-200",children:Uu.map(D=>C.jsxs(mo,{to:D.path,onClick:()=>i(!1),className:me("flex items-center gap-2 rounded-md px-3 py-1.5 text-xs font-medium transition-all duration-200 ease-out",l.pathname===D.path?"text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50 hover:translate-x-0.5"),children:[C.jsx(D.icon,{className:"h-3.5 w-3.5 transition-transform duration-200"}),C.jsx("span",{children:D.title})]},D.path))})]})]})]})})}),C.jsxs("header",{className:"fixed top-0 left-0 right-0 z-40 flex h-14 items-center gap-2 md:gap-4 bg-header/80 backdrop-blur-xl px-3 md:px-6 shadow-[0_1px_3px_rgba(0,0,0,0.08),0_4px_12px_rgba(0,0,0,0.04)] dark:shadow-[0_1px_3px_rgba(0,0,0,0.3),0_4px_12px_rgba(0,0,0,0.15)] border-b border-border/30 dark:border-border/20",style:{paddingTop:"env(safe-area-inset-top)",height:"calc(3.5rem + env(safe-area-inset-top))"},children:[a&&C.jsx(Di,{variant:"ghost",size:"icon",onClick:()=>i(!0),className:"h-9 w-9 shrink-0",title:"Abrir men",children:C.jsx(Qw,{className:"h-5 w-5"})}),C.jsxs("button",{onClick:()=>u("/dashboard"),className:"flex items-baseline gap-2 shrink-0",children:[C.jsx("img",{src:b_,alt:"BUKZ",className:"h-7 md:h-8 shrink-0 object-contain dark:invert transition-all duration-500 ease-out hover:scale-[1.02] hover:-translate-y-0.5 hover:brightness-[1.03] active:scale-100"}),C.jsx("span",{className:"text-xl font-bold tracking-tight text-foreground hidden md:inline -mb-1",children:C.jsx("span",{className:"text-primary italic drop-shadow-[0_0.8px_0.8px_rgba(0,0,0,0.8)] dark:drop-shadow-none",children:"Brain"})})]}),C.jsx("div",{className:"flex-1"}),C.jsx("div",{id:"header-search",className:"hidden md:flex md:justify-center md:flex-1 md:max-w-md",children:C.jsx(fV,{})}),C.jsx("div",{className:"flex-1"}),C.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[(a||e)&&C.jsx(A_,{}),C.jsxs("div",{id:"header-user",className:"flex items-center gap-2",children:[C.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-semibold transition-all duration-300 ease-out hover:shadow-md hover:scale-105",children:A}),C.jsx("span",{className:"text-sm font-medium text-foreground hidden md:inline",children:x})]}),C.jsx(Di,{id:"btn-help-tour",variant:"ghost",size:"icon",onClick:()=>_(!0),className:"h-9 w-9 rounded-lg text-muted-foreground hover:text-foreground",title:"Ayuda - Tour guiado",children:C.jsx(_2,{className:"h-4 w-4"})}),C.jsx(Di,{variant:"ghost",size:"icon",onClick:v,className:"h-9 w-9 rounded-lg text-muted-foreground hover:text-foreground",title:"Cerrar sesin",children:C.jsx(x2,{className:"h-4 w-4"})})]})]}),C.jsx("main",{className:me("flex-1 transition-all duration-300 bg-sidebar",a?"ml-0":e?"ml-16":"ml-60"),style:{marginTop:"calc(3.5rem + env(safe-area-inset-top))"},children:C.jsx("div",{className:"h-full bg-background rounded-none p-4 md:p-6 animate-fade-in shadow-sm",children:t})}),C.jsx(V4,{open:y,onOpenChange:_,children:C.jsxs(DC,{children:[C.jsxs(OC,{children:[C.jsx(MC,{children:"Recorrido por BukzBrain"}),C.jsx(VC,{children:"Te guiaremos paso a paso por los mdulos de la aplicacin para que conozcas todas las herramientas disponibles. El recorrido dura menos de un minuto."})]}),C.jsxs(LC,{children:[C.jsx(jC,{children:"Cancelar"}),C.jsx(FC,{onClick:()=>{_(!1),setTimeout(()=>T(),150)},children:"Iniciar recorrido"})]})]})})]})}class A1 extends E.Component{constructor(n){super(n);R0(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught:",n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:C.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4 p-8 text-center",children:[C.jsx("div",{className:"rounded-full bg-destructive/10 p-4",children:C.jsx(P2,{className:"h-8 w-8 text-destructive"})}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Algo sali mal"}),C.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Ocurri un error inesperado. Intenta recargar la pgina o volver al inicio."}),this.state.error&&C.jsx("p",{className:"text-xs text-muted-foreground/60 font-mono mt-2",children:this.state.error.message})]}),C.jsxs("div",{className:"flex gap-3 mt-2",children:[C.jsxs(Di,{variant:"outline",onClick:this.handleReset,children:[C.jsx(I2,{className:"h-4 w-4 mr-2"}),"Reintentar"]}),C.jsx(Di,{onClick:()=>window.location.assign("/BukzBrainv2/dashboard"),children:"Ir al inicio"})]})]}):this.props.children}}function yt({className:t}){return C.jsx("div",{className:me("animate-pulse rounded-lg bg-muted",t)})}function R1({variant:t="default",className:e}){return C.jsxs("div",{className:me("space-y-6",e),children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(yt,{className:"h-8 w-48"}),C.jsx(yt,{className:"h-4 w-72"})]}),t==="cards"&&C.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((n,r)=>C.jsxs("div",{className:"rounded-xl border border-border p-5 space-y-4",children:[C.jsxs("div",{className:"flex justify-between",children:[C.jsx(yt,{className:"h-6 w-6 rounded-md"}),C.jsx(yt,{className:"h-4 w-16"})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(yt,{className:"h-4 w-24"}),C.jsx(yt,{className:"h-3 w-36"})]})]},r))}),t==="table"&&C.jsxs("div",{className:"rounded-xl border border-border overflow-hidden",children:[C.jsx("div",{className:"bg-muted/30 px-6 py-4",children:C.jsx(yt,{className:"h-4 w-full"})}),Array.from({length:5}).map((n,r)=>C.jsxs("div",{className:"flex items-center gap-4 px-6 py-4 border-t border-border",children:[C.jsx(yt,{className:"h-4 w-4 rounded-full"}),C.jsx(yt,{className:"h-4 flex-1"}),C.jsx(yt,{className:"h-4 w-20"}),C.jsx(yt,{className:"h-6 w-16 rounded-full"})]},r))]}),t==="default"&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((n,r)=>C.jsxs("div",{className:"rounded-xl border border-border p-5 space-y-3",children:[C.jsx(yt,{className:"h-6 w-6 rounded-md"}),C.jsx(yt,{className:"h-4 w-20"}),C.jsx(yt,{className:"h-3 w-32"})]},r))}),C.jsx("div",{className:"rounded-xl border border-border p-4 space-y-3",children:Array.from({length:3}).map((n,r)=>C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(yt,{className:"h-3 w-3 rounded-full"}),C.jsx(yt,{className:"h-4 flex-1"}),C.jsx(yt,{className:"h-5 w-14 rounded-full"})]},r))})]})]})}const cB=E.lazy(()=>xr(()=>import("./Dashboard-CqF-VgRq.js"),__vite__mapDeps([0,1,2,3]))),uB=E.lazy(()=>xr(()=>import("./Operations-DPWhyuup.js"),__vite__mapDeps([4,5,6,2,7,8,3,9,10,11,12]))),dB=E.lazy(()=>xr(()=>import("./Tasks-CiLERLDP.js"),__vite__mapDeps([13,5,6,2,7,8,3,14,10,15,11]))),hB=E.lazy(()=>xr(()=>import("./Instructions-DrSOV-Ws.js"),__vite__mapDeps([16,17,12,18,7]))),fB=E.lazy(()=>xr(()=>import("./GuideDetail-CcMo2Ahb.js"),[])),pB=E.lazy(()=>xr(()=>import("./Requests-KKbmG7EH.js"),__vite__mapDeps([19,6,2,7,9,10,20,14,15,21,11,1]))),mB=E.lazy(()=>xr(()=>import("./BookstoreRequests-Ciru4mzl.js"),__vite__mapDeps([22,9,10,8,23,14,15,20,17,11,24,21]))),gB=E.lazy(()=>xr(()=>import("./NavigationAdmin-BcJ56HgU.js"),__vite__mapDeps([25,15,20,23,11,18]))),yB=E.lazy(()=>xr(()=>import("./NotFound-BSUfw84C.js"),[])),vB=E.lazy(()=>xr(()=>import("./Login-eEpbfCVk.js"),__vite__mapDeps([26,24]))),wB=new sM,_B=()=>C.jsx(aM,{client:wB,children:C.jsx(dV,{children:C.jsx(D$,{children:C.jsxs(LL,{children:[C.jsx(hD,{}),C.jsx(KD,{}),C.jsx(iV,{basename:"/BukzBrainv2",children:C.jsx(A1,{children:C.jsx(E.Suspense,{fallback:C.jsx(R1,{}),children:C.jsxs(S_,{children:[C.jsx(en,{path:"/",element:C.jsx(GM,{to:"/login",replace:!0})}),C.jsx(en,{path:"/login",element:C.jsx(vB,{})}),C.jsx(en,{path:"*",element:C.jsx(lB,{children:C.jsx(A1,{children:C.jsx(E.Suspense,{fallback:C.jsx(R1,{}),children:C.jsxs(S_,{children:[C.jsx(en,{path:"/dashboard",element:C.jsx(cB,{})}),C.jsx(en,{path:"/operations",element:C.jsx(uB,{})}),C.jsx(en,{path:"/tasks",element:C.jsx(dB,{})}),C.jsx(en,{path:"/instructions",element:C.jsx(hB,{})}),C.jsx(en,{path:"/instructions/:slug",element:C.jsx(fB,{})}),C.jsx(en,{path:"/requests",element:C.jsx(pB,{})}),C.jsx(en,{path:"/bookstore-requests",element:C.jsx(mB,{})}),C.jsx(en,{path:"/nav-admin",element:C.jsx(gB,{})}),C.jsx(en,{path:"*",element:C.jsx(yB,{})})]})})})})})]})})})})]})})})});Jx(document.getElementById("root")).render(C.jsx(_B,{}));export{PS as $,Xx as A,RS as B,Gw as C,Rc as D,ba as E,tI as F,mL as G,xt as H,LI as I,Oe as J,Aa as K,td as L,a4 as M,HI as N,EV as O,nt as P,MI as Q,H as R,w4 as S,Mh as T,gL as U,yL as V,wy as W,nc as X,oS as Y,SB as Z,mp as _,pR as a,I2 as a0,C2 as a1,PB as a2,NN as a3,wr as a4,Zx as a5,nS as a6,$y as a7,jB as a8,A2 as a9,Hr as aa,YN as ab,Hy as ac,qy as ad,Qy as ae,Ky as af,Gy as ag,dC as ah,uC as ai,lL as aj,b2 as ak,E2 as al,t$ as am,xy as an,cs as ao,b_ as ap,DB as aq,Tg as ar,wo as b,LB as c,me as d,yh as e,Kw as f,Di as g,O$ as h,xB as i,C as j,kB as k,FB as l,UB as m,_c as n,Eg as o,BB as p,MB as q,E as r,X9 as s,$B as t,Nc as u,rt as v,VB as w,fC as x,T4 as y,x4 as z};
